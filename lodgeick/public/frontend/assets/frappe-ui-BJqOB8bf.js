var Sn=Object.defineProperty,Tn=Object.defineProperties;var In=Object.getOwnPropertyDescriptors;var tt=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable;var At=(t,e,n)=>e in t?Sn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G=(t,e)=>{for(var n in e||(e={}))Rt.call(e,n)&&At(t,n,e[n]);if(tt)for(var n of tt(e))Ot.call(e,n)&&At(t,n,e[n]);return t},ne=(t,e)=>Tn(t,In(e));var nt=(t,e)=>{var n={};for(var a in t)Rt.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&tt)for(var a of tt(t))e.indexOf(a)<0&&Ot.call(t,a)&&(n[a]=t[a]);return n};var le=(t,e,n)=>new Promise((a,o)=>{var r=i=>{try{l(n.next(i))}catch(f){o(f)}},s=i=>{try{l(n.throw(i))}catch(f){o(f)}},l=i=>i.done?a(i.value):Promise.resolve(i.value).then(r,s);l((n=n.apply(t,e)).next())});import{d as te,c as A,a as h,o as u,b as m,e as z,t as U,r as H,n as O,f as M,g as Re,h as q,u as k,P as En,w as R,i as P,j as Te,k as Ae,l as zn,m as Pn,p as ke,q as An,s as ht,v as $t,x as ue,T as Rn,y as On,z as Vn,A as Bn,B as Fn,C as Hn,D as be,E as Mt,F as Nn,G as at,H as de,I as ge,J as rt,K as qn,L as Ue,M as Un,N as Wn,O as Ee,Q as Kn,R as pt,S as Y,U as Lt,V as N,W as Ge,X as De,Y as Jn,Z as Xn,_ as Gn,$ as Yn,a0 as Zn,a1 as Qn,a2 as ea,a3 as ta,a4 as na,a5 as Oe,a6 as aa,a7 as oa,a8 as ia,a9 as Jt,aa as ra,ab as Xt,ac as sa,ad as dt,ae as Gt,af as Ve,ag as jt,ah as Dt,ai as We,aj as Ke,ak as Yt,al as la,am as st,an as Be,ao as ft,ap as ot,aq as Vt,ar as Zt,as as Qt,at as Ye,au as Se,av as en,aw as Ne,ax as ma,ay as ua,az as tn,aA as ca,aB as da,aC as fa,aD as ga,aE as St,aF as Ze,aG as ha,aH as pa,aI as ja,aJ as _a,aK as ba,aL as va,aM as nn,aN as an,aO as on,aP as wa,aQ as ya,aR as ka}from"./vendor-D4UtxinR.js";const Qe=(t,e)=>{const n=t.__vccOpts||t;for(const[a,o]of e)n[a]=o;return n},xa="modulepreload",Ca=function(t){return"/assets/lodgeick/frontend/"+t},Bt={},sm=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(i=>{if(i=Ca(i),i in Bt)return;Bt[i]=!0;const f=i.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${d}`))return;const j=document.createElement("link");if(j.rel=f?"stylesheet":xa,f||(j.as="script"),j.crossOrigin="",j.href=i,l&&j.setAttribute("nonce",l),document.head.appendChild(j),f)return new Promise((c,g)=>{j.addEventListener("load",c),j.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${i}`)))})}))}function r(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return o.then(s=>{for(const l of s||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},$a={class:"block w-full"},Ma={class:"ml-2 w-full"},La={class:"flex flex-col md:flex-row md:items-baseline"},Da={key:0,class:"text-lg font-medium text-ink-gray-9"},Sa={class:"mt-1 md:ml-2 md:mt-0"},Ta={class:"mt-3 md:ml-auto md:mt-0"},lm=te({__name:"Alert",props:{title:{},type:{default:"warning"}},setup(t){const e=t,n=A(()=>({warning:"text-ink-gray-7 bg-surface-blue-1"})[e.type]);return(a,o)=>(u(),h("div",$a,[m("div",{class:O(["flex items-start rounded-md px-4 py-3.5 text-base md:px-5",n.value])},[o[0]||(o[0]=m("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{opacity:"0.8","fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 10.5C12.5523 10.5 13 10.9477 13 11.5V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V11.5C11 10.9477 11.4477 10.5 12 10.5ZM13 7.99976C13 7.44747 12.5523 6.99976 12 6.99976C11.4477 6.99976 11 7.44747 11 7.99976V8.1C11 8.65228 11.4477 9.1 12 9.1C12.5523 9.1 13 8.65228 13 8.1V7.99976Z",fill:"#318AD8"})],-1)),m("div",Ma,[m("div",La,[t.title?(u(),h("h3",Da,U(t.title),1)):z("",!0),m("div",Sa,[H(a.$slots,"default")]),m("div",Ta,[H(a.$slots,"actions")])])])],2)]))}}),Ia={class:"rounded-lg border bg-surface-modal shadow-xl"},Ea=te({inheritAttrs:!1,__name:"Popover",props:{show:{type:Boolean,default:void 0},trigger:{default:"click"},hoverDelay:{default:0},leaveDelay:{default:.5},placement:{default:"bottom-start"},popoverClass:{default:""},transition:{default:null},hideOnBlur:{type:Boolean,default:!0},matchTargetWidth:{type:Boolean}},emits:["open","close","update:show"],setup(t,{expose:e,emit:n}){const a=t,o=n;e({open:x,close:D});const r=M(!1),s=M(!1),l=M(null),i=M(null),f=M(null),d=A({get:()=>j.value?a.show:r.value,set:_=>{j.value||(r.value=_),o("update:show",_)}}),j=A(()=>a.show!==void 0),c=A(()=>{const[_]=a.placement.split("-");return _}),g=A(()=>{const[,_]=a.placement.split("-");return _||"center"});function p(_){_ instanceof Event&&(_=void 0),_==null&&(_=!d.value),_=!!_,_?x():D()}function $(){}function x(){d.value=!0}function D(){d.value=!1}function V(_){o("update:show",_),o(_?"open":"close")}function I(){s.value=!0,i.value&&(clearTimeout(i.value),i.value=null),a.trigger==="hover"&&(a.hoverDelay?l.value=setTimeout(()=>{s.value&&x()},Number(a.hoverDelay)*1e3):x())}function w(){s.value=!1,l.value&&(clearTimeout(l.value),l.value=null),a.trigger==="hover"&&(i.value&&clearTimeout(i.value),a.leaveDelay?i.value=setTimeout(()=>{s.value||D()},Number(a.leaveDelay)*1e3):s.value||D())}function v(_){if(!a.hideOnBlur){_.preventDefault();return}const E=_.target;if(f.value&&(f.value.contains(E)||f.value===E)){_.preventDefault();return}}const b=A(()=>a.transition==="default");return Re(()=>{l.value&&clearTimeout(l.value),i.value&&clearTimeout(i.value)}),(_,E)=>(u(),q(k(En),{open:d.value,"onUpdate:open":[E[1]||(E[1]=y=>d.value=y),V]},{default:R(()=>[P(k(zn),{asChild:""},{default:R(()=>[m("div",{ref_key:"anchorRef",ref:f,class:O(["flex",_.$attrs.class]),onMouseover:I,onMouseleave:w},[H(_.$slots,"target",Te(Ae({togglePopover:p,updatePosition:$,open:x,close:D,isOpen:d.value})))],34)]),_:3}),P(k(An),null,{default:R(()=>[P(k(Pn),{side:c.value,align:g.value,style:ke({minWidth:t.matchTargetWidth?"var(--reka-popover-trigger-width)":void 0}),class:O(["PopoverContent",{"has-transition":b.value}]),onMouseover:E[0]||(E[0]=()=>{s.value=!0}),onMouseleave:w,onInteractOutside:v},{default:R(()=>[m("div",{class:O(["relative",["body-container",t.popoverClass]])},[H(_.$slots,"body",Te(Ae({togglePopover:p,updatePosition:$,open:x,close:D,isOpen:d.value})),()=>[m("div",Ia,[H(_.$slots,"body-main",Te(Ae({togglePopover:p,updatePosition:$,open:x,close:D,isOpen:d.value})))])])],2)]),_:3},8,["side","align","style","class"])]),_:3})]),_:3},8,["open"]))}}),Ft=Object.keys(ht.icons),Ie={props:{name:{type:String,required:!0,validator(t){const e=Ft.includes(t);return e||(console.groupCollapsed("[frappe-ui] name property for feather-icon must be one of "),console.dir(Ft),console.groupEnd()),e}},color:{type:String,default:null},strokeWidth:{type:Number,default:1.5}},render(){let t=ht.icons[this.name];return t||(t=ht.icons.circle),$t("svg",ue(t.attrs,{fill:"none",stroke:"currentColor",color:this.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":this.strokeWidth,width:null,height:null,class:[t.attrs.class,"shrink-0"],innerHTML:t.contents},this.$attrs))}},lt=te({__name:"LoadingIndicator",props:{scale:{required:!1,default:100}},setup(t){return(e,n)=>(u(),h("svg",{class:"max-w-xs animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",style:ke(`scale: ${t.scale}%;`),viewBox:"0 0 24 24"},[...n[0]||(n[0]=[m("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),m("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])],4))}}),za={class:"rounded bg-surface-gray-7 px-2 py-1 text-xs text-ink-white shadow-xl"},Ce=te({inheritAttrs:!1,__name:"Tooltip",props:{text:{default:""},hoverDelay:{default:.5},placement:{default:"top"},arrowClass:{default:"fill-surface-gray-7"},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=A(()=>e.hoverDelay*1e3);return(a,o)=>t.disabled?H(a.$slots,"default",{key:0}):(u(),q(k(Rn),{key:1,delayDuration:n.value},{default:R(()=>[P(k(On),null,{default:R(()=>[P(k(Vn),{"as-child":""},{default:R(()=>[H(a.$slots,"default")]),_:3}),P(k(Bn),null,{default:R(()=>[e.text||a.$slots.body||a.$slots.content?(u(),q(k(Fn),{key:0,side:e.placement,"side-offset":4,class:"z-[100]"},{default:R(()=>[H(a.$slots,"body",{},()=>[m("div",za,[H(a.$slots,"content",{},()=>[be(U(e.text),1)])])]),P(k(Hn),{class:O(e.arrowClass),width:8,height:4},null,8,["class"])]),_:3},8,["side"])):z("",!0)]),_:3})]),_:3})]),_:3},8,["delayDuration"]))}}),Pa=["disabled","ariaLabel"],ye=te({inheritAttrs:!1,__name:"Button",props:{theme:{default:"gray"},size:{default:"sm"},variant:{default:"subtle"},label:{},icon:{},iconLeft:{},iconRight:{},tooltip:{},loading:{type:Boolean,default:!1},loadingText:{},disabled:{type:Boolean,default:!1},route:{},link:{}},setup(t,{expose:e}){const n=t,a=Mt(),o=Nn(),r=A(()=>{let g={gray:"text-ink-white bg-surface-gray-7 hover:bg-surface-gray-6 active:bg-surface-gray-5",blue:"text-ink-white bg-blue-500 hover:bg-surface-blue-3 active:bg-blue-700",green:"text-ink-white bg-surface-green-3 hover:bg-green-700 active:bg-green-800",red:"text-ink-white bg-surface-red-5 hover:bg-surface-red-6 active:bg-surface-red-7"}[n.theme],p={gray:"text-ink-gray-8 bg-surface-gray-2 hover:bg-surface-gray-3 active:bg-surface-gray-4",blue:"text-ink-blue-3 bg-surface-blue-2 hover:bg-blue-200 active:bg-blue-300",green:"text-green-800 bg-surface-green-2 hover:bg-green-200 active:bg-green-300",red:"text-red-700 bg-surface-red-2 hover:bg-surface-red-3 active:bg-surface-red-4"}[n.theme],$={gray:"text-ink-gray-8 bg-surface-white bg-surface-white border border-outline-gray-2 hover:border-outline-gray-3 active:border-outline-gray-3 active:bg-surface-gray-4",blue:"text-ink-blue-3 bg-surface-white border border-outline-blue-1 hover:border-blue-400 active:border-blue-400 active:bg-blue-300",green:"text-green-800 bg-surface-white border border-outline-green-2 hover:border-green-500 active:border-green-500 active:bg-green-300",red:"text-red-700 bg-surface-white border border-outline-red-1 hover:border-outline-red-2 active:border-outline-red-2 active:bg-surface-red-3"}[n.theme],x={gray:"text-ink-gray-8 bg-transparent hover:bg-surface-gray-3 active:bg-surface-gray-4",blue:"text-ink-blue-3 bg-transparent hover:bg-blue-200 active:bg-blue-300",green:"text-green-800 bg-transparent hover:bg-green-200 active:bg-green-300",red:"text-red-700 bg-transparent hover:bg-surface-red-3 active:bg-surface-red-4"}[n.theme],D={gray:"focus-visible:ring focus-visible:ring-outline-gray-3",blue:"focus-visible:ring focus-visible:ring-blue-400",green:"focus-visible:ring focus-visible:ring-outline-green-2",red:"focus-visible:ring focus-visible:ring-outline-red-2"}[n.theme],V={subtle:p,solid:g,outline:$,ghost:x}[n.variant],I=`${n.theme}-${n.variant}`,v={"gray-solid":"bg-surface-gray-2 text-ink-gray-4","gray-subtle":"bg-surface-gray-2 text-ink-gray-4","gray-outline":"bg-surface-gray-2 text-ink-gray-4 border border-outline-gray-2","gray-ghost":"text-ink-gray-4","blue-solid":"bg-blue-300 text-ink-white","blue-subtle":"bg-surface-blue-2 text-ink-blue-link","blue-outline":"bg-surface-blue-2 text-ink-blue-link border border-outline-blue-1","blue-ghost":"text-ink-blue-link","green-solid":"bg-surface-green-2 text-ink-green-2","green-subtle":"bg-surface-green-2 text-ink-green-2","green-outline":"bg-surface-green-2 text-ink-green-2 border border-outline-green-2","green-ghost":"text-ink-green-2","red-solid":"bg-surface-red-2 text-ink-red-2","red-subtle":"bg-surface-red-2 text-ink-red-2","red-outline":"bg-surface-red-2 text-ink-red-2 border border-outline-red-1","red-ghost":"text-ink-red-2"}[I],b={sm:"h-7 text-base px-2 rounded",md:"h-8 text-base font-medium px-2.5 rounded",lg:"h-10 text-lg font-medium px-3 rounded-md",xl:"h-11.5 text-xl font-medium px-3.5 rounded-lg","2xl":"h-13 text-2xl font-medium px-3.5 rounded-xl"}[n.size];return f.value&&(b={sm:"h-7 w-7 rounded",md:"h-8 w-8 rounded",lg:"h-10 w-10 rounded-md",xl:"h-11.5 w-11.5 rounded-lg","2xl":"h-13 w-13 rounded-xl"}[n.size]),["inline-flex items-center justify-center gap-2 transition-colors focus:outline-none shrink-0",l.value?v:V,D,b]}),s=A(()=>({sm:"h-4",md:"h-4.5",lg:"h-5",xl:"h-6","2xl":"h-6"})[n.size]),l=A(()=>n.disabled||n.loading),i=A(()=>f.value?n.label:null),f=A(()=>n.icon||a.icon||d.value),d=A(()=>{var $,x,D;if(!a.default)return!1;const g=a.default();if(!Array.isArray(g))return!1;let p=g[0];return!!(typeof(($=p.type)==null?void 0:$.name)=="string"&&((D=(x=p.type)==null?void 0:x.name)!=null&&D.startsWith("lucide-")))}),j=()=>{if(n.route)return o.push(n.route);if(n.link)return window.open(n.link,"_blank")},c=M();return e({rootRef:c}),(g,p)=>{var $;return u(),q(Ce,{text:t.tooltip,disabled:!(($=t.tooltip)!=null&&$.length)},{default:R(()=>[m("button",ue(g.$attrs,{class:r.value,onClick:j,disabled:l.value,ariaLabel:i.value,ref_key:"rootRef",ref:c}),[t.loading?(u(),q(lt,{key:0,class:O({"h-3 w-3":t.size=="sm","h-[13.5px] w-[13.5px]":t.size=="md","h-[15px] w-[15px]":t.size=="lg","h-4.5 w-4.5":t.size=="xl"||t.size=="2xl"})},null,8,["class"])):g.$slots.prefix||t.iconLeft?H(g.$slots,"prefix",{key:1},()=>[t.iconLeft&&typeof t.iconLeft=="string"?(u(),q(Ie,{key:0,name:t.iconLeft,class:O(s.value),"aria-hidden":"true"},null,8,["name","class"])):t.iconLeft?(u(),q(at(t.iconLeft),{key:1,class:O(s.value)},null,8,["class"])):z("",!0)]):z("",!0),t.loading&&t.loadingText?(u(),h(de,{key:2},[be(U(t.loadingText),1)],64)):f.value&&!t.loading?(u(),h(de,{key:3},[t.icon&&typeof t.icon=="string"?(u(),q(Ie,{key:0,name:t.icon,class:O(s.value),"aria-label":t.label},null,8,["name","class","aria-label"])):t.icon?(u(),q(at(t.icon),{key:1,class:O(s.value)},null,8,["class"])):g.$slots.icon?H(g.$slots,"icon",{key:2}):d.value?(u(),h("div",{key:3,class:O(s.value)},[H(g.$slots,"default",{},()=>[be(U(t.label),1)])],2)):z("",!0)],64)):(u(),h("span",{key:4,class:O([{"sr-only":f.value},"truncate"])},[H(g.$slots,"default",{},()=>[be(U(t.label),1)])],2)),H(g.$slots,"suffix",{},()=>[t.iconRight&&typeof t.iconRight=="string"?(u(),q(Ie,{key:0,name:t.iconRight,class:O(s.value),"aria-hidden":"true"},null,8,["name","class"])):t.iconRight?(u(),q(at(t.iconRight),{key:1,class:O(s.value)},null,8,["class"])):z("",!0)])],16,Pa)]),_:3},8,["text","disabled"])}}}),Aa={class:"w-full space-y-1.5"},Ra={key:0,class:"block text-xs text-ink-gray-5"},Oa=["onClick"],Va={class:"flex items-center overflow-hidden"},Ba={key:0,class:"truncate text-base leading-5 text-ink-gray-8"},Fa={key:1,class:"text-base leading-5 text-ink-gray-4"},Ha={key:0,class:"sticky top-0 z-10 flex items-stretch space-x-1.5 bg-surface-modal py-1.5"},Na={class:"relative w-full"},qa={class:"absolute right-0 inline-flex h-7 w-7 items-center justify-center"},Ua={key:0,class:"sticky top-10 truncate bg-surface-modal px-2.5 py-1.5 text-sm font-medium text-ink-gray-5"},Wa={class:"flex flex-1 gap-2 overflow-hidden items-center"},Ka={key:0,class:"flex flex-shrink-0"},Ja={key:1,class:"h-4 w-4"},Xa={class:"flex-1 truncate text-ink-gray-7"},Ga={key:0,class:"ml-2 flex-shrink-0"},Ya={key:0,class:"text-sm text-ink-gray-5"},Za={key:1,class:"rounded-md px-2.5 py-1.5 text-base text-ink-gray-5"},Qa={key:0,class:"border-t p-1"},eo={key:0,class:"flex items-center justify-end"},to={key:1,class:"flex items-center justify-end"},no=te({__name:"Autocomplete",props:{label:{},options:{},hideSearch:{type:Boolean,default:!1},placeholder:{},bodyClasses:{},loading:{type:Boolean},placement:{},showFooter:{type:Boolean},compareFn:{type:Function,default:(t,e)=>t.value===e.value},maxOptions:{default:50},multiple:{type:Boolean,default:!1},modelValue:{type:[Array,null,String,Number,Boolean,Object]}},emits:["update:modelValue","update:query","change"],setup(t,{expose:e,emit:n}){const a=t,o=n,r=M(),s=M(!1),l=M(""),i=A(()=>{var B;if(!((B=a.options)!=null&&B.length))return[];let y;return b(a.options[0])?y=a.options:y=[{group:"",items:d(a.options),hideLabel:!1}],y.map((K,me)=>({key:me,group:K.group,hideLabel:K.hideLabel,items:j(d(K.items||[]))})).filter(K=>K.items.length>0)}),f=A(()=>i.value.flatMap(y=>y.items)),d=y=>y?y.map(B=>v(B)?B:{label:B.toString(),value:B}):[],j=y=>l.value?y.filter(B=>B.label.toLowerCase().includes(l.value.trim().toLowerCase())||B.value.toString().toLowerCase().includes(l.value.trim().toLowerCase())):y,c=A({get(){if(!a.multiple)return g(a.modelValue)||p(a.modelValue);const y=a.modelValue||[];return v(y[0])?y:y.map(B=>g(B)||p(B))},set(y){if(l.value="",y&&!a.multiple&&(s.value=!1),!a.multiple){o("update:modelValue",y);return}o("update:modelValue",y)}}),g=y=>{if(!y)return y;const B=v(y)?y.value:y;return f.value.find(K=>K.value===B)},p=y=>v(y)?y:{label:y,value:y},$=y=>v(y)?(y==null?void 0:y.label)||(y==null?void 0:y.value):y,x=A(()=>c.value?a.multiple?c.value.map(y=>$(y)).join(", "):$(c.value):""),D=y=>{if(!c.value)return!1;const B=v(y)?y.value:y;return a.multiple?c.value.find(K=>v(K)?K.value===B:K===B):c.value===B},V=A(()=>{var y;return a.multiple?f.value.length===((y=c.value)==null?void 0:y.length):!1}),I=()=>{c.value=f.value},w=()=>{c.value=a.multiple?[]:void 0},v=y=>typeof y=="object",b=y=>typeof y=="object"&&"items"in y&&"group"in y;ge(()=>l.value,()=>{o("update:query",l.value)}),ge(()=>s.value,()=>{s.value&&rt(()=>{var y;return(y=r.value)==null?void 0:y.$el.focus()})});const _=M();return e({rootRef:_,togglePopover:()=>{s.value=!s.value}}),(y,B)=>(u(),q(k(qn),{modelValue:c.value,"onUpdate:modelValue":B[2]||(B[2]=K=>c.value=K),multiple:t.multiple,nullable:"",by:t.compareFn},{default:R(({open:K})=>[P(k(Ea),{class:"w-full",show:s.value,"onUpdate:show":B[1]||(B[1]=me=>s.value=me),ref_key:"rootRef",ref:_,placement:t.placement,"match-target-width":!0},{target:R(({open:me,togglePopover:ae,close:ie})=>[H(y.$slots,"target",Te(Ae({open:me,close:ie,togglePopover:ae,isOpen:K})),()=>[m("div",Aa,[a.label?(u(),h("label",Ra,U(a.label),1)):z("",!0),m("button",{class:O(["flex h-7 w-full items-center justify-between gap-2 rounded bg-surface-gray-2 px-2 py-1 transition-colors hover:bg-surface-gray-3 border border-transparent focus:border-outline-gray-4 focus:outline-none focus:ring-2 focus:ring-outline-gray-3",{"bg-surface-gray-3":K}]),onClick:()=>ae()},[m("div",Va,[H(y.$slots,"prefix"),x.value?(u(),h("span",Ba,U(x.value),1)):(u(),h("span",Fa,U(t.placeholder||""),1)),H(y.$slots,"suffix")]),P(Ie,{name:"chevron-down",class:"h-4 w-4 text-ink-gray-5","aria-hidden":"true"})],10,Oa)])])]),body:R(({isOpen:me,togglePopover:ae})=>[Ue(m("div",null,[m("div",{class:O(["relative mt-1 rounded-lg bg-surface-modal text-base shadow-2xl",t.bodyClasses])},[P(k(Un),{class:O(["max-h-[15rem] overflow-y-auto px-1.5 pb-1.5",{"pt-1.5":t.hideSearch}]),static:""},{default:R(()=>[t.hideSearch?z("",!0):(u(),h("div",Ha,[m("div",Na,[P(k(Wn),{ref_key:"searchInput",ref:r,class:"form-input w-full focus:bg-surface-gray-3 hover:bg-surface-gray-4 text-ink-gray-8",type:"text",value:l.value,onChange:B[0]||(B[0]=ie=>l.value=ie.target.value),autocomplete:"off",placeholder:"Search"},null,8,["value"]),m("div",qa,[a.loading?(u(),q(lt,{key:0,class:"h-4 w-4 text-ink-gray-5"})):(u(),h("button",{key:1,onClick:w},[P(Ie,{name:"x",class:"w-4 text-ink-gray-8"})]))])])])),(u(!0),h(de,null,Ee(i.value,ie=>Ue((u(),h("div",{key:ie.key},[ie.group&&!ie.hideLabel?(u(),h("div",Ua,U(ie.group),1)):z("",!0),(u(!0),h(de,null,Ee(ie.items.slice(0,a.maxOptions),(Q,se)=>(u(),q(k(Kn),{as:"template",key:se,value:Q,disabled:Q.disabled},{default:R(({active:he,selected:xe})=>[m("li",{class:O(["flex cursor-pointer items-center justify-between rounded px-2.5 py-1.5 text-base",{"bg-surface-gray-3":he,"opacity-50":Q.disabled}])},[m("div",Wa,[y.$slots["item-prefix"]||a.multiple?(u(),h("div",Ka,[H(y.$slots,"item-prefix",ue({ref_for:!0},{active:he,selected:xe,option:Q}),()=>[D(Q)?(u(),q(Ie,{key:0,name:"check",class:"h-4 w-4 text-ink-gray-7"})):(u(),h("div",Ja))])])):z("",!0),m("span",Xa,U($(Q)),1)]),y.$slots["item-suffix"]||Q!=null&&Q.description?(u(),h("div",Ga,[H(y.$slots,"item-suffix",ue({ref_for:!0},{active:he,selected:xe,option:Q}),()=>[Q!=null&&Q.description?(u(),h("div",Ya,U(Q.description),1)):z("",!0)])])):z("",!0)],2)]),_:2},1032,["value","disabled"]))),128))])),[[pt,ie.items.length>0]])),128)),i.value.length==0?(u(),h("li",Za," No results found ")):z("",!0)]),_:3},8,["class"]),y.$slots.footer||a.showFooter||t.multiple?(u(),h("div",Qa,[H(y.$slots,"footer",Te(Ae({togglePopover:ae})),()=>[t.multiple?(u(),h("div",eo,[V.value?z("",!0):(u(),q(k(ye),{key:0,label:"Select All",onClick:Y(I,["stop"])})),V.value?(u(),q(k(ye),{key:1,label:"Clear All",onClick:Y(w,["stop"])})):z("",!0)])):(u(),h("div",to,[P(k(ye),{label:"Clear",onClick:Y(w,["stop"])})]))])])):z("",!0)],2)],512),[[pt,me]])]),_:2},1032,["show","placement"])]),_:3},8,["modelValue","multiple","by"]))}}),mm=te({__name:"Badge",props:{theme:{default:"gray"},size:{default:"md"},variant:{default:"subtle"},label:{}},setup(t){const e=t,n=A(()=>{let a={gray:"text-ink-white bg-surface-gray-7",blue:"text-ink-blue-1 bg-surface-blue-2",green:"text-ink-green-1 bg-surface-green-3",orange:"text-ink-amber-1 bg-surface-amber-2",red:"text-ink-red-1 bg-surface-red-4"}[e.theme],o={gray:"text-ink-gray-6 bg-surface-gray-2",blue:"text-ink-blue-2 bg-surface-blue-1",green:"text-ink-green-3 bg-surface-green-2",orange:"text-ink-amber-3 bg-surface-amber-1",red:"text-ink-red-4 bg-surface-red-1"}[e.theme],r={gray:"text-ink-gray-6 bg-transparent border border-outline-gray-1",blue:"text-ink-blue-2 bg-transparent border border-outline-blue-1",green:"text-ink-green-3 bg-transparent border border-outline-green-2",orange:"text-ink-amber-3 bg-transparent border border-outline-amber-2",red:"text-ink-red-4 bg-transparent border border-outline-red-2"}[e.theme],s={gray:"text-ink-gray-6 bg-transparent",blue:"text-ink-blue-2 bg-transparent",green:"text-ink-green-3 bg-transparent",orange:"text-ink-amber-3 bg-transparent",red:"text-ink-red-4 bg-transparent"}[e.theme],l={subtle:o,solid:a,outline:r,ghost:s}[e.variant],i={sm:"h-4 text-xs px-1.5",md:"h-5 text-xs px-1.5",lg:"h-6 text-sm px-2"}[e.size];return[l,i]});return(a,o)=>(u(),h("div",{class:O(["inline-flex select-none items-center gap-1 rounded-full",n.value])},[a.$slots.prefix?(u(),h("div",{key:0,class:O([e.size=="lg"?"max-h-6":"max-h-4"])},[H(a.$slots,"prefix")],2)):z("",!0),H(a.$slots,"default",{},()=>{var r;return[be(U((r=e.label)==null?void 0:r.toString()),1)]}),a.$slots.suffix?(u(),h("div",{key:1,class:O([e.size=="lg"?"max-h-6":"max-h-4"])},[H(a.$slots,"suffix")],2)):z("",!0)],2))}});let ao=0;function oo(){return++ao}function rn(){return"frappe-ui-"+oo()}const io={name:"Loading",props:{text:{type:String,default:"Loading..."}},components:{LoadingIndicator:lt}},ro={class:"flex items-center text-base text-ink-gray-4"};function so(t,e,n,a,o,r){const s=Lt("LoadingIndicator");return u(),h("div",ro,[P(s,{class:"-ml-1 mr-2 h-3 w-3"}),be(" "+U(n.text),1)])}const lo=Qe(io,[["render",so]]),mo={name:"Card",props:{title:{type:String},subtitle:{type:String},loading:{type:Boolean}},components:{LoadingText:lo}},uo={class:"flex flex-col rounded-lg border bg-white px-6 py-5 shadow"},co={class:"flex items-baseline justify-between"},fo={class:"flex items-baseline space-x-2"},go={key:0,class:"flex items-center space-x-2"},ho={class:"text-xl font-semibold"},po={key:0,class:"flex items-center space-x-2"},jo={key:0,class:"mt-1.5 text-base text-gray-600"},_o={key:1,class:"mt-4 flex flex-auto flex-col items-center justify-center rounded-md"},bo={key:2,class:"mt-4 flex-auto overflow-auto"};function vo(t,e,n,a,o,r){const s=Lt("LoadingText");return u(),h("div",uo,[m("div",co,[m("div",fo,[t.$slots["actions-left"]?(u(),h("div",go,[H(t.$slots,"actions-left")])):z("",!0),m("h2",ho,U(n.title),1)]),t.$slots.actions?(u(),h("div",po,[H(t.$slots,"actions")])):z("",!0)]),n.subtitle?(u(),h("p",jo,U(n.subtitle),1)):z("",!0),n.loading?(u(),h("div",_o,[P(s)])):t.$slots.default?(u(),h("div",bo,[H(t.$slots,"default")])):z("",!0)])}const um=Qe(mo,[["render",vo]]),wo={class:"lucide lucide-check",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function yo(t,e){return u(),h("svg",wo,[...e[0]||(e[0]=[m("path",{d:"M20 6 9 17l-5-5"},null,-1)])])}const ko=N({name:"lucide-check",render:yo}),xo={class:"lucide lucide-chevron-down",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Co(t,e){return u(),h("svg",xo,[...e[0]||(e[0]=[m("path",{d:"m6 9 6 6 6-6"},null,-1)])])}N({name:"lucide-chevron-down",render:Co});const $o=["disabled","id","checked"],Mo=["for"],Lo=te({__name:"Checkbox",props:{size:{default:"sm"},label:{},checked:{type:Boolean},disabled:{type:Boolean},padding:{type:Boolean,default:!1},modelValue:{type:[Boolean,Number]},id:{}},setup(t){var s;const e=t,n=Ge(),a=(s=e.id)!=null?s:rn(),o=A(()=>[{sm:"text-base font-medium",md:"text-lg font-medium"}[e.size],e.disabled?"text-ink-gray-4":"text-ink-gray-8","select-none"]),r=A(()=>{let l=e.disabled?"border-outline-gray-2 bg-surface-menu-bar text-ink-gray-3":"border-outline-gray-4 text-ink-gray-9 hover:border-gray-600 focus:ring-offset-0 focus:border-gray-900 active:border-gray-700 transition",i=e.disabled?"":e.padding?"focus:ring-0":"hover:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 active:bg-surface-gray-2",f={sm:"w-3.5 h-3.5",md:"w-4 h-4"}[e.size];return[l,i,f]});return(l,i)=>(u(),h("div",{class:O(["inline-flex space-x-2 rounded transition",{"px-2.5 py-1.5":t.padding&&t.size==="sm","px-3 py-2":t.padding&&t.size==="md","focus-within:bg-surface-gray-2 focus-within:ring-2 focus-within:ring-outline-gray-3 hover:bg-surface-gray-3 active:bg-surface-gray-4":t.padding&&!t.disabled}])},[m("input",ue({class:["rounded-sm mt-[1px]",r.value],type:"checkbox",disabled:t.disabled,id:k(a),checked:!!t.modelValue,onChange:i[0]||(i[0]=f=>l.$emit("update:modelValue",f.target.checked))},k(n)),null,16,$o),t.label?(u(),h("label",{key:0,class:O(["block",o.value]),for:k(a)},U(t.label),11,Mo)):z("",!0)],2))}});function mt(t,e,n){var a;return function(){var o=this,r=arguments,s=function(){a=void 0,t.apply(o,r)};clearTimeout(a),a=window.setTimeout(s,e)}}const Do=["type","placeholder","disabled","id","value","required"],sn=te({inheritAttrs:!1,__name:"TextInput",props:{type:{default:"text"},size:{default:"sm"},variant:{default:"subtle"},placeholder:{},disabled:{type:Boolean},id:{},modelValue:{},debounce:{},required:{type:Boolean}},emits:["update:modelValue"],setup(t,{expose:e,emit:n}){const a=t,o=n,r=Mt(),s=Ge(),l=A(()=>Object.fromEntries(Object.entries(s).filter(([$])=>$!=="class"&&$!=="style"))),i=M(null);e({el:i});const f=A(()=>a.disabled?"text-ink-gray-5":"text-ink-gray-8"),d=A(()=>{let $={sm:"text-base rounded h-7",md:"text-base rounded h-8",lg:"text-lg rounded-md h-10",xl:"text-xl rounded-md h-10"}[a.size],x={sm:["py-1.5",r.prefix?"pl-8":"pl-2",r.suffix?"pr-8":"pr-2"],md:["py-1.5",r.prefix?"pl-9":"pl-2.5",r.suffix?"pr-9":"pr-2.5"],lg:["py-1.5",r.prefix?"pl-10":"pl-3",r.suffix?"pr-10":"pr-3"],xl:["py-1.5",r.prefix?"pl-10":"pl-3",r.suffix?"pr-10":"pr-3"]}[a.size],D=a.disabled?"disabled":a.variant,V={subtle:"border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",outline:"border border-outline-gray-2 bg-surface-white placeholder-ink-gray-4 hover:border-outline-gray-3 hover:shadow-sm focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",disabled:["border bg-surface-gray-1 placeholder-ink-gray-3",a.variant==="outline"?"border-outline-gray-2":"border-transparent"],ghost:"border-0 focus:ring-0 focus-visible:ring-0"}[D];return[$,x,V,f.value,"transition-colors w-full dark:[color-scheme:dark]"]});let j=A(()=>({sm:"pl-2",md:"pl-2.5",lg:"pl-3",xl:"pl-3"})[a.size]),c=A(()=>({sm:"pr-2",md:"pr-2.5",lg:"pr-3",xl:"pr-3"})[a.size]),g=$=>{o("update:modelValue",$)};a.debounce&&(g=mt(g,a.debounce));let p=$=>{g($.target.value)};return($,x)=>(u(),h("div",{class:O(["relative flex items-center",k(s).class]),style:ke(k(s).style)},[$.$slots.prefix?(u(),h("div",{key:0,class:O(["absolute inset-y-0 left-0 flex items-center",f.value,k(j)])},[H($.$slots,"prefix")],2)):z("",!0),m("input",ue({ref_key:"inputRef",ref:i,type:t.type,placeholder:t.placeholder,class:d.value,disabled:t.disabled,id:t.id,value:t.modelValue,required:t.required,onInput:x[0]||(x[0]=(...D)=>k(p)&&k(p)(...D)),onChange:x[1]||(x[1]=(...D)=>k(p)&&k(p)(...D))},l.value),null,16,Do),$.$slots.suffix?(u(),h("div",{key:1,class:O(["absolute inset-y-0 right-0 flex items-center",f.value,k(c)])},[H($.$slots,"suffix")],2)):z("",!0)],6))}});let ln={};function cm(t,e){ln[t]=e}function we(t){var e;return(e=ln[t])!=null?e:null}De.extend(Jn);De.extend(Xn);De.extend(Gn);De.extend(Yn);De.extend(Zn);De.extend(Qn);De.extend(ea);De.extend(ta);De.extend(na);const So={class:"lucide lucide-x",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function To(t,e){return u(),h("svg",So,[...e[0]||(e[0]=[m("path",{d:"M18 6 6 18"},null,-1),m("path",{d:"m6 6 12 12"},null,-1)])])}const et=N({name:"lucide-x",render:To}),Io={class:"bg-surface-modal px-4 pb-6 pt-5 sm:px-6"},Eo={class:"flex"},zo={class:"w-full flex-1"},Po={class:"mb-6 flex items-center justify-between"},Ao={class:"flex items-center space-x-2"},Ro={class:"text-2xl font-semibold leading-6 text-ink-gray-9"},Oo={class:"text-p-base text-ink-gray-7"},Vo={key:0,class:"px-4 pb-7 pt-4 sm:px-6"},Bo={class:"space-y-2"},Fo=te({__name:"Dialog",props:{modelValue:{type:Boolean},options:{default:()=>({})},disableOutsideClickToClose:{type:Boolean,default:!1}},emits:["update:modelValue","close","after-leave"],setup(t,{emit:e}){const n=t,a=e,o=A(()=>{let c=n.options.actions;return c!=null&&c.length?c.map(g=>{let p=Oe(ne(G({},g),{loading:!1,onClick:g.onClick?()=>le(this,null,function*(){p.loading=!0;try{if(g.onClick){let $=()=>{console.warn("Value passed to onClick is a context object. Please use context.close() instead of context() to close the dialog."),l()};$.close=l,yield g.onClick($)}}finally{p.loading=!1}}):l}));return p}):[]}),r=A({get(){return n.modelValue},set(c){a("update:modelValue",c),c||a("close")}});function s(c){r.value=c}function l(){r.value=!1}const i=A(()=>{var g;if(!((g=n.options)!=null&&g.icon))return null;let c=n.options.icon;return typeof c=="string"&&(c={name:c}),c}),f=A(()=>{var p;const c=((p=n.options)==null?void 0:p.position)||"center";return{center:"justify-center",top:"pt-[20vh]"}[c]}),d=A(()=>{var p;const c=(p=i.value)==null?void 0:p.appearance;return c?{warning:"bg-surface-amber-2",info:"bg-surface-blue-2",danger:"bg-surface-red-2",success:"bg-surface-green-2"}[c]:"bg-surface-gray-2"}),j=A(()=>{var p;const c=(p=i.value)==null?void 0:p.appearance;return c?{warning:"text-ink-amber-3",info:"text-ink-blue-3",danger:"text-ink-red-4",success:"text-ink-green-3"}[c]:"text-ink-gray-5"});return(c,g)=>(u(),q(k(sa),{open:r.value,"onUpdate:open":[g[3]||(g[3]=p=>r.value=p),s]},{default:R(()=>[P(k(aa),null,{default:R(()=>[P(k(oa),{class:"fixed inset-0 bg-black-overlay-200 backdrop-filter backdrop-blur-[12px] overflow-y-auto dialog-overlay outline-none","data-dialog":t.options.title,onAfterLeave:g[2]||(g[2]=p=>c.$emit("after-leave"))},{default:R(()=>[m("div",{class:O(["flex min-h-screen flex-col items-center px-4 py-4 text-center",f.value])},[P(k(ia),{class:O(["my-8 inline-block w-full transform overflow-hidden rounded-xl bg-surface-modal text-left align-middle shadow-xl dialog-content focus-visible:outline-none",{"max-w-7xl":t.options.size==="7xl","max-w-6xl":t.options.size==="6xl","max-w-5xl":t.options.size==="5xl","max-w-4xl":t.options.size==="4xl","max-w-3xl":t.options.size==="3xl","max-w-2xl":t.options.size==="2xl","max-w-xl":t.options.size==="xl","max-w-lg":t.options.size==="lg"||!t.options.size,"max-w-md":t.options.size==="md","max-w-sm":t.options.size==="sm","max-w-xs":t.options.size==="xs"}]),onEscapeKeyDown:g[0]||(g[0]=p=>l()),onInteractOutside:g[1]||(g[1]=p=>{n.disableOutsideClickToClose&&p.preventDefault()})},{default:R(()=>[H(c.$slots,"body",{},()=>[H(c.$slots,"body-main",{},()=>[m("div",Io,[m("div",Eo,[m("div",zo,[H(c.$slots,"body-header",{},()=>[m("div",Po,[m("div",Ao,[i.value?(u(),h("div",{key:0,class:O(["flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full",d.value])},[P(Ie,{name:i.value.name,class:O(["h-4 w-4",j.value]),"aria-hidden":"true"},null,8,["name","class"])],2)):z("",!0),P(k(Jt),{as:"header"},{default:R(()=>[H(c.$slots,"body-title",{},()=>[m("h3",Ro,U(t.options.title||"Untitled"),1)],!0)]),_:3})]),P(k(ra),{"as-child":""},{default:R(()=>[P(k(ye),{variant:"ghost",onClick:l},{icon:R(()=>[P(k(et),{class:"h-4 w-4 text-ink-gray-9"})]),_:1})]),_:1})])],!0),H(c.$slots,"body-content",{},()=>[t.options.message?(u(),q(k(Xt),{key:0,"as-child":""},{default:R(()=>[m("p",Oo,U(t.options.message),1)]),_:1})):z("",!0)],!0)])])])],!0),o.value.length||c.$slots.actions?(u(),h("div",Vo,[H(c.$slots,"actions",Te(Ae({close:l})),()=>[m("div",Bo,[(u(!0),h(de,null,Ee(o.value,p=>(u(),q(k(ye),ue({class:"w-full",key:p.label,disabled:p.disabled},{ref_for:!0},p),{default:R(()=>[be(U(p.label),1)]),_:2},1040,["disabled"]))),128))])],!0)])):z("",!0)],!0)]),_:3},8,["class"])],2)]),_:3},8,["data-dialog"])]),_:3})]),_:3},8,["open"]))}}),mn=Qe(Fo,[["__scopeId","data-v-794cfcba"]]),un=mn;un.Title=Jt;un.Description=Xt;M([]);const Ho=["innerHTML"],No=te({__name:"ErrorMessage",props:{message:{}},setup(t){const e=t,n=A(()=>e.message?e.message instanceof Error?e.message.messages||e.message.message:e.message:"");return(a,o)=>t.message?(u(),h("div",{key:0,class:"whitespace-pre-line text-sm text-ink-red-4",role:"alert",innerHTML:n.value},null,8,Ho)):z("",!0)}}),qo={class:"relative flex items-center"},Uo=["disabled","id","value"],Wo=["value","disabled","selected"],Tt=te({inheritAttrs:!1,__name:"Select",props:{size:{default:"sm"},variant:{default:"subtle"},placeholder:{},disabled:{type:Boolean},id:{},modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,a=e;Mt();const o=Ge();function r(c){a("update:modelValue",c.target.value)}const s=A(()=>{var c;return((c=n.options)==null?void 0:c.map(g=>typeof g=="string"?{label:g,value:g}:g).filter(Boolean))||[]}),l=A(()=>n.disabled?"text-ink-gray-4":"text-ink-gray-8"),i=A(()=>({sm:"text-base",md:"text-base",lg:"text-lg",xl:"text-xl"})[n.size]),f=A(()=>({sm:"pl-2 pr-5",md:"pl-2.5 pr-5.5",lg:"pl-3 pr-6",xl:"pl-3 pr-6"})[n.size]),d=A(()=>{let c={sm:"rounded h-7",md:"rounded h-8",lg:"rounded-md h-10",xl:"rounded-md h-10"}[n.size],g=n.disabled?"disabled":n.variant,p={subtle:"border border-[--surface-gray-2] bg-surface-gray-2 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:border-outline-gray-4 focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",outline:"border border-outline-gray-2 bg-surface-white hover:border-outline-gray-3 focus:border-outline-gray-4 focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",ghost:"bg-transparent border-transparent hover:bg-surface-gray-3 focus:bg-surface-gray-3 focus:border-outline-gray-4 focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",disabled:["border",n.variant!=="ghost"?"bg-surface-gray-1":"",n.variant==="outline"?"border-outline-gray-2":"border-transparent"]}[g];return[c,i.value,f.value,p,l.value,"transition-colors w-full py-0 truncate"]});let j=A(()=>({sm:"pl-2",md:"pl-2.5",lg:"pl-3",xl:"pl-3"})[n.size]);return(c,g)=>(u(),h("div",qo,[c.$slots.prefix?(u(),h("div",{key:0,class:O(["absolute inset-y-0 left-0 flex items-center",l.value,k(j)])},[H(c.$slots,"prefix")],2)):z("",!0),t.placeholder?Ue((u(),h("div",{key:1,class:O(["pointer-events-none absolute text-ink-gray-4 truncate w-full",[i.value,f.value]])},U(t.placeholder),3)),[[pt,!t.modelValue]]):z("",!0),m("select",ue({class:d.value,disabled:t.disabled,id:t.id,value:t.modelValue,onChange:r},k(o)),[(u(!0),h(de,null,Ee(s.value,p=>(u(),h("option",{key:p.value,value:p.value,disabled:p.disabled||!1,selected:t.modelValue===p.value},U(p.label),9,Wo))),128))],16,Uo)]))}}),Ko={class:"space-y-1.5"},Jo=["for"],Xo=["placeholder","disabled","id","value","rows"],Go=te({__name:"Textarea",props:{size:{default:"sm"},variant:{default:"subtle"},placeholder:{},disabled:{type:Boolean},id:{},modelValue:{},debounce:{},rows:{default:3},label:{}},emits:["update:modelValue"],setup(t,{expose:e,emit:n}){const a=t,o=n,r=Ge(),s=M(null),l=A(()=>{let j={sm:"text-base rounded",md:"text-base rounded",lg:"text-lg rounded-md",xl:"text-xl rounded-md"}[a.size],c={sm:["py-1.5 px-2"],md:["py-1.5 px-2.5"],lg:["py-1.5 px-3"],xl:["py-1.5 px-3"]}[a.size],g=a.disabled?"disabled":a.variant,p={subtle:"border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",outline:"border border-outline-gray-2 bg-surface-white placeholder-ink-gray-4 hover:border-outline-gray-3 hover:shadow-sm focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",disabled:["border bg-surface-gray-1 placeholder-ink-gray-3",a.variant==="outline"?"border-outline-gray-2":"border-transparent"]}[g];return[j,c,p,a.disabled?"text-ink-gray-5":"text-ink-gray-8","transition-colors w-full block"]}),i=A(()=>[{sm:"text-xs",md:"text-base",lg:"text-lg",xl:"text-xl"}[a.size],"text-ink-gray-5"]);let f=j=>{o("update:modelValue",j)};a.debounce&&(f=mt(f,a.debounce));let d=j=>{f(j.target.value)};return e({el:s}),(j,c)=>(u(),h("div",Ko,[t.label?(u(),h("label",{key:0,class:O(["block",i.value]),for:t.id},U(t.label),11,Jo)):z("",!0),m("textarea",ue({ref_key:"textareaRef",ref:s,placeholder:t.placeholder,class:l.value,disabled:t.disabled,id:t.id,value:t.modelValue,rows:t.rows,onInput:c[0]||(c[0]=(...g)=>k(d)&&k(d)(...g)),onChange:c[1]||(c[1]=(...g)=>k(d)&&k(d)(...g))},k(r)),null,16,Xo)]))}}),Yo=["for"],Zo=te({__name:"FormLabel",props:{label:{},size:{default:"sm"},id:{},required:{type:Boolean}},setup(t){const e=t,n=A(()=>[{sm:"text-xs",md:"text-base"}[e.size],"text-ink-gray-5"]);return(a,o)=>(u(),h("label",{class:O(["block",n.value]),for:t.id},[be(U(t.label)+" ",1),t.required?(u(),h(de,{key:0},[o[0]||(o[0]=m("span",{class:"text-ink-red-3 select-none","aria-hidden":"true"},"*",-1)),o[1]||(o[1]=m("span",{class:"sr-only"},"(required)",-1))],64)):z("",!0)],10,Yo))}}),Qo={inheritAttrs:!1},dm=te(ne(G({},Qo),{__name:"FormControl",props:{label:{},description:{},type:{default:"text"},size:{default:"sm"},variant:{default:"subtle"},required:{type:Boolean}},setup(t){const e=rn(),n=t,a=Ge(),o=A(()=>{let s={};for(let l in a)l!=="class"&&l!=="style"&&(s[l]=a[l]);return s}),r=A(()=>[{sm:"text-xs",md:"text-base"}[n.size],"text-ink-gray-5"]);return(s,l)=>t.type!="checkbox"?(u(),h("div",{key:0,class:O(["space-y-1.5",k(a).class]),style:ke(k(a).style)},[t.label?(u(),q(Zo,{key:0,label:t.label,size:t.size,id:k(e),required:t.required},null,8,["label","size","id","required"])):z("",!0),t.type==="select"?(u(),q(k(Tt),ue({key:1,id:k(e)},ne(G({},o.value),{size:t.size,variant:t.variant})),dt({_:2},[s.$slots.prefix?{name:"prefix",fn:R(()=>[H(s.$slots,"prefix")]),key:"0"}:void 0]),1040,["id"])):t.type==="autocomplete"?(u(),q(k(no),Te(ue({key:2},G({},o.value))),dt({_:2},[s.$slots.prefix?{name:"prefix",fn:R(()=>[H(s.$slots,"prefix")]),key:"0"}:void 0,s.$slots["item-prefix"]?{name:"item-prefix",fn:R(i=>[H(s.$slots,"item-prefix",Te(Ae(i)))]),key:"1"}:void 0]),1040)):t.type==="textarea"?(u(),q(k(Go),ue({key:3,id:k(e)},ne(G({},o.value),{size:t.size,variant:t.variant})),null,16,["id"])):(u(),q(k(sn),ue({key:4,id:k(e)},ne(G({},o.value),{type:t.type,size:t.size,variant:t.variant,required:t.required})),dt({_:2},[s.$slots.prefix?{name:"prefix",fn:R(()=>[H(s.$slots,"prefix")]),key:"0"}:void 0,s.$slots.suffix?{name:"suffix",fn:R(()=>[H(s.$slots,"suffix")]),key:"1"}:void 0]),1040,["id"])),H(s.$slots,"description",{},()=>[t.description?(u(),h("p",{key:0,class:O(r.value)},U(t.description),3)):z("",!0)])],6)):(u(),q(k(Lo),ue({key:1,id:k(e)},ne(G({},o.value),{label:t.label,size:t.size,class:k(a).class})),null,16,["id"]))}})),ei={name:"Input",inheritAttrs:!1,expose:["getInputValue"],components:{FeatherIcon:Ie},props:{label:{type:String},type:{type:String,default:"text",validator(t){let e=["text","number","checkbox","textarea","select","email","password","date"].includes(t);return e||console.warn(`Invalid value "${t}" for "type" prop for Input`),e}},modelValue:{type:[String,Number,Boolean,Object,Array]},inputClass:{type:[String,Array,Object]},debounce:{type:Number},options:{type:Array},disabled:{type:Boolean},rows:{type:Number,default:3},placeholder:{type:String},iconLeft:{type:String}},emits:["input","change","update:modelValue"],methods:{focus(){this.$refs.input.focus()},blur(){this.$refs.input.blur()},getInputValue(t){let e=t?t.target:this.$refs.input,n=e.value;return this.type=="checkbox"&&(n=e.checked),n}},computed:{passedInputValue(){return"value"in this.$attrs?this.$attrs.value:this.modelValue||null},inputAttributes(){let t={},e=n=>{this.$emit("input",this.getInputValue(n))};return this.debounce&&(e=mt(e,this.debounce)),this.type=="checkbox"&&(t.checked=this.passedInputValue),Object.assign(t,this.$attrs,{onInput:e,onChange:n=>{this.$emit("change",this.getInputValue(n)),this.$emit("update:modelValue",this.getInputValue(n))}})},selectOptions(){return this.options.map(t=>typeof t=="string"?{label:t,value:t}:t).filter(Boolean)},isNormalInput(){return["text","number","checkbox","email","password","date"].includes(this.type)}}},ti={key:0,class:"mb-2 block text-sm leading-4 text-gray-700"},ni=["type","disabled","placeholder","value"],ai=["placeholder","value","disabled","rows"],oi=["disabled"],ii=["value","disabled","selected"],ri={key:1,class:"ml-2 inline-block text-base leading-4"};function si(t,e,n,a,o,r){const s=Lt("FeatherIcon");return u(),h("label",{class:O([n.type=="checkbox"?"flex":"block",t.$attrs.class]),style:ke(t.$attrs.style)},[n.label&&n.type!="checkbox"?(u(),h("span",ti,U(n.label),1)):z("",!0),m("div",{class:O(["relative flex",{"items-center":r.isNormalInput||n.type=="select"}])},[n.iconLeft&&n.type!="checkbox"?(u(),q(s,{key:0,name:n.iconLeft,class:O(["absolute mx-2 h-4 w-4 text-gray-600",{"mt-2":n.type=="textarea"}])},null,8,["name","class"])):z("",!0),r.isNormalInput?(u(),h("input",ue({key:1},r.inputAttributes,{class:["border-gray-400 placeholder-gray-500",[{"form-input block w-full":n.type!="checkbox","form-checkbox":n.type=="checkbox","pl-8":n.iconLeft&&n.type!="checkbox"},n.inputClass]],ref:"input",type:n.type||"text",disabled:n.disabled,placeholder:n.placeholder,value:r.passedInputValue}),null,16,ni)):z("",!0),n.type==="textarea"?(u(),h("textarea",ue({key:2},r.inputAttributes,{placeholder:n.placeholder,class:["placeholder-gray-500",["form-textarea block w-full resize-none",n.inputClass,{"pl-8":n.iconLeft}]],ref:"input",value:r.passedInputValue,disabled:n.disabled,rows:n.rows}),null,16,ai)):z("",!0),n.type==="select"?(u(),h("select",ue({key:3},r.inputAttributes,{class:["form-select block w-full",{"pl-8":n.iconLeft}],ref:"input",disabled:n.disabled}),[(u(!0),h(de,null,Ee(r.selectOptions,l=>(u(),h("option",{key:l.value,value:l.value,disabled:l.disabled||!1,selected:r.passedInputValue===l.value},U(l.label),9,ii))),128))],16,oi)):z("",!0)],2),n.label&&n.type=="checkbox"?(u(),h("span",ri,U(n.label),1)):z("",!0)],6)}const fm=Qe(ei,[["render",si]]),li={class:"lucide lucide-eye",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function mi(t,e){return u(),h("svg",li,[...e[0]||(e[0]=[m("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"},null,-1),m("circle",{cx:"12",cy:"12",r:"3"},null,-1)])])}N({name:"lucide-eye",render:mi});const ui={class:"lucide lucide-eye-off",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function ci(t,e){return u(),h("svg",ui,[...e[0]||(e[0]=[m("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"},null,-1),m("path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"},null,-1),m("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"},null,-1),m("path",{d:"m2 2 20 20"},null,-1)])])}N({name:"lucide-eye-off",render:ci});const di={class:"lucide lucide-command",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function fi(t,e){return u(),h("svg",di,[...e[0]||(e[0]=[m("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"},null,-1)])])}N({name:"lucide-command",render:fi});const gi={class:"lucide lucide-arrow-big-up",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function hi(t,e){return u(),h("svg",gi,[...e[0]||(e[0]=[m("path",{d:"M9 13a1 1 0 0 0-1-1H5.061a1 1 0 0 1-.75-1.811l6.836-6.835a1.207 1.207 0 0 1 1.707 0l6.835 6.835a1 1 0 0 1-.75 1.811H16a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1z"},null,-1)])])}N({name:"lucide-arrow-big-up",render:hi});const pi={class:"lucide lucide-option",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function ji(t,e){return u(),h("svg",pi,[...e[0]||(e[0]=[m("path",{d:"M3 3h6l6 18h6"},null,-1),m("path",{d:"M14 3h7"},null,-1)])])}N({name:"lucide-option",render:ji});const _i={class:"lucide lucide-arrow-up",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function bi(t,e){return u(),h("svg",_i,[...e[0]||(e[0]=[m("path",{d:"m5 12 7-7 7 7"},null,-1),m("path",{d:"M12 19V5"},null,-1)])])}N({name:"lucide-arrow-up",render:bi});const vi={class:"lucide lucide-arrow-down",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function wi(t,e){return u(),h("svg",vi,[...e[0]||(e[0]=[m("path",{d:"M12 5v14"},null,-1),m("path",{d:"m19 12-7 7-7-7"},null,-1)])])}N({name:"lucide-arrow-down",render:wi});const yi={class:"lucide lucide-arrow-left",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function ki(t,e){return u(),h("svg",yi,[...e[0]||(e[0]=[m("path",{d:"m12 19-7-7 7-7"},null,-1),m("path",{d:"M19 12H5"},null,-1)])])}N({name:"lucide-arrow-left",render:ki});const xi={class:"lucide lucide-arrow-right",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Ci(t,e){return u(),h("svg",xi,[...e[0]||(e[0]=[m("path",{d:"M5 12h14"},null,-1),m("path",{d:"m12 5 7 7-7 7"},null,-1)])])}N({name:"lucide-arrow-right",render:Ci});const $i={class:"lucide lucide-corner-down-left",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Mi(t,e){return u(),h("svg",$i,[...e[0]||(e[0]=[m("path",{d:"M20 4v7a4 4 0 0 1-4 4H4"},null,-1),m("path",{d:"m9 10-5 5 5 5"},null,-1)])])}N({name:"lucide-corner-down-left",render:Mi});const Li={class:"lucide lucide-delete",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Di(t,e){return u(),h("svg",Li,[...e[0]||(e[0]=[m("path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z"},null,-1),m("path",{d:"m12 9 6 6"},null,-1),m("path",{d:"m18 9-6 6"},null,-1)])])}N({name:"lucide-delete",render:Di});const Si={class:"lucide lucide-move-diagonal-2",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Ti(t,e){return u(),h("svg",Si,[...e[0]||(e[0]=[m("path",{d:"M19 13v6h-6"},null,-1),m("path",{d:"M5 11V5h6"},null,-1),m("path",{d:"m5 5 14 14"},null,-1)])])}const cn=N({name:"lucide-move-diagonal-2",render:Ti}),Ii={class:"lucide lucide-align-left",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Ei(t,e){return u(),h("svg",Ii,[...e[0]||(e[0]=[m("path",{d:"M15 12H3"},null,-1),m("path",{d:"M17 18H3"},null,-1),m("path",{d:"M21 6H3"},null,-1)])])}const dn=N({name:"lucide-align-left",render:Ei}),zi={class:"lucide lucide-align-center",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Pi(t,e){return u(),h("svg",zi,[...e[0]||(e[0]=[m("path",{d:"M17 12H7"},null,-1),m("path",{d:"M19 18H5"},null,-1),m("path",{d:"M21 6H3"},null,-1)])])}const fn=N({name:"lucide-align-center",render:Pi}),Ai={class:"lucide lucide-align-right",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Ri(t,e){return u(),h("svg",Ai,[...e[0]||(e[0]=[m("path",{d:"M21 12H9"},null,-1),m("path",{d:"M21 18H7"},null,-1),m("path",{d:"M21 6H3"},null,-1)])])}const gn=N({name:"lucide-align-right",render:Ri}),Oi={class:"relative"},Vi=["src","alt","width","height"],Bi={class:"absolute bottom-2 right-2 flex items-center gap-2"},Fi={key:0,class:"flex divide-x divide-outline-gray-5 rounded bg-black/65"},Hi={key:1,class:"inset-0 absolute flex items-center justify-center z-10"},Ni={class:"bg-gray-900/80 p-2 inset-0 leading-none rounded-sm flex flex-col items-center justify-center gap-2"},qi={class:"flex items-center gap-2"},Ui=["disabled"],Wi={key:1,class:"w-full py-1.5"},Ki=te({__name:"ImageNodeView",props:Gt,setup(t){const e=t,n=M(null),a=M(null),o=M(!1),r=M(0),s=M(0),l=M(1);function i(){e.editor.commands.setNodeSelection(e.getPos())}const f=M(e.node.attrs.alt||""),d=M(!1);Ve(()=>{if(d.value=e.editor.isEditable,n.value){const v=e.node.attrs.width||n.value.naturalWidth,b=e.node.attrs.height||n.value.naturalHeight;v&&b&&(l.value=b/v)}}),e.editor.on("update",()=>{d.value=e.editor.isEditable});function j(v){const b=v.target.value;f.value=b,e.updateAttributes({alt:b})}function c(v){v.key==="Enter"?(v.preventDefault(),p()):(v.key==="Escape"||v.key==="ArrowDown")&&(v.preventDefault(),$()),v.key==="ArrowUp"&&(v.preventDefault(),x())}function g(v){e.editor.commands.focus(),e.editor.chain().setTextSelection(v).scrollIntoView().run()}function p(){const v=e.getPos();e.editor.commands.focus(),e.editor.chain().setTextSelection(v+1).createParagraphNear().scrollIntoView().run()}function $(){const v=e.getPos();g(v+1)}function x(){const v=e.getPos();g(v-1)}function D(v){var E,y,B;if(!d.value)return;i(),o.value=!0,r.value=v.clientX,s.value=((E=n.value)==null?void 0:E.offsetWidth)||e.node.attrs.width||0;const b=e.node.attrs.width||((y=n.value)==null?void 0:y.naturalWidth),_=e.node.attrs.height||((B=n.value)==null?void 0:B.naturalHeight);b&&_?l.value=_/b:l.value=1,window.addEventListener("mousemove",V),window.addEventListener("mouseup",I),document.body.style.cursor="ew-resize"}function V(v){if(!o.value||!n.value||!a.value)return;const _=e.editor.view.dom.clientWidth,E=v.clientX-r.value;let y=s.value+E;y=Math.max(50,Math.min(y,_));const B=y*l.value;n.value.style.width=`${y}px`,n.value.style.height=`${B}px`,a.value.style.width=`${y}px`}function I(){if(o.value&&(o.value=!1,window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",I),document.body.style.cursor="",n.value&&a.value)){const v=n.value.offsetWidth,b=n.value.offsetHeight;e.updateAttributes({width:v,height:b}),n.value.style.width="",n.value.style.height="",a.value.style.width=""}}function w(v){e.editor.commands.setImageAlign(v)}return(v,b)=>(u(),q(k(Dt),null,{default:R(()=>[m("div",{ref_key:"containerRef",ref:a,class:O(["relative overflow-hidden not-prose my-6 rounded-[2px] block max-w-full",[{"ring-2 ring-outline-gray-3 ring-offset-2":v.selected},v.node.attrs.align==="center"?"mx-auto":"",v.node.attrs.align==="right"?"ml-auto mr-0":"",v.node.attrs.align==="left"?"mr-auto ml-0":""]]),style:ke({width:v.node.attrs.width?`${v.node.attrs.width}px`:"auto"})},[m("div",Oi,[v.node.attrs.src?(u(),h("img",{key:0,ref_key:"imageRef",ref:n,class:"rounded-[2px]",src:v.node.attrs.src,alt:v.node.attrs.alt||"",width:v.node.attrs.width,height:v.node.attrs.height,onClick:Y(i,["stop"])},null,8,Vi)):z("",!0),m("div",Bi,[v.selected&&d.value?(u(),h("div",Fi,[m("button",{onClick:b[0]||(b[0]=Y(_=>w("left"),["stop"])),class:O(["px-1.5 py-1 hover:text-ink-white",v.node.attrs.align==="left"?"text-ink-white":"text-ink-gray-4"])},[P(k(dn),{class:"size-4"})],2),m("button",{onClick:b[1]||(b[1]=Y(_=>w("center"),["stop"])),class:O(["px-1.5 py-1 hover:text-ink-white",v.node.attrs.align==="center"?"text-ink-white":"text-ink-gray-4"])},[P(k(fn),{class:"size-4"})],2),m("button",{onClick:b[2]||(b[2]=Y(_=>w("right"),["stop"])),class:O(["px-1.5 py-1 hover:text-ink-white",v.node.attrs.align==="right"?"text-ink-white":"text-ink-gray-4"])},[P(k(gn),{class:"size-4"})],2)])):z("",!0),v.selected&&d.value?(u(),h("button",{key:1,class:"cursor-nw-resize bg-black/65 rounded p-1",onMousedown:Y(D,["prevent"])},[P(k(cn),{class:"text-white size-4"})],32)):z("",!0)]),v.node.attrs.loading?(u(),h("div",Hi,[m("div",Ni,[m("div",qi,[P(lt,{class:"text-gray-100 size-4"}),b[4]||(b[4]=m("span",{class:"text-gray-100"},"Uploading...",-1))])])])):z("",!0)]),(d.value||v.node.attrs.alt)&&!v.node.attrs.error?Ue((u(),h("input",{key:0,"onUpdate:modelValue":b[3]||(b[3]=_=>f.value=_),class:"w-full text-center bg-transparent text-sm text-ink-gray-6 h-7 border-none focus:ring-0 placeholder-ink-gray-4",placeholder:"Add caption",disabled:!d.value,onChange:j,onKeydown:c},null,40,Ui)),[[jt,f.value]]):z("",!0),v.node.attrs.error?(u(),h("div",Wi,[P(k(No),{message:`Upload Failed: ${v.node.attrs.error}`},null,8,["message"])])):z("",!0)],6)]),_:1}))}}),Ji=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/;We.create({name:"image",group:"block",draggable:!0,selectable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null},loading:{default:!1,parseHTML:()=>!1},align:{default:"left",parseHTML:t=>{const e=(t.getAttribute("data-align")||t.getAttribute("align")||"left").toLowerCase();return["left","center","right"].includes(e)?e:"left"},renderHTML:t=>({"data-align":t.align||"left"})},uploadId:{default:null,parseHTML:()=>null},error:{default:null,parseHTML:()=>null}}},parseHTML(){return[{tag:"img[src]",getAttrs:t=>{if(typeof t=="string")return{};const e=t;return{src:e.getAttribute("src"),alt:e.getAttribute("alt"),title:e.getAttribute("title"),width:e.getAttribute("width"),height:e.getAttribute("height")}}}]},renderHTML({HTMLAttributes:t}){return["img",Be(this.options.HTMLAttributes||{},t)]},addNodeView(){return st(Ki)},addOptions(){return{uploadFunction:null,HTMLAttributes:{}}},addCommands(){return{setImageAlign:t=>({commands:e})=>e.updateAttributes(this.name,{align:t}),setImage:t=>({commands:e,editor:n})=>{const a=e.insertContent({type:this.name,attrs:t});return a&&t.src&&Yi(n.view,t.src,(o,r)=>{Ht(t.src,n.view,r)}),a},uploadImage:t=>({editor:e})=>pn(t,e.view,null,this.options),selectAndUploadImage:()=>({editor:t})=>{const e=document.createElement("input");return e.type="file",e.accept="image/*",e.onchange=n=>{const a=n.target;if(a.files&&a.files.length){const o=a.files[0];t.commands.uploadImage(o)}},e.click(),!0}}},addInputRules(){return[la({find:Ji,type:this.type,getAttributes:t=>{const[,,e,n,a]=t;return{src:n,alt:e,title:a}}})]},addProseMirrorPlugins(){const t=this;return[new Ke({props:{handleDOMEvents:{drop:(e,n)=>{var l,i;if(!((i=(l=n.dataTransfer)==null?void 0:l.files)==null?void 0:i.length)||!t.options.uploadFunction)return!1;const o=Array.from(n.dataTransfer.files).filter(f=>/image/i.test(f.type));if(o.length===0)return!1;n.preventDefault();const r=e.posAtCoords({left:n.clientX,top:n.clientY});let s=null;if(r){s=r.pos;const f=e.state.tr.setSelection(Yt.near(e.state.doc.resolve(s)));e.dispatch(f)}return _t(o,e,s,t.options),!0},handlePaste:(e,n)=>{var r;if(!t.options.uploadFunction)return!1;const a=(r=n.clipboardData)==null?void 0:r.items;if(!a||a.length===0)return!1;const o=[];for(let s=0;s<a.length;s++){const l=a[s];if(l.kind==="file"&&l.type.indexOf("image/")!==-1){const i=l.getAsFile();i&&o.push(i)}}return o.length===0?!1:(n.preventDefault(),_t(o,e,null,t.options),!0)}}},appendTransaction(e,n,a){const o=[];return e.some(r=>r.docChanged)&&a.doc.descendants((r,s)=>{r.type.name==="image"&&r.attrs.src&&(!r.attrs.width||!r.attrs.height)&&!r.attrs.loading&&o.push({node:r,pos:s})}),o.length===0||o.forEach(({node:r,pos:s})=>{const l=t.editor;l&&Ht(r.attrs.src,l.view,s)}),null}})]}});function Xi(t,e){if(!e)return null;let n=null;return t.state.doc.descendants((a,o)=>{if(a.type.name==="image"&&a.attrs.uploadId===e)return n=o+a.nodeSize,!1}),n}function hn(t,e,n,a,o,r,s=!1){if(!a.uploadFunction)return console.error("uploadFunction option is not provided"),!1;const l=`upload-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return Bl(t).then(i=>{const f=e.state.schema.nodes.image.create({loading:!0,uploadId:l,src:i}),d=e.state.tr;if(n!=null)d.insert(n,f);else if(o==="replace")d.replaceSelectionWith(f);else{const j=e.state.selection.from;d.insert(j,f)}if(e.dispatch(d),s){const j=f.nodeSize||1;setTimeout(()=>{try{let c=null;if(e.state.doc.descendants((g,p)=>{if(g.type.name==="image"&&g.attrs.uploadId===l)return c=p,!1}),c!==null){const g=c+j,p=e.state.tr.setSelection(Yt.near(e.state.doc.resolve(g)));e.dispatch(p)}}catch(c){console.error("Error moving cursor:",c)}},10)}return a.uploadFunction(t)}).then(i=>jn(i.file_url).then(f=>ne(G({},i),{width:f.width,height:f.height})).catch(()=>i)).then(i=>{const f=e.state.tr;e.state.doc.descendants((d,j)=>{if(d.type.name==="image"&&d.attrs.uploadId===l)return f.setNodeMarkup(j,void 0,ne(G({},d.attrs),{src:i.file_url,width:i.width||d.attrs.width,height:i.height||d.attrs.height,loading:!1})),!1}),e.dispatch(f),r&&r(l)}).catch(i=>{console.error("Image upload failed:",i);try{const f=e.state.tr;e.state.doc.descendants((d,j)=>{if(d.type.name==="image"&&d.attrs.uploadId===l)return f.setNodeMarkup(j,void 0,ne(G({},d.attrs),{loading:!1,error:i.message||"Failed to upload image"})),!1}),e.dispatch(f)}catch(f){console.error("Error updating failed node:",f)}r&&r(l)}),!0}function Gi(t,e,n,a,o){return hn(t,e,n,a,"insert",o,!0)}function pn(t,e,n,a){return hn(t,e,n,a,"replace")}function Yi(t,e,n){t.state.doc.descendants((a,o)=>{if(a.type.name==="image"&&a.attrs.src===e)return n(a,o),!1})}function Ht(t,e,n){jn(t).then(a=>{var s,l;const o=e.state.doc.nodeAt(n);if(!o||o.type.name!=="image")return;const r=o.attrs;if(r.width==null||r.height==null){const i=e.state.tr.setNodeMarkup(n,void 0,ne(G({},r),{width:(s=r.width)!=null?s:a.width,height:(l=r.height)!=null?l:a.height}));e.dispatch(i)}}).catch(a=>{})}function jn(t){return new Promise((e,n)=>{const a=new Image;a.onload=()=>e({width:a.naturalWidth,height:a.naturalHeight}),a.onerror=n,a.src=t})}function _t(t,e,n,a){if(t.length===1){pn(t[0],e,n,a);return}let o=[...t],r=null;const s=()=>{if(o.length===0)return;const l=o.shift();if(!l)return;const i=r?Xi(e,r):n;Gi(l,e,i,a,f=>{r=f,setTimeout(s,100)})};s()}function Zi(t){const{targetRef:e,zoomLevel:n=M(100),onSwipeLeft:a,onSwipeRight:o,onDoubleTap:r,onTap:s,onPanStart:l,onPanMove:i,onPanAnimate:f,onPanEnd:d,onPinchStart:j,onPinchMove:c,onPinchEnd:g,doubleTapDelay:p=300,minSwipeDistance:$=50,maxVerticalSwipeDistance:x=75,maxTapDuration:D=200,maxTapMovement:V=10,panThreshold:I=5,inertiaDamping:w=.94,inertiaVelocityThreshold:v=.5}=t,b=M(!1),_=M(!1),E=M(!1),y=M({x:0,y:0}),B=M(0),K=M(0),me=M(0),ae=M(null),ie=M(0),Q=M({x:0,y:0}),se=M({x:0,y:0}),he=M(null),xe=()=>{he.value!==null&&(cancelAnimationFrame(he.value),he.value=null),E.value=!1,se.value={x:0,y:0}},ze=L=>{xe(),L.preventDefault(),b.value=!1,_.value=!1,ae.value=L.touches;const F=performance.now(),pe=F-B.value;if(pe<p&&pe>0&&L.touches.length===1&&r){r(L),B.value=0,K.value=0;return}if(K.value=F,L.touches.length===1){B.value=F;const oe=L.touches[0];y.value={x:oe.clientX,y:oe.clientY},ie.value=F,Q.value=G({},y.value),se.value={x:0,y:0},l&&l(L)}else if(L.touches.length===2){B.value=0;const oe=L.touches[0],fe=L.touches[1];me.value=Math.hypot(fe.clientX-oe.clientX,fe.clientY-oe.clientY),_.value=!0,j&&j(L)}else B.value=0,K.value=0},Pe=L=>{if(!ae.value)return;L.preventDefault();const F=performance.now(),pe=F-ie.value;if(L.touches.length===2&&ae.value.length===2){b.value=!1,_.value=!0;const oe=L.touches[0],fe=L.touches[1],$e=Math.hypot(fe.clientX-oe.clientX,fe.clientY-oe.clientY);if(me.value>0&&c){const Me=$e/me.value;c(Me,L)}se.value={x:0,y:0}}else if(L.touches.length===1&&ae.value.length===1&&!_.value){const oe=L.touches[0].clientX,fe=L.touches[0].clientY,$e=oe-Q.value.x,Me=fe-Q.value.y;pe>1?se.value={x:$e/pe,y:Me/pe}:se.value={x:0,y:0},ie.value=F,Q.value={x:oe,y:fe};const Le=oe-y.value.x,je=fe-y.value.y;if(!b.value&&n.value>100&&(Math.abs(Le)>I||Math.abs(je)>I)&&(b.value=!0,y.value={x:oe,y:fe}),b.value&&i){const ce=n.value/100,C=Le/ce,S=je/ce;i(C,S,L)}}},W=L=>{var Me;const F=L.touches.length,pe=performance.now(),oe=b.value,fe=_.value,$e=G({},se.value);if(oe&&ae.value&&F<ae.value.length)if(b.value=!1,d&&d(L),Math.hypot($e.x,$e.y)>v&&f&&n.value>100){E.value=!0;let je=performance.now(),ce=G({},$e);const C=S=>{if(!E.value)return;const T=Math.max(1,S-je);je=S;const J=n.value/100,X=ce.x*T/J,Z=ce.y*T/J;f(X,Z);const ee=Math.pow(Math.min(.999,w),T/16.67);ce.x*=ee,ce.y*=ee,Math.hypot(ce.x,ce.y)<.01||n.value<=100?xe():he.value=requestAnimationFrame(C)};he.value=requestAnimationFrame(C)}else se.value={x:0,y:0};else oe||(se.value={x:0,y:0});if(fe&&F<2&&(_.value=!1,me.value=0,g&&g(L)),F===0&&L.changedTouches.length===1&&K.value>0&&((Me=ae.value)==null?void 0:Me.length)===1){const Le=L.changedTouches[0],je=Le.clientX-y.value.x,ce=Le.clientY-y.value.y,C=pe-K.value;!oe&&n.value<=100&&Math.abs(je)>$&&Math.abs(ce)<x?je<0&&a?a():je>0&&o&&o():!oe&&C<D&&Math.abs(je)<V&&Math.abs(ce)<V&&s&&s(L)}F===0?(K.value=0,y.value={x:0,y:0},ae.value=null,_.value=!1,E.value||(se.value={x:0,y:0})):F===1&&!b.value&&!_.value&&(y.value={x:L.touches[0].clientX,y:L.touches[0].clientY},K.value=performance.now(),ae.value=L.touches)};return ge(e,(L,F)=>{F&&(F.removeEventListener("touchstart",ze),F.removeEventListener("touchmove",Pe),F.removeEventListener("touchend",W),F.removeEventListener("touchcancel",W),xe()),L&&(L.addEventListener("touchstart",ze,{passive:!1}),L.addEventListener("touchmove",Pe,{passive:!1}),L.addEventListener("touchend",W,{passive:!0}),L.addEventListener("touchcancel",W,{passive:!0}))},{immediate:!0}),{isPanning:ft(b),isPinching:ft(_),isAnimatingPan:ft(E)}}function Qi({initialIndex:t,imageCount:e,onNavigate:n}){const a=M(t.value);ge(t,s=>{a.value=s,n==null||n()});function o(){e.value>0&&(a.value=(a.value+1)%e.value,n==null||n())}function r(){e.value>0&&(a.value=(a.value-1+e.value)%e.value,n==null||n())}return{currentIndex:a,nextImage:o,previousImage:r}}function er({containerRef:t,isEnabled:e}){const n=M(100),a=M({x:0,y:0}),o=M(!1),r=M({x:0,y:0}),s=M({x:0,y:0}),l=90,i=110;ge(n,(p,$)=>{p<=100&&$>100&&(a.value={x:0,y:0})});function f(){n.value=Math.min(n.value+25,300)}function d(){const p=Math.max(n.value-25,25);n.value>100&&p<100?n.value=100:n.value=p}function j(){n.value=100,a.value={x:0,y:0},o.value=!1,s.value={x:0,y:0}}function c(p){if(n.value<=100)return;p.preventDefault(),o.value=!0,r.value={x:p.clientX,y:p.clientY},s.value=G({},a.value);const $=D=>{if(!o.value)return;const V=D.clientX-r.value.x,I=D.clientY-r.value.y,w=n.value/100;a.value={x:s.value.x+V/w,y:s.value.y+I/w}},x=()=>{o.value&&(o.value=!1,document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",x))};document.addEventListener("mousemove",$),document.addEventListener("mouseup",x)}function g(p){var $;if(e.value&&($=t.value)!=null&&$.contains(p.target)){p.preventDefault();let x=p.ctrlKey?.5:.2;const D=-p.deltaY*x,V=n.value,I=Math.round(V+D);let w=Math.max(25,Math.min(300,I));(V>100&&w<100||V<100&&w>100)&&Math.abs(100-w)<Math.abs(D)*1.5&&(w=100),n.value=w}}return Ve(()=>{const p=t.value;p&&p.addEventListener("wheel",g,{passive:!1,capture:!0})}),Re(()=>{const p=t.value;p&&p.removeEventListener("wheel",g,{capture:!0}),o.value&&(o.value=!1)}),{zoomLevel:n,panPosition:a,isMousePanning:o,initialPanPositionOnGestureStart:s,zoomIn:f,zoomOut:d,resetZoom:j,handlePanStart:c,snapThresholdLower:l,snapThresholdUpper:i}}const tr={class:"lucide lucide-download",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function nr(t,e){return u(),h("svg",tr,[...e[0]||(e[0]=[m("path",{d:"M12 15V3"},null,-1),m("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},null,-1),m("path",{d:"m7 10 5 5 5-5"},null,-1)])])}const ar=N({name:"lucide-download",render:nr}),or={class:"lucide lucide-maximize",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function ir(t,e){return u(),h("svg",or,[...e[0]||(e[0]=[m("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"},null,-1),m("path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"},null,-1),m("path",{d:"M3 16v3a2 2 0 0 0 2 2h3"},null,-1),m("path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"},null,-1)])])}const rr=N({name:"lucide-maximize",render:ir}),sr={class:"lucide lucide-minimize",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function lr(t,e){return u(),h("svg",sr,[...e[0]||(e[0]=[m("path",{d:"M8 3v3a2 2 0 0 1-2 2H3"},null,-1),m("path",{d:"M21 8h-3a2 2 0 0 1-2-2V3"},null,-1),m("path",{d:"M3 16h3a2 2 0 0 1 2 2v3"},null,-1),m("path",{d:"M16 21v-3a2 2 0 0 1 2-2h3"},null,-1)])])}const mr=N({name:"lucide-minimize",render:lr}),ur={class:"lucide lucide-chevron-left",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function cr(t,e){return u(),h("svg",ur,[...e[0]||(e[0]=[m("path",{d:"m15 18-6-6 6-6"},null,-1)])])}const dr=N({name:"lucide-chevron-left",render:cr}),fr={class:"lucide lucide-chevron-right",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function gr(t,e){return u(),h("svg",fr,[...e[0]||(e[0]=[m("path",{d:"m9 18 6-6-6-6"},null,-1)])])}const hr=N({name:"lucide-chevron-right",render:gr}),pr={class:"lucide lucide-plus",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function jr(t,e){return u(),h("svg",pr,[...e[0]||(e[0]=[m("path",{d:"M5 12h14"},null,-1),m("path",{d:"M12 5v14"},null,-1)])])}const _r=N({name:"lucide-plus",render:jr}),br={class:"lucide lucide-minus",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function vr(t,e){return u(),h("svg",br,[...e[0]||(e[0]=[m("path",{d:"M5 12h14"},null,-1)])])}const _n=N({name:"lucide-minus",render:vr}),wr={class:"relative z-10 flex flex-col items-center"},yr=["src","alt"],kr={class:"bg-black/65 rounded flex items-center"},xr={class:"px-2 text-sm tabular-nums text-gray-400 select-none"},Cr={class:"bg-black/65 rounded flex items-center"},$r={class:"bg-black/65 rounded flex items-center"},Mr={class:"bg-black/65 rounded flex items-center"},Lr=3e3,bn=te({__name:"ImageViewerModal",props:{show:{type:Boolean},images:{},initialIndex:{}},emits:["update:show"],setup(t,{emit:e}){const n=t,a=e,o=ot("imageContainer"),r=ot("backdropElement"),s=ot("controlsBar"),l=M(0),i=M(!1),f=M(100),d=M(!0),j=M(null),{zoomLevel:c,panPosition:g,isMousePanning:p,initialPanPositionOnGestureStart:$,zoomIn:x,zoomOut:D,resetZoom:V,handlePanStart:I,snapThresholdLower:w,snapThresholdUpper:v}=er({containerRef:o,isEnabled:Vt(n,"show")}),{currentIndex:b,nextImage:_,previousImage:E}=Qi({initialIndex:Vt(n,"initialIndex"),imageCount:A(()=>n.images.length),onNavigate:V}),y=A(()=>n.images[b.value]),{isPanning:B,isPinching:K,isAnimatingPan:me}=Zi({targetRef:o,zoomLevel:c,panThreshold:10,onSwipeLeft:()=>{c.value<=100&&_()},onSwipeRight:()=>{c.value<=100&&E()},onDoubleTap:W=>{var L;(L=s.value)!=null&&L.contains(W.target)||(c.value>100?V():(c.value=200,g.value={x:0,y:0}))},onTap:W=>{W.target===r.value&&se()},onPanStart:()=>{c.value<=100||($.value=G({},g.value))},onPanMove:(W,L)=>{c.value<=100||(g.value={x:$.value.x+W,y:$.value.y+L})},onPanAnimate:(W,L)=>{g.value={x:g.value.x+W,y:g.value.y+L}},onPinchStart:()=>{f.value=c.value,$.value=G({},g.value)},onPinchMove:W=>{const L=f.value*W;let F=Math.max(25,Math.min(300,Math.round(L)));F>w&&F<v&&(F=100),c.value=F},onPinchEnd:()=>{c.value<100&&V(),$.value={x:0,y:0}}}),ae=A(()=>p.value||B.value);function ie(){d.value=!0,j.value&&clearTimeout(j.value),j.value=setTimeout(()=>{!ae.value&&!K.value?d.value=!1:ie()},Lr)}function Q(){(!K.value||!d.value)&&ie()}function se(){a("update:show",!1),V(),j.value&&(clearTimeout(j.value),j.value=null)}function he(){var pe;const W=y.value,L=document.createElement("a");L.href=W.src;const F=((pe=W.alt)==null?void 0:pe.replace(/[^a-z0-9]/gi,"_").toLowerCase())||W.src.split("/").pop()||"download";L.download=F.includes(".")?F:`${F}.jpg`,document.body.appendChild(L),L.click(),document.body.removeChild(L)}function xe(){const W=o.value;i.value?document.exitFullscreen&&(document.exitFullscreen(),i.value=!1):W!=null&&W.requestFullscreen&&(W.requestFullscreen(),i.value=!0)}function ze(){i.value=!!document.fullscreenElement}function Pe(W){if(n.show)switch(Q(),W.key){case"ArrowLeft":ae.value||E(),W.preventDefault();break;case"ArrowRight":ae.value||_(),W.preventDefault();break;case"+":case"=":x(),W.preventDefault();break;case"-":D(),W.preventDefault();break;case"Escape":se(),W.preventDefault();break;case"f":case"F":xe(),W.preventDefault();break}}return ge(()=>n.show,W=>{W?(d.value=!0,V(),ie()):(j.value&&(clearTimeout(j.value),j.value=null),i.value&&document.exitFullscreen&&document.exitFullscreen())}),ge(s,W=>{if(W){const L=()=>{l.value=W.offsetHeight},F=new ResizeObserver(L);F.observe(W),L(),Re(()=>F.disconnect())}else l.value=0}),Ve(()=>{document.addEventListener("fullscreenchange",ze),document.addEventListener("keydown",Pe)}),Re(()=>{document.removeEventListener("fullscreenchange",ze),document.removeEventListener("keydown",Pe),j.value&&clearTimeout(j.value),i.value&&document.exitFullscreen&&document.exitFullscreen()}),(W,L)=>(u(),q(Qt,{to:"body"},[P(Zt,{"enter-active-class":"transition-opacity duration-150 ease-in-out","leave-active-class":"transition-opacity duration-150 ease-in-out","enter-from-class":"opacity-0","leave-to-class":"opacity-0",appear:""},{default:R(()=>[n.show?(u(),h("div",{key:0,class:"fixed top-0 left-0 w-full h-full bg-black sm:bg-black/90 z-[50] flex flex-col justify-center items-center overflow-hidden touch-none",ref_key:"imageContainer",ref:o,onMousemove:Q,onTouchstart:Q,onTouchmove:Q},[m("div",{class:"absolute inset-0 z-0",ref_key:"backdropElement",ref:r,onClick:se},null,512),m("div",wr,[m("img",{src:y.value.src,alt:y.value.alt||"Image preview",class:"max-w-screen max-h-screen object-contain block",style:ke({transform:`scale(${k(c)/100}) translate(${k(g).x}px, ${k(g).y}px)`,cursor:k(c)>100?k(p)?"grabbing":"grab":"default",transition:ae.value||k(K)||k(me)?"none":"transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"}),onMousedown:L[0]||(L[0]=(...F)=>k(I)&&k(I)(...F)),draggable:"false"},null,44,yr)]),y.value.alt?(u(),h("div",{key:0,class:O(["absolute bottom-4 p-2 text-center rounded-sm text-white text-sm bg-black/65 z-10 transition-opacity duration-300 ease-in-out",{"opacity-0 pointer-events-none":!d.value}])},U(y.value.alt),3)):z("",!0),m("div",{ref_key:"controlsBar",ref:s,class:O(["absolute top-4 flex items-center space-x-3 p-2 text-white z-20 transition-opacity duration-300 ease-in-out",{"opacity-0 pointer-events-none":!d.value}]),onTouchstart:L[6]||(L[6]=Y(()=>{},["stop"])),onTouchmove:L[7]||(L[7]=Y(()=>{},["stop"])),onTouchend:L[8]||(L[8]=Y(()=>{},["stop"])),onMousedown:L[9]||(L[9]=Y(()=>{},["stop"])),onWheel:L[10]||(L[10]=Y(()=>{},["stop"]))},[m("div",kr,[P(Ce,{text:"Previous image"},{default:R(()=>[m("button",{class:"p-2 hover:bg-gray-900 rounded-l focus:outline-none",onClick:L[1]||(L[1]=Y((...F)=>k(E)&&k(E)(...F),["stop"]))},[P(k(dr),{class:"size-4"})])]),_:1}),m("span",xr,U(k(b)+1)+"/"+U(n.images.length),1),P(Ce,{text:"Next image"},{default:R(()=>[m("button",{class:"p-2 hover:bg-gray-900 rounded-r focus:outline-none",onClick:L[2]||(L[2]=Y((...F)=>k(_)&&k(_)(...F),["stop"]))},[P(k(hr),{class:"size-4"})])]),_:1})]),m("div",Cr,[P(Ce,{text:"Zoom out"},{default:R(()=>[m("button",{class:"p-2 hover:bg-gray-900 rounded-l focus:outline-none",onClick:L[3]||(L[3]=Y((...F)=>k(D)&&k(D)(...F),["stop"]))},[P(k(_n),{class:"size-4"})])]),_:1}),P(Ce,{text:"Reset zoom"},{default:R(()=>[m("button",{class:"p-2 hover:bg-gray-900 text-sm text-gray-400 focus:outline-none",onClick:L[4]||(L[4]=Y((...F)=>k(V)&&k(V)(...F),["stop"]))},U(k(c))+"% ",1)]),_:1}),P(Ce,{text:"Zoom in"},{default:R(()=>[m("button",{class:"p-2 hover:bg-gray-900 rounded-r focus:outline-none",onClick:L[5]||(L[5]=Y((...F)=>k(x)&&k(x)(...F),["stop"]))},[P(k(_r),{class:"size-4"})])]),_:1})]),m("div",$r,[P(Ce,{text:"Download image"},{default:R(()=>[m("button",{class:"p-2 hover:bg-gray-900 rounded-l focus:outline-none",onClick:Y(he,["stop"])},[P(k(ar),{class:"size-4"})])]),_:1}),P(Ce,{text:i.value?"Exit fullscreen":"Enter fullscreen"},{default:R(()=>[m("button",{class:"p-2 hover:bg-gray-900 rounded-r focus:outline-none hidden sm:block",onClick:Y(xe,["stop"])},[i.value?(u(),q(k(mr),{key:1,class:"size-4"})):(u(),q(k(rr),{key:0,class:"size-4"}))])]),_:1},8,["text"])]),m("div",Mr,[P(Ce,{text:"Close"},{default:R(()=>[m("button",{class:"p-2 hover:bg-gray-900 rounded focus:outline-none",onClick:Y(se,["stop"])},[P(k(et),{class:"size-4"})])]),_:1})])],34)],544)):z("",!0)]),_:1})]))}});Ye.create({name:"imageViewer",onBeforeCreate(){if(!document.querySelector("style[data-image-viewer-style]")){const t=document.createElement("style");t.textContent=`
          .ProseMirror:not(.ProseMirror-focused) img {
            cursor: pointer;
          }
        `,t.setAttribute("data-image-viewer-style","true"),document.head.appendChild(t)}},onDestroy(){const t=document.querySelector("style[data-image-viewer-style]");t&&document.head.removeChild(t)},addCommands(){return{openImageViewer:t=>({editor:e})=>{const n=[];e.state.doc.descendants(o=>(o.type.name==="image"&&n.push({src:o.attrs.src,alt:o.attrs.alt||null}),!0));const a=n.findIndex(o=>o.src===t);return Dr(n,a),!0}}},addProseMirrorPlugins(){const t=this;return[new Ke({key:new Se("imageViewer"),props:{handleClick(e,n,a){if(t.editor.isEditable)return!1;const{state:o}=e,r=o.doc.nodeAt(n);if((r==null?void 0:r.type.name)==="image"){a.preventDefault();const s=r.attrs.src;return t.editor.commands.openImageViewer(s),!0}if(a.target instanceof HTMLImageElement){let s=!1;if(o.doc.descendants((l,i)=>{if(l.type.name==="image"&&!s){const f=e.nodeDOM(i);if(f&&(f===a.target||f.contains(a.target)))return a.preventDefault(),t.editor.commands.openImageViewer(l.attrs.src),s=!0,!1}return!0}),s)return!0}return!1}}})]}});function Dr(t,e){const n=document.createElement("div");document.body.appendChild(n);const a=en({render(){return $t(bn,{show:!0,images:t,initialIndex:e,"onUpdate:show":o=>{o||setTimeout(()=>{a.unmount(),n.remove()},0)}})}});a.mount(n)}We.create({name:"video",group:"block",selectable:!0,draggable:!0,atom:!0,addOptions(){return{uploadFunction:null,HTMLAttributes:{}}},addAttributes(){return{src:{default:null}}},parseHTML(){return[{tag:"video"}]},renderHTML({HTMLAttributes:t}){return["video",Be(this.options.HTMLAttributes,t,{controls:""})]},addCommands(){return{setVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t}),uploadVideo:t=>({editor:e})=>{const n=e.state.selection.from;return Sr(t,e.view,n,this.options)},selectAndUploadVideo:()=>({editor:t})=>{if(!this.options.uploadFunction)return console.error("uploadFunction option is not provided for videos."),!1;const e=document.createElement("input");return e.type="file",e.accept="video/*",e.onchange=n=>{const a=n.target;if(a.files&&a.files.length){const o=a.files[0];t.commands.uploadVideo(o)}},e.click(),!0}}},addNodeView(){return({editor:t,node:e})=>{const n=document.createElement("div");n.className="relative aspect-w-16 aspect-h-9"+(t.isEditable?" cursor-pointer":"");const a=document.createElement("video");if(a.src=e.attrs.src,a.setAttribute("controls",""),t.isEditable){let o=document.createElement("div");o.className="absolute top-0 right-0 text-xs m-2 bg-surface-gray-6 text-ink-white px-2 py-1 rounded-md",o.innerHTML="Video",n.append(o)}return n.append(a),{dom:n}}}});function Sr(t,e,n,a){return a.uploadFunction?(a.uploadFunction(t).then(o=>{const{schema:r}=e.state,s=r.nodes.video.create({src:o.file_url}),l=e.state.tr;n!=null?l.insert(n,s):l.replaceSelectionWith(s),e.dispatch(l)}).catch(o=>{console.error("Video upload failed:",o)}),!0):(console.error("uploadFunction option is not provided for videos."),!1)}const Tr=["youtube.com","www.youtube.com","youtu.be","vimeo.com","player.vimeo.com","codepen.io","codesandbox.io","figma.com","www.figma.com","embed.figma.com","docs.google.com","drive.google.com","notion.so","www.notion.so"],Ir=[{name:"YouTube",ratio:9/16,defaultWidth:640,urlPatterns:["youtube.com","youtu.be","youtube-nocookie.com"]},{name:"Vimeo",ratio:9/16,defaultWidth:640,urlPatterns:["vimeo.com","player.vimeo.com"]},{name:"CodePen",ratio:3/2,defaultWidth:500,urlPatterns:["codepen.io"]},{name:"CodeSandbox",ratio:3/2,defaultWidth:500,urlPatterns:["codesandbox.io"]},{name:"Figma",ratio:9/16,defaultWidth:800,urlPatterns:["figma.com","www.figma.com","embed.figma.com"]},{name:"Google Docs",ratio:4/3,defaultWidth:600,urlPatterns:["docs.google.com","drive.google.com"]},{name:"Notion",ratio:4/3,defaultWidth:600,urlPatterns:["notion.so","www.notion.so"]}];function vn(t){try{const n=new URL(t).hostname.toLowerCase();return Ir.find(a=>a.urlPatterns.some(o=>n.includes(o)))||null}catch(e){return null}}function bt(t){const e=vn(t);return e?{ratio:e.ratio,width:e.defaultWidth,height:Math.round(e.defaultWidth*e.ratio),platform:e.name}:{ratio:9/16,width:640,height:360,platform:"Generic"}}function vt(t,e){const n=bt(t);if(e){const o=Math.min(e-40,n.width);return{width:o,height:Math.round(o*n.ratio)}}return{width:n.width,height:n.height}}function wn(t,e){var n,a;try{if(t.startsWith("/"))return!0;const r=new URL(t).hostname.toLowerCase();return(n=e.blockedDomains)!=null&&n.some(s=>r.includes(s))?!1:(a=e.allowedDomains)!=null&&a.length?e.allowedDomains.some(s=>r.includes(s.toLowerCase())):!0}catch(o){return!1}}function wt(t){try{const n=new URL(t).hostname.toLowerCase();return n.includes("youtube.com")||n.includes("youtu.be")?Er(t):n.includes("vimeo.com")?zr(t):n.includes("codepen.io")?Pr(t):n.includes("figma.com")?Ar(t):t}catch(e){return t}}function Er(t){try{const e=new URL(t);let n="";if(e.hostname==="youtu.be")n=e.pathname.slice(1);else if(e.hostname.includes("youtube.com")&&(n=e.searchParams.get("v")||"",e.pathname.includes("/embed/")))return t;if(n)return`https://www.youtube.com/embed/${n}?rel=0&modestbranding=1`}catch(e){console.warn("Failed to convert YouTube URL:",e)}return t}function zr(t){try{if(t.includes("player.vimeo.com"))return t;const e=t.match(/vimeo\.com\/(?:.*\/)?(\d+)/);if(e!=null&&e[1])return`https://player.vimeo.com/video/${e[1]}?title=0&byline=0&portrait=0`}catch(e){console.warn("Failed to convert Vimeo URL:",e)}return t}function Pr(t){try{if(t.includes("/embed/"))return t;const e=t.match(/codepen\.io\/([^\/]+)\/pen\/([^\/\?]+)/);if(e!=null&&e[1]&&(e!=null&&e[2]))return`https://codepen.io/${e[1]}/embed/${e[2]}?default-tab=result`}catch(e){console.warn("Failed to convert CodePen URL:",e)}return t}function Ar(t){try{const e=new URL(t);return(e.hostname==="www.figma.com"||e.hostname==="figma.com")&&e.pathname.startsWith("/design/")?(e.hostname="embed.figma.com",e.searchParams.set("embed-host","share"),e.toString()):e.hostname==="embed.figma.com"?(e.searchParams.has("embed-host")||e.searchParams.set("embed-host","share"),e.toString()):t}catch(e){console.warn("Failed to convert Figma URL:",e)}return t}const Rr={class:"relative"},Or=["src","title"],Vr={class:"absolute bottom-2 right-2 flex items-center gap-2 z-20"},Br={key:0,class:"flex divide-x divide-ink-gray-6 rounded-md bg-black/65"},Fr={key:2,class:"flex items-center justify-center bg-surface-gray-1 rounded-lg w-[640px] h-[360px]"},Hr=["value","disabled"],Nr=te({__name:"IframeNodeView",props:Gt,setup(t){const e=t,n=M(null),a=M(null),o=M(!1),r=M(0),s=M(0),l=M(9/16),i=M(!1);function f(){e.editor.commands.setNodeSelection(e.getPos())}A(()=>{if(e.node.attrs.src){const w=vn(e.node.attrs.src),v=bt(e.node.attrs.src);return{platform:(w==null?void 0:w.name)||"Generic",aspectRatio:v.ratio}}return{platform:"Generic",aspectRatio:9/16}});const d=A(()=>{const w=e.node.attrs.width||640,v=e.node.attrs.height||w*l.value;return{width:`${w}px`,height:`${v}px`}});Ve(()=>{if(i.value=e.editor.isEditable,e.node.attrs.aspectRatio)l.value=e.node.attrs.aspectRatio;else if(e.node.attrs.src){const w=bt(e.node.attrs.src);l.value=w.ratio,e.updateAttributes({aspectRatio:w.ratio})}}),e.editor.on("update",()=>{i.value=e.editor.isEditable});function j(w){var v;if(i.value){if(f(),o.value=!0,r.value=w.clientX,s.value=((v=a.value)==null?void 0:v.offsetWidth)||e.node.attrs.width||640,e.node.attrs.aspectRatio)l.value=e.node.attrs.aspectRatio;else{const b=e.node.attrs.width||s.value,_=e.node.attrs.height||b*l.value;b&&_&&(l.value=_/b)}window.addEventListener("mousemove",c),window.addEventListener("mouseup",g),document.body.style.cursor="ew-resize"}}function c(w){if(!o.value||!n.value||!a.value)return;const b=e.editor.view.dom.clientWidth,_=w.clientX-r.value;let E=s.value+_;E=Math.max(200,Math.min(E,b-40));const K=E*l.value;n.value.style.width=`${E}px`,n.value.style.height=`${K}px`,a.value.style.width=`${E}px`}function g(){if(o.value&&(o.value=!1,window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",g),document.body.style.cursor="",n.value&&a.value)){const w=n.value.offsetWidth,v=n.value.offsetHeight;e.updateAttributes({width:w,height:v,aspectRatio:l.value}),n.value.style.width="",n.value.style.height="",a.value.style.width=""}}function p(w){e.updateAttributes({align:w})}function $(w){w.key==="Enter"?(w.preventDefault(),D()):(w.key==="Escape"||w.key==="ArrowDown")&&(w.preventDefault(),V()),w.key==="ArrowUp"&&(w.preventDefault(),I())}function x(w){e.editor.commands.focus(),e.editor.chain().setTextSelection(w).scrollIntoView().run()}function D(){const w=e.getPos();e.editor.commands.focus(),e.editor.chain().setTextSelection(w+1).createParagraphNear().scrollIntoView().run()}function V(){const w=e.getPos();x(w+1)}function I(){const w=e.getPos();x(w-1)}return(w,v)=>(u(),q(k(Dt),null,{default:R(()=>[m("div",{ref_key:"containerRef",ref:a,class:O(["relative overflow-hidden not-prose my-6 rounded-lg block max-w-full focus:outline-none",[{"ring-2 ring-outline-gray-3 ring-offset-2":w.selected},w.node.attrs.align==="center"?"mx-auto":"",w.node.attrs.align==="right"?"ml-auto mr-0":"",w.node.attrs.align==="left"?"mr-auto ml-0":""]]),style:ke({width:w.node.attrs.width?`${w.node.attrs.width}px`:"auto",maxWidth:"100%"}),onKeydown:$,tabindex:"0"},[m("div",Rr,[w.node.attrs.src?(u(),h("iframe",{key:0,ref_key:"iframeRef",ref:n,class:O(["rounded-lg border-0 block max-w-full h-auto",{"pointer-events-none":i.value&&!e.node.attrs.interactive}]),src:w.node.attrs.src,style:ke(d.value),title:w.node.attrs.title||"",frameborder:"0",allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",onClick:Y(f,["stop"])},null,14,Or)):z("",!0),i.value&&!e.node.attrs.interactive?(u(),h("div",{key:1,class:"absolute inset-0 cursor-pointer z-10",onClick:Y(f,["stop"])})):z("",!0),m("div",Vr,[w.selected&&i.value?(u(),h("div",Br,[m("button",{onClick:v[0]||(v[0]=Y(b=>p("left"),["stop"])),class:O(["px-1.5 py-1 text-ink-gray-4 hover:text-white transition-colors duration-150",{"text-white":w.node.attrs.align==="left"}]),title:"Align Left"},[P(k(dn),{class:"size-4"})],2),m("button",{onClick:v[1]||(v[1]=Y(b=>p("center"),["stop"])),class:O(["px-1.5 py-1 text-ink-gray-4 hover:text-white transition-colors duration-150",{"text-white":w.node.attrs.align==="center"}]),title:"Align Center"},[P(k(fn),{class:"size-4"})],2),m("button",{onClick:v[2]||(v[2]=Y(b=>p("right"),["stop"])),class:O(["px-1.5 py-1 text-ink-gray-4 hover:text-white transition-colors duration-150",{"text-white":w.node.attrs.align==="right"}]),title:"Align Right"},[P(k(gn),{class:"size-4"})],2)])):z("",!0),w.selected&&i.value?(u(),h("button",{key:1,class:"cursor-nw-resize bg-black/65 rounded-md p-1",onMousedown:Y(j,["prevent"]),title:"Resize"},[P(k(cn),{class:"text-white size-4"})],32)):z("",!0)]),w.node.attrs.src?z("",!0):(u(),h("div",Fr,[...v[4]||(v[4]=[m("div",{class:"text-ink-gray-5 text-center"},[m("div",{class:"text-lg mb-1"},""),m("div",{class:"text-sm"},"Loading embed...")],-1)])]))]),(i.value||w.node.attrs.title)&&w.node.attrs.src?(u(),h("input",{key:0,value:w.node.attrs.title,class:"w-full text-center bg-transparent text-sm text-ink-gray-6 h-7 border-0 mt-2 focus:outline-none focus:ring-0 placeholder-ink-gray-4 disabled:opacity-60",placeholder:"Add caption",disabled:!i.value,onInput:v[3]||(v[3]=b=>e.updateAttributes({title:b.target.value})),onKeydown:$},null,40,Hr)):z("",!0)],38)]),_:1}))}}),qr=Qe(Nr,[["__scopeId","data-v-ffd6a61a"]]);We.create({name:"iframe",group:"block",selectable:!0,draggable:!0,atom:!0,addOptions(){return{allowedDomains:Tr,blockedDomains:[],HTMLAttributes:{}}},addAttributes(){return{src:{default:null,parseHTML:t=>t.getAttribute("src"),renderHTML:t=>({src:t.src})},width:{default:null,parseHTML:t=>{const e=t.getAttribute("width");return e?parseInt(e,10):null},renderHTML:t=>({width:t.width?String(t.width):null})},height:{default:null,parseHTML:t=>{const e=t.getAttribute("height");return e?parseInt(e,10):null},renderHTML:t=>({height:t.height?String(t.height):null})},aspectRatio:{default:9/16,parseHTML:()=>null,renderHTML:()=>({})},align:{default:"center",parseHTML:t=>{const e=(t.getAttribute("data-align")||t.getAttribute("align")||"left").toLowerCase();return["left","center","right"].includes(e)?e:"left"},renderHTML:t=>({"data-align":t.align||"center"})},title:{default:null,parseHTML:t=>t.getAttribute("title"),renderHTML:t=>({title:t.title})},frameborder:{default:"0",renderHTML:()=>({frameborder:"0"})},allowfullscreen:{default:"true",renderHTML:()=>({allowfullscreen:"true"})},sandbox:{default:"allow-scripts allow-same-origin allow-popups allow-forms",renderHTML:t=>({sandbox:t.sandbox})},interactive:{default:!1,parseHTML:t=>t.getAttribute("data-interactive")==="true",renderHTML:t=>({"data-interactive":t.interactive?"true":"false"})}}},parseHTML(){return[{tag:"iframe[src]",getAttrs:t=>{const e=t.getAttribute("src"),n=t.getAttribute("width"),a=t.getAttribute("height"),o=t.getAttribute("title"),r=t.getAttribute("data-align");return{src:e,width:n?parseInt(n,10):null,height:a?parseInt(a,10):null,title:o||null,align:r||"center"}}}]},renderHTML({HTMLAttributes:t}){return["iframe",Be(this.options.HTMLAttributes,t,{loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})]},addNodeView(){return st(qr)},addCommands(){return{setIframeAlign:t=>({commands:e})=>e.updateAttributes(this.name,{align:t}),setIframe:t=>({commands:e,editor:n})=>{if(!wn(t.src,this.options))return!1;const a=wt(t.src),o=n.view.dom,r=(o==null?void 0:o.clientWidth)||800,s=vt(a,r),l={src:a,width:t.width||s.width,height:t.height||s.height,title:t.title,align:t.align||"center",aspectRatio:s.height/s.width,interactive:t.interactive};return e.insertContent({type:this.name,attrs:l})},insertIframeURL:t=>({commands:e})=>{const n=wt(t);return e.setIframe({src:n})},openIframeDialog:()=>({editor:t})=>{const e=new CustomEvent("iframe:open-dialog",{detail:{editor:t}});return t.view.dom.dispatchEvent(e),!0}}},addProseMirrorPlugins(){const t=this;return[new Ke({key:new Se("iframe-paste-handler"),props:{handlePaste:(e,n,a)=>{var s,l;const o=(s=n.clipboardData)==null?void 0:s.getData("text/plain"),r=(l=n.clipboardData)==null?void 0:l.getData("text/html");if(r){const i=Nt(r);if(i)return gt(e,t,i.src,i.width,i.height,i.title)}if(o&&o.includes("<iframe")){const i=Nt(o);if(i)return gt(e,t,i.src,i.width,i.height,i.title)}return o&&/^https?:\/\/(?:www\.)?(?:youtube\.com\/watch\?v=[\w-]+|youtu\.be\/[\w-]+|youtube\.com\/embed\/[\w-]+|vimeo\.com\/\d+|player\.vimeo\.com\/video\/\d+|codepen\.io\/[\w-]+\/pen\/[\w-]+|codesandbox\.io\/[\w\/.-]+|figma\.com\/[\w\/.-]+|embed\.figma\.com\/[\w\/.-]+)$/.test(o.trim())?gt(e,t,o.trim()):!1}}})]}});function Nt(t){try{const a=new DOMParser().parseFromString(t,"text/html").querySelector("iframe");if(!a){const i=t.match(/<iframe[^>]*src=["']([^"']+)["'][^>]*>/i);if(i){const f=i[1],d=t.match(/width=["'](\d+)["']/i),j=t.match(/height=["'](\d+)["']/i),c=t.match(/title=["']([^"']+)["']/i);return{src:f,width:d?parseInt(d[1],10):void 0,height:j?parseInt(j[1],10):void 0,title:c?c[1]:void 0}}return null}const o=a.getAttribute("src");if(!o)return null;const r=a.getAttribute("width")?parseInt(a.getAttribute("width"),10):void 0,s=a.getAttribute("height")?parseInt(a.getAttribute("height"),10):void 0,l=a.getAttribute("title")||void 0;return{src:o,width:r,height:s,title:l}}catch(e){return null}}function gt(t,e,n,a,o,r){if(!confirm(`Do you want to embed this content?

URL: ${n}

Click "OK" to create an embed, or "Cancel" to paste as plain text.`)||!wn(n,e.options))return!1;console.log("URL validated, creating iframe node");const l=wt(n),i=e.editor.view.dom,f=(i==null?void 0:i.clientWidth)||800,d=a||vt(l,f).width,j=o||vt(l,f).height,c={src:l,width:d,height:j,title:r,align:"center",aspectRatio:j/d},g=t.state.schema.nodes.iframe.create(c),p=t.state.tr.replaceSelectionWith(g);return t.dispatch(p),!0}function yn(t){return!!(t===""||/^(https?:\/\/|mailto:|tel:|\/\/)[^\s]+$/i.test(t)||/^([./#][^\s]*)$/i.test(t)||/^[\w\-]([\w\-./#?=&%]*)$/i.test(t))}const Ur={class:"p-2 flex min-w-72 items-center gap-2 bg-surface-white shadow-xl rounded-lg"},Wr={class:"shrink-0 flex items-center gap-2"},Kr=te({__name:"EditLink",props:{href:{}},emits:["updateHref","close"],setup(t,{emit:e}){const n=t,a=e,o=M(n.href),r=ot("input"),s=()=>{(o.value===""||yn(o.value))&&a("updateHref",o.value)};return Ve(()=>le(this,null,function*(){var l;yield rt(),(l=r.value)!=null&&l.el&&(r.value.el.focus(),r.value.el.select())})),(l,i)=>(u(),h("div",Ur,[P(sn,{ref_key:"input",ref:r,type:"text",class:"w-full",placeholder:"https://example.com",modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=f=>o.value=f),onKeydown:[Ne(s,["enter"]),i[1]||(i[1]=Ne(f=>l.$emit("close"),["esc"]))]},null,8,["modelValue"]),m("div",Wr,[P(Ce,{text:"Submit",placement:"top"},{default:R(()=>[P(ye,{label:"Submit",onClick:s},{icon:R(()=>[P(k(ko),{class:"size-4"})]),_:1})]),_:1}),P(Ce,{text:"Remove link",placement:"top"},{default:R(()=>[P(ye,{label:"Remove link",onClick:i[2]||(i[2]=f=>l.$emit("updateHref",""))},{icon:R(()=>[P(k(et),{class:"size-4"})]),_:1})]),_:1})])]))}});function Jr(t){return new Ke({key:new Se("handlePasteLink"),props:{handlePaste:(e,n,a)=>{const{state:o}=e,{selection:r}=o,{empty:s}=r;if(s)return!1;let l="";if(a.content.forEach(f=>{l+=f.textContent}),!l)return!1;let i=yn(l)?l:null;return i?t.editor.chain().setTextSelection({from:r.from,to:r.to}).setLink({href:i}).setTextSelection(r.to).command(({tr:f})=>(f.setStoredMarks([]),!0)).run():!1}}})}ma.extend({addOptions(){var t;return ne(G({},(t=this.parent)==null?void 0:t.call(this)),{openOnClick:!1,autolink:!0,defaultProtocol:"https",linkOnPaste:!1})},addCommands(){var t;return ne(G({},(t=this.parent)==null?void 0:t.call(this)),{openLinkEditor:()=>({editor:e})=>{const{state:n}=e,{from:a,to:o}=n.selection,{doc:r}=n;let s,l,i=!1;if(a===o){const g=n.selection.$from,p=ua(g,this.type);if(p)s=p,l=r.resolve(p.from).marks().find($=>$.type===this.type),e.chain().setTextSelection({from:p.from,to:p.to}).run(),i=!0;else return!1}else s={from:a,to:o},l=r.resolve(a).marks().find(g=>g.type===this.type);if(!s)return!1;const f=(l==null?void 0:l.attrs.href)||"",d=s.from,j=s.to,c=()=>{Xr(f,e.view.dom).then(g=>{if(g===null)return;let p=e.chain().focus(null,{scrollIntoView:!1});if(g===""){p.setTextSelection({from:d,to:j}).unsetLink().command(({tr:D})=>(D.setStoredMarks([]),!0)).run();return}p=p.setTextSelection({from:d,to:j}).setLink({href:g}).setTextSelection(j).command(({tr:D})=>(D.setStoredMarks([]),!0));const $=j,x=$<r.content.size?r.textBetween($,$+1):null;(x===null||x!==" ")&&(p=p.insertContent(" ")),p.run()}).catch(()=>{})};return i?requestAnimationFrame(c):c(),!0}})},addKeyboardShortcuts(){return{"Mod-k":()=>this.editor.commands.openLinkEditor()}},addProseMirrorPlugins(){var e;let t=((e=this.parent)==null?void 0:e.call(this))||[];return t.push(Jr({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t.push(Gr({editor:this.editor,type:this.type})),t}});function Xr(t,e){return new Promise((n,a)=>{const o=document.createElement("div");document.body.appendChild(o);let r;const s=window.getSelection();if(s&&s.rangeCount>0){const g=s.getRangeAt(0),p=g.getBoundingClientRect(),$=g.collapsed;r={getBoundingClientRect:()=>({width:0,height:p.height,top:p.top,right:$?p.left:p.right,bottom:p.bottom,left:p.left,x:p.left,y:p.top,toJSON:()=>{}})}}else r={getBoundingClientRect:()=>e.getBoundingClientRect()};let l=null,i=null,f=!1,d=!1;const j=(g,p)=>{d||(d=!0,g==="resolve"?n(p):a(p))},c=()=>{f||(f=!0,j("reject","Link editing cancelled or destroyed"),requestAnimationFrame(()=>{i==null||i.destroy(),l==null||l.unmount(),o==null||o.remove(),l=null,i=null}))};if(l=en({render(){return $t(Kr,{href:t,onClose:()=>{j("reject","Link editing cancelled"),c()},onUpdateHref:g=>{j("resolve",g),c()}})}}),l.mount(o),i=tn(e,{getReferenceClientRect:()=>r.getBoundingClientRect(),content:o,trigger:"manual",interactive:!0,appendTo:document.body,placement:"top",arrow:!1,theme:"link-editor",maxWidth:"none",onHidden(){c()},hideOnClick:!0,interactiveDebounce:75}),!i){o.remove(),j("reject","Failed to initialize link editor tooltip");return}i.show()})}function Gr(t){return new Ke({key:new Se("clearLinkMarkOnBoundary"),appendTransaction:(e,n,a)=>{if(!t.editor.isEditable)return null;const{tr:o,doc:r,selection:s,storedMarks:l}=a,{$from:i,empty:f}=s;if(!f||!l||l.length===0)return null;const d=t.type;return!l.some(p=>p.type===d)||i.marks().some(p=>p.type===d)?null:o.setStoredMarks([])}})}const kn={black:"#000000",red:"#dc2626",blue:"#1579D0",green:"#16a34a",yellow:"#ca8a04",orange:"#ea580c",purple:"#9333ea",pink:"#db2777",gray:"#6b7280",indigo:"#4f46e5",teal:"#0d9488",cyan:"#06b6d4"},xn={red:"#fecaca",blue:"#bfdbfe",green:"#bbf7d0",yellow:"#fef08a",orange:"#fed7aa",purple:"#e9d5ff",pink:"#fbcfe8",gray:"#e5e7eb",indigo:"#c7d2fe",teal:"#99f6e4",cyan:"#a5f3fc"},Cn={"#1F272E":"gray","#ca8a04":"yellow","#ea580c":"orange","#dc2626":"red","#16a34a":"green","#1579D0":"blue","#9333ea":"purple","#db2777":"pink"},$n={"#fef9c3":"yellow","#ffedd5":"orange","#fee2e2":"red","#dcfce7":"green","#D3E9FC":"blue","#f3e8ff":"purple","#fce7f3":"pink"};function yt(t,e,n,a){if(a&&t.startsWith("#")&&a[t])return a[t];let o=0,r=0,s=0;if(t.startsWith("#")){const f=t.substring(1);f.length===6&&(o=parseInt(f.substring(0,2),16),r=parseInt(f.substring(2,4),16),s=parseInt(f.substring(4,6),16))}else if(t.startsWith("rgb")){const f=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.exec(t);f&&(o=parseInt(f[1],10),r=parseInt(f[2],10),s=parseInt(f[3],10))}if(isNaN(o)||isNaN(r)||isNaN(s))return null;let l=null,i=1/0;for(const f of e){const d=n[f];if(!d)continue;const j=d.startsWith("#")?d.substring(1):d;if(j.length!==6)continue;const c=parseInt(j.substring(0,2),16),g=parseInt(j.substring(2,4),16),p=parseInt(j.substring(4,6),16),$=Math.sqrt(Math.pow(o-c,2)+Math.pow(r-g,2)+Math.pow(s-p,2));$<i&&(i=$,l=f)}return l}function Mn(t,e,n=kn,a=Cn,o="color"){const r=Object.keys(n),s=new RegExp(`${o}:\\s*(#[0-9a-f]{6})`,"i").exec(t);if(s&&s[1]){const i=yt(s[1],r,n,a);if(i&&e.includes(i))return i==="gray"?null:i}const l=new RegExp(`${o}:\\s*(rgb\\(\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*\\d+\\s*\\))`,"i").exec(t);if(l&&l[1]){const i=yt(l[1],r,n,a);if(i&&e.includes(i))return i==="gray"?null:i}return null}function Yr(t,e){return Mn(t,e,kn,Cn,"color")}function Zr(t,e){return Mn(t,e,xn,$n,"background-color")}Ye.create({name:"namedColor",addOptions(){return{types:["textStyle"],colors:["red","blue","green","yellow","orange","purple","pink","gray","teal","cyan"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{const e=t.getAttribute("style");if(e){const n=e.match(/color:\s*var\(--prose-color-(\w+)\)/);if(n&&this.options.colors.includes(n[1]))return n[1];const a=Yr(e,this.options.colors);if(a)return a}return null},renderHTML:t=>!t.color||!this.options.colors.includes(t.color)?{}:{style:`color: var(--prose-color-${t.color})`}}}}]},addCommands(){return{setColorByName:t=>({chain:e,state:n,editor:a})=>{if(!this.options.colors.includes(t))return console.warn(`Color "${t}" is not in the allowed colors list`),!1;const{to:o,empty:r}=n.selection;let s=e().setMark("textStyle",{color:t});return r||(s=s.setTextSelection(o).command(({tr:l})=>(l.setStoredMarks([]),!0))),s.focus().run()},unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});ca.create({name:"namedHighlight",addOptions(){return{HTMLAttributes:{},multicolor:!0,colors:["yellow","blue","green","red","orange","purple","pink","gray","teal","cyan"]}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>{const e=t.getAttribute("style");if(e){const a=e.match(/background-color:\s*var\(--prose-highlight-(\w+)\)/);if(a&&this.options.colors.includes(a[1]))return a[1]}const n=t.getAttribute("data-color");if(n){const a=yt(n,this.options.colors,xn,$n);if(a)return a}if(e){const a=Zr(e,this.options.colors);if(a)return a}return null},renderHTML:t=>!t.color||!this.options.colors.includes(t.color)?{}:{style:`background-color: var(--prose-highlight-${t.color})`}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Be(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlightByName:t=>({chain:e,commands:n,editor:a,state:o})=>{if(!this.options.colors.includes(t))return console.warn(`Highlight color "${t}" is not in the allowed colors list`),!1;const{from:r,to:s,empty:l}=o.selection;let i=e();return this.options.multicolor?i=i.setMark(this.name,{color:t}):i=i.setMark(this.name),l||(i=i.setTextSelection(s).command(({tr:f})=>(f.setStoredMarks([]),!0))),i.focus().run()},toggleHighlightByName:t=>({chain:e,commands:n,editor:a,state:o})=>{if(!this.options.colors.includes(t))return console.warn(`Highlight color "${t}" is not in the allowed colors list`),!1;const{to:r,empty:s}=o.selection,l=this.options.multicolor?{color:t}:void 0,i=a.isActive(this.name,l);let f=e().toggleMark(this.name,l);return!s&&!i&&(f=f.setTextSelection(r).command(({tr:d})=>(d.setStoredMarks([]),!0))),f.focus().run()},unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}}});function ut(t){return Ye.create({name:t.name,addOptions(){const e=t.addOptions?t.addOptions.call(this):{};return ne(G({},e),{suggestion:{char:t.char,pluginKey:t.pluginKey,items:t.items,command:t.command,allowSpaces:t.allowSpaces,startOfLine:t.startOfLine,decorationTag:t.decorationTag||"span",decorationClass:t.decorationClass||"suggestion",render:()=>{let n,a;return{onStart:o=>{if(n=new fa(t.component,{editor:o.editor,props:o}),!o.clientRect||!n.element)return;const r={getReferenceClientRect:o.clientRect,appendTo:()=>document.body,content:n.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"};a=tn("body",G(G({},r),t.tippyOptions))},onUpdate(o){n==null||n.updateProps(o),o.clientRect&&a&&a[0]&&a[0].setProps({getReferenceClientRect:o.clientRect})},onKeyDown(o){return o.event.key==="Escape"?(a&&a[0]&&a[0].hide(),!0):n&&n.ref&&typeof n.ref.onKeyDown=="function"?n.ref.onKeyDown(o):!1},onExit(){a&&a[0]&&a[0].destroy(),n&&n.destroy(),a=null,n=null}}}}})},addProseMirrorPlugins(){return[da(G({editor:this.editor},this.options.suggestion))]}})}const Qr=["onClick","onMouseover"],es={key:0,class:"px-3 py-1.5 text-sm text-ink-gray-5"},ct=te({__name:"SuggestionList",props:{items:{type:Array,required:!0},command:{type:Function,required:!0},containerClass:{type:String,default:""},itemClass:{type:String,default:""},showNoResults:{type:Boolean,default:!1}},setup(t,{expose:e}){const n=t,a=M(0),o=M(null),r=M([]);ga(()=>{r.value=[]});const s=()=>{rt(()=>{const c=r.value[a.value];c&&c.scrollIntoView({block:"nearest"})})},l=c=>{const g=n.items[c];g&&n.command(g)},i=({event:c})=>n.items.length?c.key==="ArrowUp"?(f(),!0):c.key==="ArrowDown"?(d(),!0):c.key==="Enter"?(j(),!0):!1:!1,f=()=>{a.value=(a.value+n.items.length-1)%n.items.length,s()},d=()=>{a.value=(a.value+1)%n.items.length,s()},j=()=>{l(a.value)};return ge(()=>n.items,()=>{a.value=0}),e({onKeyDown:i}),(c,g)=>t.items.length?(u(),h("div",{key:0,ref_key:"container",ref:o,class:O(["relative max-h-[300px] min-w-40 overflow-y-auto rounded-lg bg-surface-white p-1 text-base shadow-lg",t.containerClass])},[(u(!0),h(de,null,Ee(t.items,(p,$)=>(u(),h("button",{key:$,ref_for:!0,ref:x=>{x&&(r.value[$]=x)},class:O(["flex w-full items-center whitespace-nowrap rounded-md px-2 py-1.5 text-sm text-ink-gray-9",$===a.value?"bg-surface-gray-2":"",t.itemClass]),onClick:x=>l($),onMouseover:x=>a.value=$},[H(c.$slots,"default",{item:p,index:$},()=>[m("span",null,U(p.display||p.title||p.name),1)])],42,Qr))),128)),!t.items.length&&t.showNoResults?(u(),h("div",es," No results ")):z("",!0)],2)):z("",!0)}});function ts(t){const e={name:"mention",group:"inline",inline:!0,selectable:!0,atom:!0,addOptions(){return{component:void 0}},addAttributes(){return{id:{default:null,parseHTML:n=>n.getAttribute("data-id"),renderHTML:n=>n.id?{"data-id":n.id}:{}},label:{default:null,parseHTML:n=>n.getAttribute("data-label"),renderHTML:n=>n.label?{"data-label":n.label}:{}}}},parseHTML(){return[{tag:'span.mention[data-type="mention"]',getAttrs:n=>{const a=n;return{id:a.getAttribute("data-id"),label:a.getAttribute("data-label")}}}]},renderHTML({HTMLAttributes:n}){return["span",Be(n,{class:"mention","data-type":"mention"}),`@${n["data-label"]||n.id||""}`]}};return t&&(e.addNodeView=()=>st(t)),We.create(e)}const ns=ut({name:"mentionSuggestion",char:"@",pluginKey:new Se("mentionSuggestion"),component:ct,addOptions(){return{mentions:[]}},items:({query:t,editor:e})=>{const{mentions:n}=e.extensionManager.extensions.find(r=>r.name==="mentionSuggestion").options;return St(n).filter(r=>r.label.toLowerCase().startsWith(t.toLowerCase())).slice(0,10).map(r=>ne(G({},r),{display:r.label}))},command:({editor:t,range:e,props:n})=>{const a={id:n.id||n.value,label:n.label};t.chain().focus().insertContentAt(e,[{type:"mention",attrs:a},{type:"text",text:" "}]).run()},tippyOptions:{placement:"bottom-start",offset:[0,8]},allowSpaces:!1,decorationTag:"span",decorationClass:"mention-suggestion-active"});Ye.create({name:"mentionExtension",addOptions(){return{mentions:[],component:void 0}},addExtensions(){return[ts(this.options.component),ns.configure({mentions:this.options.mentions})]}});const as={class:"lucide lucide-gallery-vertical",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function os(t,e){return u(),h("svg",as,[...e[0]||(e[0]=[m("path",{d:"M3 2h18"},null,-1),m("rect",{width:"18",height:"12",x:"3",y:"6",rx:"2"},null,-1),m("path",{d:"M3 22h18"},null,-1)])])}const is=N({name:"lucide-gallery-vertical",render:os}),rs={class:"mr-2"},ss=te({__name:"EmojiList",props:{items:{type:Array,required:!0},editor:{type:Object,required:!0},range:{type:Object,required:!0},command:{type:Function,required:!0}},setup(t,{expose:e}){const n=t,a=M(null),o=s=>{s&&n.command(s)};return e({onKeyDown:({event:s})=>{var l,i;return(i=(l=a.value)==null?void 0:l.onKeyDown({event:s}))!=null?i:!1}}),(s,l)=>(u(),q(ct,{ref_key:"suggestionList",ref:a,items:t.items,command:i=>o(i),"item-class":"py-2"},{default:R(({item:i})=>[m("span",rs,U(i.emoji),1),m("span",null,U(i.name),1)]),_:1},8,["items","command"]))}}),ls=[{name:"grinning",emoji:""},{name:"grimacing",emoji:""},{name:"grin",emoji:""},{name:"joy",emoji:""},{name:"rofl",emoji:""},{name:"smiley",emoji:""},{name:"smile",emoji:""},{name:"sweat_smile",emoji:""},{name:"laughing",emoji:""},{name:"innocent",emoji:""},{name:"wink",emoji:""},{name:"blush",emoji:""},{name:"slightly_smiling_face",emoji:""},{name:"upside_down_face",emoji:""},{name:"relaxed",emoji:""},{name:"yum",emoji:""},{name:"relieved",emoji:""},{name:"heart_eyes",emoji:""},{name:"kissing_heart",emoji:""},{name:"kissing",emoji:""},{name:"kissing_smiling_eyes",emoji:""},{name:"kissing_closed_eyes",emoji:""},{name:"stuck_out_tongue_winking_eye",emoji:""},{name:"stuck_out_tongue_closed_eyes",emoji:""},{name:"stuck_out_tongue",emoji:""},{name:"money_mouth_face",emoji:""},{name:"nerd_face",emoji:""},{name:"sunglasses",emoji:""},{name:"clown_face",emoji:""},{name:"cowboy_hat_face",emoji:""},{name:"hugs",emoji:""},{name:"smirk",emoji:""},{name:"no_mouth",emoji:""},{name:"neutral_face",emoji:""},{name:"expressionless",emoji:""},{name:"unamused",emoji:""},{name:"roll_eyes",emoji:""},{name:"thinking",emoji:""},{name:"lying_face",emoji:""},{name:"flushed",emoji:""},{name:"disappointed",emoji:""},{name:"worried",emoji:""},{name:"angry",emoji:""},{name:"rage",emoji:""},{name:"pensive",emoji:""},{name:"confused",emoji:""},{name:"slightly_frowning_face",emoji:""},{name:"frowning_face",emoji:""},{name:"persevere",emoji:""},{name:"confounded",emoji:""},{name:"tired_face",emoji:""},{name:"weary",emoji:""},{name:"triumph",emoji:""},{name:"open_mouth",emoji:""},{name:"scream",emoji:""},{name:"fearful",emoji:""},{name:"cold_sweat",emoji:""},{name:"hushed",emoji:""},{name:"frowning_with_open_mouth",emoji:""},{name:"anguished",emoji:""},{name:"cry",emoji:""},{name:"disappointed_relieved",emoji:""},{name:"drooling_face",emoji:""},{name:"sleepy",emoji:""},{name:"sweat",emoji:""},{name:"sob",emoji:""},{name:"dizzy_face",emoji:""},{name:"astonished",emoji:""},{name:"zipper_mouth_face",emoji:""},{name:"nauseated_face",emoji:""},{name:"sneezing_face",emoji:""},{name:"mask",emoji:""},{name:"face_with_thermometer",emoji:""},{name:"face_with_head_bandage",emoji:""},{name:"sleeping",emoji:""},{name:"zzz",emoji:""},{name:"poop",emoji:""},{name:"smiling_imp",emoji:""},{name:"imp",emoji:""},{name:"japanese_ogre",emoji:""},{name:"japanese_goblin",emoji:""},{name:"skull",emoji:""},{name:"ghost",emoji:""},{name:"alien",emoji:""},{name:"robot",emoji:""},{name:"smiley_cat",emoji:""},{name:"smile_cat",emoji:""},{name:"joy_cat",emoji:""},{name:"heart_eyes_cat",emoji:""},{name:"smirk_cat",emoji:""},{name:"kissing_cat",emoji:""},{name:"scream_cat",emoji:""},{name:"crying_cat_face",emoji:""},{name:"pouting_cat",emoji:""},{name:"raised_hands",emoji:""},{name:"clap",emoji:""},{name:"wave",emoji:""},{name:"call_me_hand",emoji:""},{name:"+1",emoji:""},{name:"-1",emoji:""},{name:"facepunch",emoji:""},{name:"fist",emoji:""},{name:"fist_left",emoji:""},{name:"fist_right",emoji:""},{name:"v",emoji:""},{name:"ok_hand",emoji:""},{name:"raised_hand",emoji:""},{name:"raised_back_of_hand",emoji:""},{name:"open_hands",emoji:""},{name:"muscle",emoji:""},{name:"pray",emoji:""},{name:"handshake",emoji:""},{name:"point_up",emoji:""},{name:"point_up_2",emoji:""},{name:"point_down",emoji:""},{name:"point_left",emoji:""},{name:"point_right",emoji:""},{name:"fu",emoji:""},{name:"raised_hand_with_fingers_splayed",emoji:""},{name:"metal",emoji:""},{name:"crossed_fingers",emoji:""},{name:"vulcan_salute",emoji:""},{name:"writing_hand",emoji:""},{name:"selfie",emoji:""},{name:"nail_care",emoji:""},{name:"lips",emoji:""},{name:"tongue",emoji:""},{name:"ear",emoji:""},{name:"nose",emoji:""},{name:"eye",emoji:""},{name:"eyes",emoji:""},{name:"bust_in_silhouette",emoji:""},{name:"busts_in_silhouette",emoji:""},{name:"speaking_head",emoji:""},{name:"baby",emoji:""},{name:"boy",emoji:""},{name:"girl",emoji:""},{name:"man",emoji:""},{name:"woman",emoji:""},{name:"blonde_woman",emoji:""},{name:"blonde_man",emoji:""},{name:"older_man",emoji:""},{name:"older_woman",emoji:""},{name:"man_with_gua_pi_mao",emoji:""},{name:"woman_with_turban",emoji:""},{name:"man_with_turban",emoji:""},{name:"policewoman",emoji:""},{name:"policeman",emoji:""},{name:"construction_worker_woman",emoji:""},{name:"construction_worker_man",emoji:""},{name:"guardswoman",emoji:""},{name:"guardsman",emoji:""},{name:"female_detective",emoji:""},{name:"male_detective",emoji:""},{name:"woman_health_worker",emoji:""},{name:"man_health_worker",emoji:""},{name:"woman_farmer",emoji:""},{name:"man_farmer",emoji:""},{name:"woman_cook",emoji:""},{name:"man_cook",emoji:""},{name:"woman_student",emoji:""},{name:"man_student",emoji:""},{name:"woman_singer",emoji:""},{name:"man_singer",emoji:""},{name:"woman_teacher",emoji:""},{name:"man_teacher",emoji:""},{name:"woman_factory_worker",emoji:""},{name:"man_factory_worker",emoji:""},{name:"woman_technologist",emoji:""},{name:"man_technologist",emoji:""},{name:"woman_office_worker",emoji:""},{name:"man_office_worker",emoji:""},{name:"woman_mechanic",emoji:""},{name:"man_mechanic",emoji:""},{name:"woman_scientist",emoji:""},{name:"man_scientist",emoji:""},{name:"woman_artist",emoji:""},{name:"man_artist",emoji:""},{name:"woman_firefighter",emoji:""},{name:"man_firefighter",emoji:""},{name:"woman_pilot",emoji:""},{name:"man_pilot",emoji:""},{name:"woman_astronaut",emoji:""},{name:"man_astronaut",emoji:""},{name:"woman_judge",emoji:""},{name:"man_judge",emoji:""},{name:"mrs_claus",emoji:""},{name:"santa",emoji:""},{name:"angel",emoji:""},{name:"pregnant_woman",emoji:""},{name:"princess",emoji:""},{name:"prince",emoji:""},{name:"bride_with_veil",emoji:""},{name:"person_in_tuxedo",emoji:""},{name:"running_woman",emoji:""},{name:"running_man",emoji:""},{name:"walking_woman",emoji:""},{name:"walking_man",emoji:""},{name:"dancer",emoji:""},{name:"man_dancing",emoji:""},{name:"dancing_women",emoji:""},{name:"dancing_men",emoji:""},{name:"couple",emoji:""},{name:"two_men_holding_hands",emoji:""},{name:"two_women_holding_hands",emoji:""},{name:"bowing_woman",emoji:""},{name:"bowing_man",emoji:""},{name:"man_facepalming",emoji:""},{name:"woman_facepalming",emoji:""},{name:"woman_shrugging",emoji:""},{name:"man_shrugging",emoji:""},{name:"tipping_hand_woman",emoji:""},{name:"tipping_hand_man",emoji:""},{name:"no_good_woman",emoji:""},{name:"no_good_man",emoji:""},{name:"ok_woman",emoji:""},{name:"ok_man",emoji:""},{name:"raising_hand_woman",emoji:""},{name:"raising_hand_man",emoji:""},{name:"pouting_woman",emoji:""},{name:"pouting_man",emoji:""},{name:"frowning_woman",emoji:""},{name:"frowning_man",emoji:""},{name:"haircut_woman",emoji:""},{name:"haircut_man",emoji:""},{name:"massage_woman",emoji:""},{name:"massage_man",emoji:""},{name:"couple_with_heart",emoji:""},{name:"couple_with_heart_woman_woman",emoji:""},{name:"couple_with_heart_man_man",emoji:""},{name:"couplekiss_man_woman",emoji:""},{name:"couplekiss_woman_woman",emoji:""},{name:"couplekiss_man_man",emoji:""},{name:"family",emoji:""},{name:"family_man_woman_girl",emoji:""},{name:"family_man_woman_girl_boy",emoji:""},{name:"family_man_woman_boy_boy",emoji:""},{name:"family_man_woman_girl_girl",emoji:""},{name:"family_woman_woman_boy",emoji:""},{name:"family_woman_woman_girl",emoji:""},{name:"family_woman_woman_girl_boy",emoji:""},{name:"family_woman_woman_boy_boy",emoji:""},{name:"family_woman_woman_girl_girl",emoji:""},{name:"family_man_man_boy",emoji:""},{name:"family_man_man_girl",emoji:""},{name:"family_man_man_girl_boy",emoji:""},{name:"family_man_man_boy_boy",emoji:""},{name:"family_man_man_girl_girl",emoji:""},{name:"family_woman_boy",emoji:""},{name:"family_woman_girl",emoji:""},{name:"family_woman_girl_boy",emoji:""},{name:"family_woman_boy_boy",emoji:""},{name:"family_woman_girl_girl",emoji:""},{name:"family_man_boy",emoji:""},{name:"family_man_girl",emoji:""},{name:"family_man_girl_boy",emoji:""},{name:"family_man_boy_boy",emoji:""},{name:"family_man_girl_girl",emoji:""},{name:"womans_clothes",emoji:""},{name:"tshirt",emoji:""},{name:"jeans",emoji:""},{name:"necktie",emoji:""},{name:"dress",emoji:""},{name:"bikini",emoji:""},{name:"kimono",emoji:""},{name:"lipstick",emoji:""},{name:"kiss",emoji:""},{name:"footprints",emoji:""},{name:"high_heel",emoji:""},{name:"sandal",emoji:""},{name:"boot",emoji:""},{name:"mans_shoe",emoji:""},{name:"athletic_shoe",emoji:""},{name:"womans_hat",emoji:""},{name:"tophat",emoji:""},{name:"rescue_worker_helmet",emoji:""},{name:"mortar_board",emoji:""},{name:"crown",emoji:""},{name:"school_satchel",emoji:""},{name:"pouch",emoji:""},{name:"purse",emoji:""},{name:"handbag",emoji:""},{name:"briefcase",emoji:""},{name:"eyeglasses",emoji:""},{name:"dark_sunglasses",emoji:""},{name:"ring",emoji:""},{name:"closed_umbrella",emoji:""},{name:"dog",emoji:""},{name:"cat",emoji:""},{name:"mouse",emoji:""},{name:"hamster",emoji:""},{name:"rabbit",emoji:""},{name:"fox_face",emoji:""},{name:"bear",emoji:""},{name:"panda_face",emoji:""},{name:"koala",emoji:""},{name:"tiger",emoji:""},{name:"lion",emoji:""},{name:"cow",emoji:""},{name:"pig",emoji:""},{name:"pig_nose",emoji:""},{name:"frog",emoji:""},{name:"squid",emoji:""},{name:"octopus",emoji:""},{name:"shrimp",emoji:""},{name:"monkey_face",emoji:""},{name:"gorilla",emoji:""},{name:"see_no_evil",emoji:""},{name:"hear_no_evil",emoji:""},{name:"speak_no_evil",emoji:""},{name:"monkey",emoji:""},{name:"chicken",emoji:""},{name:"penguin",emoji:""},{name:"bird",emoji:""},{name:"baby_chick",emoji:""},{name:"hatching_chick",emoji:""},{name:"hatched_chick",emoji:""},{name:"duck",emoji:""},{name:"eagle",emoji:""},{name:"owl",emoji:""},{name:"bat",emoji:""},{name:"wolf",emoji:""},{name:"boar",emoji:""},{name:"horse",emoji:""},{name:"unicorn",emoji:""},{name:"honeybee",emoji:""},{name:"bug",emoji:""},{name:"butterfly",emoji:""},{name:"snail",emoji:""},{name:"lady_beetle",emoji:""},{name:"ant",emoji:""},{name:"spider",emoji:""},{name:"scorpion",emoji:""},{name:"crab",emoji:""},{name:"snake",emoji:""},{name:"lizard",emoji:""},{name:"turtle",emoji:""},{name:"tropical_fish",emoji:""},{name:"fish",emoji:""},{name:"blowfish",emoji:""},{name:"dolphin",emoji:""},{name:"shark",emoji:""},{name:"whale",emoji:""},{name:"whale2",emoji:""},{name:"crocodile",emoji:""},{name:"leopard",emoji:""},{name:"tiger2",emoji:""},{name:"water_buffalo",emoji:""},{name:"ox",emoji:""},{name:"cow2",emoji:""},{name:"deer",emoji:""},{name:"dromedary_camel",emoji:""},{name:"camel",emoji:""},{name:"elephant",emoji:""},{name:"rhinoceros",emoji:""},{name:"goat",emoji:""},{name:"ram",emoji:""},{name:"sheep",emoji:""},{name:"racehorse",emoji:""},{name:"pig2",emoji:""},{name:"rat",emoji:""},{name:"mouse2",emoji:""},{name:"rooster",emoji:""},{name:"turkey",emoji:""},{name:"dove",emoji:""},{name:"dog2",emoji:""},{name:"poodle",emoji:""},{name:"cat2",emoji:""},{name:"rabbit2",emoji:""},{name:"chipmunk",emoji:""},{name:"paw_prints",emoji:""},{name:"dragon",emoji:""},{name:"dragon_face",emoji:""},{name:"cactus",emoji:""},{name:"christmas_tree",emoji:""},{name:"evergreen_tree",emoji:""},{name:"deciduous_tree",emoji:""},{name:"palm_tree",emoji:""},{name:"seedling",emoji:""},{name:"herb",emoji:""},{name:"shamrock",emoji:""},{name:"four_leaf_clover",emoji:""},{name:"bamboo",emoji:""},{name:"tanabata_tree",emoji:""},{name:"leaves",emoji:""},{name:"fallen_leaf",emoji:""},{name:"maple_leaf",emoji:""},{name:"ear_of_rice",emoji:""},{name:"hibiscus",emoji:""},{name:"sunflower",emoji:""},{name:"rose",emoji:""},{name:"wilted_flower",emoji:""},{name:"tulip",emoji:""},{name:"blossom",emoji:""},{name:"cherry_blossom",emoji:""},{name:"bouquet",emoji:""},{name:"mushroom",emoji:""},{name:"chestnut",emoji:""},{name:"jack_o_lantern",emoji:""},{name:"shell",emoji:""},{name:"spider_web",emoji:""},{name:"earth_americas",emoji:""},{name:"earth_africa",emoji:""},{name:"earth_asia",emoji:""},{name:"full_moon",emoji:""},{name:"waning_gibbous_moon",emoji:""},{name:"last_quarter_moon",emoji:""},{name:"waning_crescent_moon",emoji:""},{name:"new_moon",emoji:""},{name:"waxing_crescent_moon",emoji:""},{name:"first_quarter_moon",emoji:""},{name:"waxing_gibbous_moon",emoji:""},{name:"new_moon_with_face",emoji:""},{name:"full_moon_with_face",emoji:""},{name:"first_quarter_moon_with_face",emoji:""},{name:"last_quarter_moon_with_face",emoji:""},{name:"sun_with_face",emoji:""},{name:"crescent_moon",emoji:""},{name:"star",emoji:""},{name:"star2",emoji:""},{name:"dizzy",emoji:""},{name:"sparkles",emoji:""},{name:"comet",emoji:""},{name:"sunny",emoji:""},{name:"sun_behind_small_cloud",emoji:""},{name:"partly_sunny",emoji:""},{name:"sun_behind_large_cloud",emoji:""},{name:"sun_behind_rain_cloud",emoji:""},{name:"cloud",emoji:""},{name:"cloud_with_rain",emoji:""},{name:"cloud_with_lightning_and_rain",emoji:""},{name:"cloud_with_lightning",emoji:""},{name:"zap",emoji:""},{name:"fire",emoji:""},{name:"boom",emoji:""},{name:"snowflake",emoji:""},{name:"cloud_with_snow",emoji:""},{name:"snowman",emoji:""},{name:"snowman_with_snow",emoji:""},{name:"wind_face",emoji:""},{name:"dash",emoji:""},{name:"tornado",emoji:""},{name:"fog",emoji:""},{name:"open_umbrella",emoji:""},{name:"umbrella",emoji:""},{name:"droplet",emoji:""},{name:"sweat_drops",emoji:""},{name:"ocean",emoji:""},{name:"green_apple",emoji:""},{name:"apple",emoji:""},{name:"pear",emoji:""},{name:"tangerine",emoji:""},{name:"lemon",emoji:""},{name:"banana",emoji:""},{name:"watermelon",emoji:""},{name:"grapes",emoji:""},{name:"strawberry",emoji:""},{name:"melon",emoji:""},{name:"cherries",emoji:""},{name:"peach",emoji:""},{name:"pineapple",emoji:""},{name:"kiwi_fruit",emoji:""},{name:"avocado",emoji:""},{name:"tomato",emoji:""},{name:"eggplant",emoji:""},{name:"cucumber",emoji:""},{name:"carrot",emoji:""},{name:"hot_pepper",emoji:""},{name:"potato",emoji:""},{name:"corn",emoji:""},{name:"sweet_potato",emoji:""},{name:"peanuts",emoji:""},{name:"honey_pot",emoji:""},{name:"croissant",emoji:""},{name:"bread",emoji:""},{name:"baguette_bread",emoji:""},{name:"cheese",emoji:""},{name:"egg",emoji:""},{name:"bacon",emoji:""},{name:"pancakes",emoji:""},{name:"poultry_leg",emoji:""},{name:"meat_on_bone",emoji:""},{name:"fried_shrimp",emoji:""},{name:"fried_egg",emoji:""},{name:"hamburger",emoji:""},{name:"fries",emoji:""},{name:"stuffed_flatbread",emoji:""},{name:"hotdog",emoji:""},{name:"pizza",emoji:""},{name:"spaghetti",emoji:""},{name:"taco",emoji:""},{name:"burrito",emoji:""},{name:"green_salad",emoji:""},{name:"shallow_pan_of_food",emoji:""},{name:"ramen",emoji:""},{name:"stew",emoji:""},{name:"fish_cake",emoji:""},{name:"sushi",emoji:""},{name:"bento",emoji:""},{name:"curry",emoji:""},{name:"rice_ball",emoji:""},{name:"rice",emoji:""},{name:"rice_cracker",emoji:""},{name:"oden",emoji:""},{name:"dango",emoji:""},{name:"shaved_ice",emoji:""},{name:"ice_cream",emoji:""},{name:"icecream",emoji:""},{name:"cake",emoji:""},{name:"birthday",emoji:""},{name:"custard",emoji:""},{name:"candy",emoji:""},{name:"lollipop",emoji:""},{name:"chocolate_bar",emoji:""},{name:"popcorn",emoji:""},{name:"doughnut",emoji:""},{name:"cookie",emoji:""},{name:"milk_glass",emoji:""},{name:"beer",emoji:""},{name:"beers",emoji:""},{name:"clinking_glasses",emoji:""},{name:"wine_glass",emoji:""},{name:"tumbler_glass",emoji:""},{name:"cocktail",emoji:""},{name:"tropical_drink",emoji:""},{name:"champagne",emoji:""},{name:"sake",emoji:""},{name:"tea",emoji:""},{name:"coffee",emoji:""},{name:"baby_bottle",emoji:""},{name:"spoon",emoji:""},{name:"fork_and_knife",emoji:""},{name:"plate_with_cutlery",emoji:""},{name:"soccer",emoji:""},{name:"basketball",emoji:""},{name:"football",emoji:""},{name:"baseball",emoji:""},{name:"tennis",emoji:""},{name:"volleyball",emoji:""},{name:"rugby_football",emoji:""},{name:"8ball",emoji:""},{name:"golf",emoji:""},{name:"golfing_woman",emoji:""},{name:"golfing_man",emoji:""},{name:"ping_pong",emoji:""},{name:"badminton",emoji:""},{name:"goal_net",emoji:""},{name:"ice_hockey",emoji:""},{name:"field_hockey",emoji:""},{name:"cricket_bat_and_ball",emoji:""},{name:"ski",emoji:""},{name:"skier",emoji:""},{name:"snowboarder",emoji:""},{name:"person_fencing",emoji:""},{name:"women_wrestling",emoji:""},{name:"men_wrestling",emoji:""},{name:"woman_cartwheeling",emoji:""},{name:"man_cartwheeling",emoji:""},{name:"woman_playing_handball",emoji:""},{name:"man_playing_handball",emoji:""},{name:"ice_skate",emoji:""},{name:"bow_and_arrow",emoji:""},{name:"fishing_pole_and_fish",emoji:""},{name:"boxing_glove",emoji:""},{name:"martial_arts_uniform",emoji:""},{name:"rowing_woman",emoji:""},{name:"rowing_man",emoji:""},{name:"swimming_woman",emoji:""},{name:"swimming_man",emoji:""},{name:"woman_playing_water_polo",emoji:""},{name:"man_playing_water_polo",emoji:""},{name:"surfing_woman",emoji:""},{name:"surfing_man",emoji:""},{name:"bath",emoji:""},{name:"basketball_woman",emoji:""},{name:"basketball_man",emoji:""},{name:"weight_lifting_woman",emoji:""},{name:"weight_lifting_man",emoji:""},{name:"biking_woman",emoji:""},{name:"biking_man",emoji:""},{name:"mountain_biking_woman",emoji:""},{name:"mountain_biking_man",emoji:""},{name:"horse_racing",emoji:""},{name:"business_suit_levitating",emoji:""},{name:"trophy",emoji:""},{name:"running_shirt_with_sash",emoji:""},{name:"medal_sports",emoji:""},{name:"medal_military",emoji:""},{name:"1st_place_medal",emoji:""},{name:"2nd_place_medal",emoji:""},{name:"3rd_place_medal",emoji:""},{name:"reminder_ribbon",emoji:""},{name:"rosette",emoji:""},{name:"ticket",emoji:""},{name:"tickets",emoji:""},{name:"performing_arts",emoji:""},{name:"art",emoji:""},{name:"circus_tent",emoji:""},{name:"woman_juggling",emoji:""},{name:"man_juggling",emoji:""},{name:"microphone",emoji:""},{name:"headphones",emoji:""},{name:"musical_score",emoji:""},{name:"musical_keyboard",emoji:""},{name:"drum",emoji:""},{name:"saxophone",emoji:""},{name:"trumpet",emoji:""},{name:"guitar",emoji:""},{name:"violin",emoji:""},{name:"clapper",emoji:""},{name:"video_game",emoji:""},{name:"space_invader",emoji:""},{name:"dart",emoji:""},{name:"game_die",emoji:""},{name:"slot_machine",emoji:""},{name:"bowling",emoji:""},{name:"red_car",emoji:""},{name:"taxi",emoji:""},{name:"blue_car",emoji:""},{name:"bus",emoji:""},{name:"trolleybus",emoji:""},{name:"racing_car",emoji:""},{name:"police_car",emoji:""},{name:"ambulance",emoji:""},{name:"fire_engine",emoji:""},{name:"minibus",emoji:""},{name:"truck",emoji:""},{name:"articulated_lorry",emoji:""},{name:"tractor",emoji:""},{name:"kick_scooter",emoji:""},{name:"motorcycle",emoji:""},{name:"bike",emoji:""},{name:"motor_scooter",emoji:""},{name:"rotating_light",emoji:""},{name:"oncoming_police_car",emoji:""},{name:"oncoming_bus",emoji:""},{name:"oncoming_automobile",emoji:""},{name:"oncoming_taxi",emoji:""},{name:"aerial_tramway",emoji:""},{name:"mountain_cableway",emoji:""},{name:"suspension_railway",emoji:""},{name:"railway_car",emoji:""},{name:"train",emoji:""},{name:"monorail",emoji:""},{name:"bullettrain_side",emoji:""},{name:"bullettrain_front",emoji:""},{name:"light_rail",emoji:""},{name:"mountain_railway",emoji:""},{name:"steam_locomotive",emoji:""},{name:"train2",emoji:""},{name:"metro",emoji:""},{name:"tram",emoji:""},{name:"station",emoji:""},{name:"helicopter",emoji:""},{name:"small_airplane",emoji:""},{name:"airplane",emoji:""},{name:"flight_departure",emoji:""},{name:"flight_arrival",emoji:""},{name:"sailboat",emoji:""},{name:"motor_boat",emoji:""},{name:"speedboat",emoji:""},{name:"ferry",emoji:""},{name:"passenger_ship",emoji:""},{name:"rocket",emoji:""},{name:"artificial_satellite",emoji:""},{name:"seat",emoji:""},{name:"canoe",emoji:""},{name:"anchor",emoji:""},{name:"construction",emoji:""},{name:"fuelpump",emoji:""},{name:"busstop",emoji:""},{name:"vertical_traffic_light",emoji:""},{name:"traffic_light",emoji:""},{name:"checkered_flag",emoji:""},{name:"ship",emoji:""},{name:"ferris_wheel",emoji:""},{name:"roller_coaster",emoji:""},{name:"carousel_horse",emoji:""},{name:"building_construction",emoji:""},{name:"foggy",emoji:""},{name:"tokyo_tower",emoji:""},{name:"factory",emoji:""},{name:"fountain",emoji:""},{name:"rice_scene",emoji:""},{name:"mountain",emoji:""},{name:"mountain_snow",emoji:""},{name:"mount_fuji",emoji:""},{name:"volcano",emoji:""},{name:"japan",emoji:""},{name:"camping",emoji:""},{name:"tent",emoji:""},{name:"national_park",emoji:""},{name:"motorway",emoji:""},{name:"railway_track",emoji:""},{name:"sunrise",emoji:""},{name:"sunrise_over_mountains",emoji:""},{name:"desert",emoji:""},{name:"beach_umbrella",emoji:""},{name:"desert_island",emoji:""},{name:"city_sunrise",emoji:""},{name:"city_sunset",emoji:""},{name:"cityscape",emoji:""},{name:"night_with_stars",emoji:""},{name:"bridge_at_night",emoji:""},{name:"milky_way",emoji:""},{name:"stars",emoji:""},{name:"sparkler",emoji:""},{name:"fireworks",emoji:""},{name:"rainbow",emoji:""},{name:"houses",emoji:""},{name:"european_castle",emoji:""},{name:"japanese_castle",emoji:""},{name:"stadium",emoji:""},{name:"statue_of_liberty",emoji:""},{name:"house",emoji:""},{name:"house_with_garden",emoji:""},{name:"derelict_house",emoji:""},{name:"office",emoji:""},{name:"department_store",emoji:""},{name:"post_office",emoji:""},{name:"european_post_office",emoji:""},{name:"hospital",emoji:""},{name:"bank",emoji:""},{name:"hotel",emoji:""},{name:"convenience_store",emoji:""},{name:"school",emoji:""},{name:"love_hotel",emoji:""},{name:"wedding",emoji:""},{name:"classical_building",emoji:""},{name:"church",emoji:""},{name:"mosque",emoji:""},{name:"synagogue",emoji:""},{name:"kaaba",emoji:""},{name:"shinto_shrine",emoji:""},{name:"watch",emoji:""},{name:"iphone",emoji:""},{name:"calling",emoji:""},{name:"computer",emoji:""},{name:"keyboard",emoji:""},{name:"desktop_computer",emoji:""},{name:"printer",emoji:""},{name:"computer_mouse",emoji:""},{name:"trackball",emoji:""},{name:"joystick",emoji:""},{name:"clamp",emoji:""},{name:"minidisc",emoji:""},{name:"floppy_disk",emoji:""},{name:"cd",emoji:""},{name:"dvd",emoji:""},{name:"vhs",emoji:""},{name:"camera",emoji:""},{name:"camera_flash",emoji:""},{name:"video_camera",emoji:""},{name:"movie_camera",emoji:""},{name:"film_projector",emoji:""},{name:"film_strip",emoji:""},{name:"telephone_receiver",emoji:""},{name:"phone",emoji:""},{name:"pager",emoji:""},{name:"fax",emoji:""},{name:"tv",emoji:""},{name:"radio",emoji:""},{name:"studio_microphone",emoji:""},{name:"level_slider",emoji:""},{name:"control_knobs",emoji:""},{name:"stopwatch",emoji:""},{name:"timer_clock",emoji:""},{name:"alarm_clock",emoji:""},{name:"mantelpiece_clock",emoji:""},{name:"hourglass_flowing_sand",emoji:""},{name:"hourglass",emoji:""},{name:"satellite",emoji:""},{name:"battery",emoji:""},{name:"electric_plug",emoji:""},{name:"bulb",emoji:""},{name:"flashlight",emoji:""},{name:"candle",emoji:""},{name:"wastebasket",emoji:""},{name:"oil_drum",emoji:""},{name:"money_with_wings",emoji:""},{name:"dollar",emoji:""},{name:"yen",emoji:""},{name:"euro",emoji:""},{name:"pound",emoji:""},{name:"moneybag",emoji:""},{name:"credit_card",emoji:""},{name:"gem",emoji:""},{name:"balance_scale",emoji:""},{name:"wrench",emoji:""},{name:"hammer",emoji:""},{name:"hammer_and_pick",emoji:""},{name:"hammer_and_wrench",emoji:""},{name:"pick",emoji:""},{name:"nut_and_bolt",emoji:""},{name:"gear",emoji:""},{name:"chains",emoji:""},{name:"gun",emoji:""},{name:"bomb",emoji:""},{name:"hocho",emoji:""},{name:"dagger",emoji:""},{name:"crossed_swords",emoji:""},{name:"shield",emoji:""},{name:"smoking",emoji:""},{name:"skull_and_crossbones",emoji:""},{name:"coffin",emoji:""},{name:"funeral_urn",emoji:""},{name:"amphora",emoji:""},{name:"crystal_ball",emoji:""},{name:"prayer_beads",emoji:""},{name:"barber",emoji:""},{name:"alembic",emoji:""},{name:"telescope",emoji:""},{name:"microscope",emoji:""},{name:"hole",emoji:""},{name:"pill",emoji:""},{name:"syringe",emoji:""},{name:"thermometer",emoji:""},{name:"label",emoji:""},{name:"bookmark",emoji:""},{name:"toilet",emoji:""},{name:"shower",emoji:""},{name:"bathtub",emoji:""},{name:"key",emoji:""},{name:"old_key",emoji:""},{name:"couch_and_lamp",emoji:""},{name:"sleeping_bed",emoji:""},{name:"bed",emoji:""},{name:"door",emoji:""},{name:"bellhop_bell",emoji:""},{name:"framed_picture",emoji:""},{name:"world_map",emoji:""},{name:"parasol_on_ground",emoji:""},{name:"moyai",emoji:""},{name:"shopping",emoji:""},{name:"shopping_cart",emoji:""},{name:"balloon",emoji:""},{name:"flags",emoji:""},{name:"ribbon",emoji:""},{name:"gift",emoji:""},{name:"confetti_ball",emoji:""},{name:"tada",emoji:""},{name:"dolls",emoji:""},{name:"wind_chime",emoji:""},{name:"crossed_flags",emoji:""},{name:"izakaya_lantern",emoji:""},{name:"email",emoji:""},{name:"envelope_with_arrow",emoji:""},{name:"incoming_envelope",emoji:""},{name:"e-mail",emoji:""},{name:"love_letter",emoji:""},{name:"postbox",emoji:""},{name:"mailbox_closed",emoji:""},{name:"mailbox",emoji:""},{name:"mailbox_with_mail",emoji:""},{name:"mailbox_with_no_mail",emoji:""},{name:"package",emoji:""},{name:"postal_horn",emoji:""},{name:"inbox_tray",emoji:""},{name:"outbox_tray",emoji:""},{name:"scroll",emoji:""},{name:"page_with_curl",emoji:""},{name:"bookmark_tabs",emoji:""},{name:"bar_chart",emoji:""},{name:"chart_with_upwards_trend",emoji:""},{name:"chart_with_downwards_trend",emoji:""},{name:"page_facing_up",emoji:""},{name:"date",emoji:""},{name:"calendar",emoji:""},{name:"spiral_calendar",emoji:""},{name:"card_index",emoji:""},{name:"card_file_box",emoji:""},{name:"ballot_box",emoji:""},{name:"file_cabinet",emoji:""},{name:"clipboard",emoji:""},{name:"spiral_notepad",emoji:""},{name:"file_folder",emoji:""},{name:"open_file_folder",emoji:""},{name:"card_index_dividers",emoji:""},{name:"newspaper_roll",emoji:""},{name:"newspaper",emoji:""},{name:"notebook",emoji:""},{name:"closed_book",emoji:""},{name:"green_book",emoji:""},{name:"blue_book",emoji:""},{name:"orange_book",emoji:""},{name:"notebook_with_decorative_cover",emoji:""},{name:"ledger",emoji:""},{name:"books",emoji:""},{name:"open_book",emoji:""},{name:"link",emoji:""},{name:"paperclip",emoji:""},{name:"paperclips",emoji:""},{name:"scissors",emoji:""},{name:"triangular_ruler",emoji:""},{name:"straight_ruler",emoji:""},{name:"pushpin",emoji:""},{name:"round_pushpin",emoji:""},{name:"triangular_flag_on_post",emoji:""},{name:"white_flag",emoji:""},{name:"black_flag",emoji:""},{name:"rainbow_flag",emoji:""},{name:"closed_lock_with_key",emoji:""},{name:"lock",emoji:""},{name:"unlock",emoji:""},{name:"lock_with_ink_pen",emoji:""},{name:"pen",emoji:""},{name:"fountain_pen",emoji:""},{name:"black_nib",emoji:""},{name:"memo",emoji:""},{name:"pencil2",emoji:""},{name:"crayon",emoji:""},{name:"paintbrush",emoji:""},{name:"mag",emoji:""},{name:"mag_right",emoji:""},{name:"heart",emoji:""},{name:"yellow_heart",emoji:""},{name:"green_heart",emoji:""},{name:"blue_heart",emoji:""},{name:"purple_heart",emoji:""},{name:"black_heart",emoji:""},{name:"broken_heart",emoji:""},{name:"heavy_heart_exclamation",emoji:""},{name:"two_hearts",emoji:""},{name:"revolving_hearts",emoji:""},{name:"heartbeat",emoji:""},{name:"heartpulse",emoji:""},{name:"sparkling_heart",emoji:""},{name:"cupid",emoji:""},{name:"gift_heart",emoji:""},{name:"heart_decoration",emoji:""},{name:"peace_symbol",emoji:""},{name:"latin_cross",emoji:""},{name:"star_and_crescent",emoji:""},{name:"om",emoji:""},{name:"wheel_of_dharma",emoji:""},{name:"star_of_david",emoji:""},{name:"six_pointed_star",emoji:""},{name:"menorah",emoji:""},{name:"yin_yang",emoji:""},{name:"orthodox_cross",emoji:""},{name:"place_of_worship",emoji:""},{name:"ophiuchus",emoji:""},{name:"aries",emoji:""},{name:"taurus",emoji:""},{name:"gemini",emoji:""},{name:"cancer",emoji:""},{name:"leo",emoji:""},{name:"virgo",emoji:""},{name:"libra",emoji:""},{name:"scorpius",emoji:""},{name:"sagittarius",emoji:""},{name:"capricorn",emoji:""},{name:"aquarius",emoji:""},{name:"pisces",emoji:""},{name:"id",emoji:""},{name:"atom_symbol",emoji:""},{name:"u7a7a",emoji:""},{name:"u5272",emoji:""},{name:"radioactive",emoji:""},{name:"biohazard",emoji:""},{name:"mobile_phone_off",emoji:""},{name:"vibration_mode",emoji:""},{name:"u6709",emoji:""},{name:"u7121",emoji:""},{name:"u7533",emoji:""},{name:"u55b6",emoji:""},{name:"u6708",emoji:""},{name:"eight_pointed_black_star",emoji:""},{name:"vs",emoji:""},{name:"accept",emoji:""},{name:"white_flower",emoji:""},{name:"ideograph_advantage",emoji:""},{name:"secret",emoji:""},{name:"congratulations",emoji:""},{name:"u5408",emoji:""},{name:"u6e80",emoji:""},{name:"u7981",emoji:""},{name:"a",emoji:""},{name:"b",emoji:""},{name:"ab",emoji:""},{name:"cl",emoji:""},{name:"o2",emoji:""},{name:"sos",emoji:""},{name:"no_entry",emoji:""},{name:"name_badge",emoji:""},{name:"no_entry_sign",emoji:""},{name:"x",emoji:""},{name:"o",emoji:""},{name:"stop_sign",emoji:""},{name:"anger",emoji:""},{name:"hotsprings",emoji:""},{name:"no_pedestrians",emoji:""},{name:"do_not_litter",emoji:""},{name:"no_bicycles",emoji:""},{name:"non-potable_water",emoji:""},{name:"underage",emoji:""},{name:"no_mobile_phones",emoji:""},{name:"exclamation",emoji:""},{name:"grey_exclamation",emoji:""},{name:"question",emoji:""},{name:"grey_question",emoji:""},{name:"bangbang",emoji:""},{name:"interrobang",emoji:""},{name:"100",emoji:""},{name:"low_brightness",emoji:""},{name:"high_brightness",emoji:""},{name:"trident",emoji:""},{name:"fleur_de_lis",emoji:""},{name:"part_alternation_mark",emoji:""},{name:"warning",emoji:""},{name:"children_crossing",emoji:""},{name:"beginner",emoji:""},{name:"recycle",emoji:""},{name:"u6307",emoji:""},{name:"chart",emoji:""},{name:"sparkle",emoji:""},{name:"eight_spoked_asterisk",emoji:""},{name:"negative_squared_cross_mark",emoji:""},{name:"white_check_mark",emoji:""},{name:"diamond_shape_with_a_dot_inside",emoji:""},{name:"cyclone",emoji:""},{name:"loop",emoji:""},{name:"globe_with_meridians",emoji:""},{name:"m",emoji:""},{name:"atm",emoji:""},{name:"sa",emoji:""},{name:"passport_control",emoji:""},{name:"customs",emoji:""},{name:"baggage_claim",emoji:""},{name:"left_luggage",emoji:""},{name:"wheelchair",emoji:""},{name:"no_smoking",emoji:""},{name:"wc",emoji:""},{name:"parking",emoji:""},{name:"potable_water",emoji:""},{name:"mens",emoji:""},{name:"womens",emoji:""},{name:"baby_symbol",emoji:""},{name:"restroom",emoji:""},{name:"put_litter_in_its_place",emoji:""},{name:"cinema",emoji:""},{name:"signal_strength",emoji:""},{name:"koko",emoji:""},{name:"ng",emoji:""},{name:"ok",emoji:""},{name:"up",emoji:""},{name:"cool",emoji:""},{name:"new",emoji:""},{name:"free",emoji:""},{name:"zero",emoji:"0"},{name:"one",emoji:"1"},{name:"two",emoji:"2"},{name:"three",emoji:"3"},{name:"four",emoji:"4"},{name:"five",emoji:"5"},{name:"six",emoji:"6"},{name:"seven",emoji:"7"},{name:"eight",emoji:"8"},{name:"nine",emoji:"9"},{name:"keycap_ten",emoji:""},{name:"asterisk",emoji:"*"},{name:"1234",emoji:""},{name:"arrow_forward",emoji:""},{name:"pause_button",emoji:""},{name:"next_track_button",emoji:""},{name:"stop_button",emoji:""},{name:"record_button",emoji:""},{name:"play_or_pause_button",emoji:""},{name:"previous_track_button",emoji:""},{name:"fast_forward",emoji:""},{name:"rewind",emoji:""},{name:"twisted_rightwards_arrows",emoji:""},{name:"repeat",emoji:""},{name:"repeat_one",emoji:""},{name:"arrow_backward",emoji:""},{name:"arrow_up_small",emoji:""},{name:"arrow_down_small",emoji:""},{name:"arrow_double_up",emoji:""},{name:"arrow_double_down",emoji:""},{name:"arrow_right",emoji:""},{name:"arrow_left",emoji:""},{name:"arrow_up",emoji:""},{name:"arrow_down",emoji:""},{name:"arrow_upper_right",emoji:""},{name:"arrow_lower_right",emoji:""},{name:"arrow_lower_left",emoji:""},{name:"arrow_upper_left",emoji:""},{name:"arrow_up_down",emoji:""},{name:"left_right_arrow",emoji:""},{name:"arrows_counterclockwise",emoji:""},{name:"arrow_right_hook",emoji:""},{name:"leftwards_arrow_with_hook",emoji:""},{name:"arrow_heading_up",emoji:""},{name:"arrow_heading_down",emoji:""},{name:"hash",emoji:"#"},{name:"information_source",emoji:""},{name:"abc",emoji:""},{name:"abcd",emoji:""},{name:"capital_abcd",emoji:""},{name:"symbols",emoji:""},{name:"musical_note",emoji:""},{name:"notes",emoji:""},{name:"wavy_dash",emoji:""},{name:"curly_loop",emoji:""},{name:"heavy_check_mark",emoji:""},{name:"arrows_clockwise",emoji:""},{name:"heavy_plus_sign",emoji:""},{name:"heavy_minus_sign",emoji:""},{name:"heavy_division_sign",emoji:""},{name:"heavy_multiplication_x",emoji:""},{name:"heavy_dollar_sign",emoji:""},{name:"currency_exchange",emoji:""},{name:"copyright",emoji:""},{name:"registered",emoji:""},{name:"tm",emoji:""},{name:"end",emoji:""},{name:"back",emoji:""},{name:"on",emoji:""},{name:"top",emoji:""},{name:"soon",emoji:""},{name:"ballot_box_with_check",emoji:""},{name:"radio_button",emoji:""},{name:"white_circle",emoji:""},{name:"black_circle",emoji:""},{name:"red_circle",emoji:""},{name:"large_blue_circle",emoji:""},{name:"small_orange_diamond",emoji:""},{name:"small_blue_diamond",emoji:""},{name:"large_orange_diamond",emoji:""},{name:"large_blue_diamond",emoji:""},{name:"small_red_triangle",emoji:""},{name:"black_small_square",emoji:""},{name:"white_small_square",emoji:""},{name:"black_large_square",emoji:""},{name:"white_large_square",emoji:""},{name:"small_red_triangle_down",emoji:""},{name:"black_medium_square",emoji:""},{name:"white_medium_square",emoji:""},{name:"black_medium_small_square",emoji:""},{name:"white_medium_small_square",emoji:""},{name:"black_square_button",emoji:""},{name:"white_square_button",emoji:""},{name:"speaker",emoji:""},{name:"sound",emoji:""},{name:"loud_sound",emoji:""},{name:"mute",emoji:""},{name:"mega",emoji:""},{name:"loudspeaker",emoji:""},{name:"bell",emoji:""},{name:"no_bell",emoji:""},{name:"black_joker",emoji:""},{name:"mahjong",emoji:""},{name:"spades",emoji:""},{name:"clubs",emoji:""},{name:"hearts",emoji:""},{name:"diamonds",emoji:""},{name:"flower_playing_cards",emoji:""},{name:"thought_balloon",emoji:""},{name:"right_anger_bubble",emoji:""},{name:"speech_balloon",emoji:""},{name:"left_speech_bubble",emoji:""},{name:"clock1",emoji:""},{name:"clock2",emoji:""},{name:"clock3",emoji:""},{name:"clock4",emoji:""},{name:"clock5",emoji:""},{name:"clock6",emoji:""},{name:"clock7",emoji:""},{name:"clock8",emoji:""},{name:"clock9",emoji:""},{name:"clock10",emoji:""},{name:"clock11",emoji:""},{name:"clock12",emoji:""},{name:"clock130",emoji:""},{name:"clock230",emoji:""},{name:"clock330",emoji:""},{name:"clock430",emoji:""},{name:"clock530",emoji:""},{name:"clock630",emoji:""},{name:"clock730",emoji:""},{name:"clock830",emoji:""},{name:"clock930",emoji:""},{name:"clock1030",emoji:""},{name:"clock1130",emoji:""},{name:"clock1230",emoji:""},{name:"afghanistan",emoji:""},{name:"aland_islands",emoji:""},{name:"albania",emoji:""},{name:"algeria",emoji:""},{name:"american_samoa",emoji:""},{name:"andorra",emoji:""},{name:"angola",emoji:""},{name:"anguilla",emoji:""},{name:"antarctica",emoji:""},{name:"antigua_barbuda",emoji:""},{name:"argentina",emoji:""},{name:"armenia",emoji:""},{name:"aruba",emoji:""},{name:"australia",emoji:""},{name:"austria",emoji:""},{name:"azerbaijan",emoji:""},{name:"bahamas",emoji:""},{name:"bahrain",emoji:""},{name:"bangladesh",emoji:""},{name:"barbados",emoji:""},{name:"belarus",emoji:""},{name:"belgium",emoji:""},{name:"belize",emoji:""},{name:"benin",emoji:""},{name:"bermuda",emoji:""},{name:"bhutan",emoji:""},{name:"bolivia",emoji:""},{name:"caribbean_netherlands",emoji:""},{name:"bosnia_herzegovina",emoji:""},{name:"botswana",emoji:""},{name:"brazil",emoji:""},{name:"british_indian_ocean_territory",emoji:""},{name:"british_virgin_islands",emoji:""},{name:"brunei",emoji:""},{name:"bulgaria",emoji:""},{name:"burkina_faso",emoji:""},{name:"burundi",emoji:""},{name:"cape_verde",emoji:""},{name:"cambodia",emoji:""},{name:"cameroon",emoji:""},{name:"canada",emoji:""},{name:"canary_islands",emoji:""},{name:"cayman_islands",emoji:""},{name:"central_african_republic",emoji:""},{name:"chad",emoji:""},{name:"chile",emoji:""},{name:"cn",emoji:""},{name:"christmas_island",emoji:""},{name:"cocos_islands",emoji:""},{name:"colombia",emoji:""},{name:"comoros",emoji:""},{name:"congo_brazzaville",emoji:""},{name:"congo_kinshasa",emoji:""},{name:"cook_islands",emoji:""},{name:"costa_rica",emoji:""},{name:"croatia",emoji:""},{name:"cuba",emoji:""},{name:"curacao",emoji:""},{name:"cyprus",emoji:""},{name:"czech_republic",emoji:""},{name:"denmark",emoji:""},{name:"djibouti",emoji:""},{name:"dominica",emoji:""},{name:"dominican_republic",emoji:""},{name:"ecuador",emoji:""},{name:"egypt",emoji:""},{name:"el_salvador",emoji:""},{name:"equatorial_guinea",emoji:""},{name:"eritrea",emoji:""},{name:"estonia",emoji:""},{name:"ethiopia",emoji:""},{name:"eu",emoji:""},{name:"falkland_islands",emoji:""},{name:"faroe_islands",emoji:""},{name:"fiji",emoji:""},{name:"finland",emoji:""},{name:"fr",emoji:""},{name:"french_guiana",emoji:""},{name:"french_polynesia",emoji:""},{name:"french_southern_territories",emoji:""},{name:"gabon",emoji:""},{name:"gambia",emoji:""},{name:"georgia",emoji:""},{name:"de",emoji:""},{name:"ghana",emoji:""},{name:"gibraltar",emoji:""},{name:"greece",emoji:""},{name:"greenland",emoji:""},{name:"grenada",emoji:""},{name:"guadeloupe",emoji:""},{name:"guam",emoji:""},{name:"guatemala",emoji:""},{name:"guernsey",emoji:""},{name:"guinea",emoji:""},{name:"guinea_bissau",emoji:""},{name:"guyana",emoji:""},{name:"haiti",emoji:""},{name:"honduras",emoji:""},{name:"hong_kong",emoji:""},{name:"hungary",emoji:""},{name:"iceland",emoji:""},{name:"india",emoji:""},{name:"indonesia",emoji:""},{name:"iran",emoji:""},{name:"iraq",emoji:""},{name:"ireland",emoji:""},{name:"isle_of_man",emoji:""},{name:"israel",emoji:""},{name:"it",emoji:""},{name:"cote_divoire",emoji:""},{name:"jamaica",emoji:""},{name:"jp",emoji:""},{name:"jersey",emoji:""},{name:"jordan",emoji:""},{name:"kazakhstan",emoji:""},{name:"kenya",emoji:""},{name:"kiribati",emoji:""},{name:"kosovo",emoji:""},{name:"kuwait",emoji:""},{name:"kyrgyzstan",emoji:""},{name:"laos",emoji:""},{name:"latvia",emoji:""},{name:"lebanon",emoji:""},{name:"lesotho",emoji:""},{name:"liberia",emoji:""},{name:"libya",emoji:""},{name:"liechtenstein",emoji:""},{name:"lithuania",emoji:""},{name:"luxembourg",emoji:""},{name:"macau",emoji:""},{name:"macedonia",emoji:""},{name:"madagascar",emoji:""},{name:"malawi",emoji:""},{name:"malaysia",emoji:""},{name:"maldives",emoji:""},{name:"mali",emoji:""},{name:"malta",emoji:""},{name:"marshall_islands",emoji:""},{name:"martinique",emoji:""},{name:"mauritania",emoji:""},{name:"mauritius",emoji:""},{name:"mayotte",emoji:""},{name:"mexico",emoji:""},{name:"micronesia",emoji:""},{name:"moldova",emoji:""},{name:"monaco",emoji:""},{name:"mongolia",emoji:""},{name:"montenegro",emoji:""},{name:"montserrat",emoji:""},{name:"morocco",emoji:""},{name:"mozambique",emoji:""},{name:"myanmar",emoji:""},{name:"namibia",emoji:""},{name:"nauru",emoji:""},{name:"nepal",emoji:""},{name:"netherlands",emoji:""},{name:"new_caledonia",emoji:""},{name:"new_zealand",emoji:""},{name:"nicaragua",emoji:""},{name:"niger",emoji:""},{name:"nigeria",emoji:""},{name:"niue",emoji:""},{name:"norfolk_island",emoji:""},{name:"northern_mariana_islands",emoji:""},{name:"north_korea",emoji:""},{name:"norway",emoji:""},{name:"oman",emoji:""},{name:"pakistan",emoji:""},{name:"palau",emoji:""},{name:"palestinian_territories",emoji:""},{name:"panama",emoji:""},{name:"papua_new_guinea",emoji:""},{name:"paraguay",emoji:""},{name:"peru",emoji:""},{name:"philippines",emoji:""},{name:"pitcairn_islands",emoji:""},{name:"poland",emoji:""},{name:"portugal",emoji:""},{name:"puerto_rico",emoji:""},{name:"qatar",emoji:""},{name:"reunion",emoji:""},{name:"romania",emoji:""},{name:"ru",emoji:""},{name:"rwanda",emoji:""},{name:"st_barthelemy",emoji:""},{name:"st_helena",emoji:""},{name:"st_kitts_nevis",emoji:""},{name:"st_lucia",emoji:""},{name:"st_pierre_miquelon",emoji:""},{name:"st_vincent_grenadines",emoji:""},{name:"samoa",emoji:""},{name:"san_marino",emoji:""},{name:"sao_tome_principe",emoji:""},{name:"saudi_arabia",emoji:""},{name:"senegal",emoji:""},{name:"serbia",emoji:""},{name:"seychelles",emoji:""},{name:"sierra_leone",emoji:""},{name:"singapore",emoji:""},{name:"sint_maarten",emoji:""},{name:"slovakia",emoji:""},{name:"slovenia",emoji:""},{name:"solomon_islands",emoji:""},{name:"somalia",emoji:""},{name:"south_africa",emoji:""},{name:"south_georgia_south_sandwich_islands",emoji:""},{name:"kr",emoji:""},{name:"south_sudan",emoji:""},{name:"es",emoji:""},{name:"sri_lanka",emoji:""},{name:"sudan",emoji:""},{name:"suriname",emoji:""},{name:"swaziland",emoji:""},{name:"sweden",emoji:""},{name:"switzerland",emoji:""},{name:"syria",emoji:""},{name:"taiwan",emoji:""},{name:"tajikistan",emoji:""},{name:"tanzania",emoji:""},{name:"thailand",emoji:""},{name:"timor_leste",emoji:""},{name:"togo",emoji:""},{name:"tokelau",emoji:""},{name:"tonga",emoji:""},{name:"trinidad_tobago",emoji:""},{name:"tunisia",emoji:""},{name:"tr",emoji:""},{name:"turkmenistan",emoji:""},{name:"turks_caicos_islands",emoji:""},{name:"tuvalu",emoji:""},{name:"uganda",emoji:""},{name:"ukraine",emoji:""},{name:"united_arab_emirates",emoji:""},{name:"uk",emoji:""},{name:"us",emoji:""},{name:"us_virgin_islands",emoji:""},{name:"uruguay",emoji:""},{name:"uzbekistan",emoji:""},{name:"vanuatu",emoji:""},{name:"vatican_city",emoji:""},{name:"venezuela",emoji:""},{name:"vietnam",emoji:""},{name:"wallis_futuna",emoji:""},{name:"western_sahara",emoji:""},{name:"yemen",emoji:""},{name:"zambia",emoji:""},{name:"zimbabwe",emoji:""},{name:"star_struck",emoji:""},{name:"face_with_raised_eyebrow",emoji:""},{name:"exploding_head",emoji:""},{name:"crazy_face",emoji:""},{name:"face_with_symbols_over_mouth",emoji:""},{name:"face_vomiting",emoji:""},{name:"shushing_face",emoji:""},{name:"face_with_hand_over_mouth",emoji:""},{name:"face_with_monocle",emoji:""},{name:"child",emoji:""},{name:"adult",emoji:""},{name:"older_adult",emoji:""},{name:"woman_with_headscarf",emoji:""},{name:"bearded_person",emoji:""},{name:"breast_feeding",emoji:""},{name:"mage",emoji:""},{name:"woman_mage",emoji:""},{name:"fairy",emoji:""},{name:"vampire",emoji:""},{name:"merperson",emoji:""},{name:"merman",emoji:""},{name:"elf",emoji:""},{name:"genie",emoji:""},{name:"woman_genie",emoji:""},{name:"zombie",emoji:""},{name:"woman_zombie",emoji:""},{name:"person_in_steamy_room",emoji:""},{name:"woman_in_steamy_room",emoji:""},{name:"person_climbing",emoji:""},{name:"woman_climbing",emoji:""},{name:"person_in_lotus_position",emoji:""},{name:"woman_in_lotus_position",emoji:""},{name:"love_you_gesture",emoji:""},{name:"palms_up_together",emoji:""},{name:"brain",emoji:""},{name:"orange_heart",emoji:""},{name:"scarf",emoji:""},{name:"gloves",emoji:""},{name:"coat",emoji:""},{name:"socks",emoji:""},{name:"billed_cap",emoji:""},{name:"zebra",emoji:""},{name:"giraffe",emoji:""},{name:"hedgehog",emoji:""},{name:"sauropod",emoji:""},{name:"t_rex",emoji:""},{name:"cricket",emoji:""},{name:"coconut",emoji:""},{name:"broccoli",emoji:""},{name:"pretzel",emoji:""},{name:"cut_of_meat",emoji:""},{name:"sandwich",emoji:""},{name:"bowl_with_spoon",emoji:""},{name:"canned_food",emoji:""},{name:"dumpling",emoji:""},{name:"fortune_cookie",emoji:""},{name:"takeout_box",emoji:""},{name:"pie",emoji:""},{name:"cup_with_straw",emoji:""},{name:"chopsticks",emoji:""},{name:"flying_saucer",emoji:""},{name:"sled",emoji:""},{name:"curling_stone",emoji:""},{name:"svalbard_and_jan_mayen",emoji:""},{name:"st_martin",emoji:""},{name:"us_outlying_islands",emoji:""},{name:"tristan_da_cunha",emoji:""},{name:"heard_and_mc_donald_islands",emoji:""},{name:"ceuta_and_melilla",emoji:""},{name:"diego_garcia",emoji:""},{name:"ascension_island",emoji:""},{name:"bouvet_island",emoji:""},{name:"clipperton_island",emoji:""},{name:"united_nations",emoji:""},{name:"smiling_face_with_three_hearts",emoji:""},{name:"hot_face",emoji:""},{name:"cold_face",emoji:""},{name:"partying_face",emoji:""},{name:"woozy_face",emoji:""},{name:"pleading_face",emoji:""},{name:"man_red_haired",emoji:""},{name:"man_curly_haired",emoji:""},{name:"man_white_haired",emoji:""},{name:"man_bald",emoji:""},{name:"woman_red_haired",emoji:""},{name:"woman_curly_haired",emoji:""},{name:"woman_white_haired",emoji:""},{name:"woman_bald",emoji:""},{name:"superhero",emoji:""},{name:"man_superhero",emoji:""},{name:"woman_superhero",emoji:""},{name:"supervillain",emoji:""},{name:"woman_supervillain",emoji:""},{name:"man_supervillain",emoji:""},{name:"leg",emoji:""},{name:"foot",emoji:""},{name:"bone",emoji:""},{name:"tooth",emoji:""},{name:"goggles",emoji:""},{name:"lab_coat",emoji:""},{name:"hiking_boot",emoji:""},{name:"flat_shoe",emoji:""},{name:"raccoon",emoji:""},{name:"llama",emoji:""},{name:"hippopotamus",emoji:""},{name:"kangaroo",emoji:""},{name:"badger",emoji:""},{name:"swan",emoji:""},{name:"peacock",emoji:""},{name:"parrot",emoji:""},{name:"lobster",emoji:""},{name:"mosquito",emoji:""},{name:"microbe",emoji:""},{name:"mango",emoji:""},{name:"leafy_green",emoji:""},{name:"bagel",emoji:""},{name:"salt",emoji:""},{name:"moon_cake",emoji:""},{name:"cupcake",emoji:""},{name:"compass",emoji:""},{name:"brick",emoji:""},{name:"skateboard",emoji:""},{name:"luggage",emoji:""},{name:"firecracker",emoji:""},{name:"red_gift_envelope",emoji:""},{name:"softball",emoji:""},{name:"flying_disc",emoji:""},{name:"lacrosse",emoji:""},{name:"nazar_amulet",emoji:""},{name:"jigsaw",emoji:""},{name:"teddy_bear",emoji:""},{name:"chess_pawn",emoji:""},{name:"thread",emoji:""},{name:"yarn",emoji:""},{name:"abacus",emoji:""},{name:"receipt",emoji:""},{name:"toolbox",emoji:""},{name:"magnet",emoji:""},{name:"test_tube",emoji:""},{name:"petri_dish",emoji:""},{name:"dna",emoji:""},{name:"lotion_bottle",emoji:""},{name:"safety_pin",emoji:""},{name:"broom",emoji:""},{name:"basket",emoji:""},{name:"roll_of_toilet_paper",emoji:""},{name:"soap",emoji:""},{name:"sponge",emoji:""},{name:"fire_extinguisher",emoji:""},{name:"infinity",emoji:""},{name:"pirate_flag",emoji:""},{name:"waffle",emoji:""},{name:"otter",emoji:""},{name:"sloth",emoji:""},{name:"ice_cube",emoji:""},{name:"ringer_planet",emoji:""},{name:"flamingo",emoji:""},{name:"yawning_face",emoji:""},{name:"pinching_hand",emoji:""},{name:"service_dog",emoji:""},{name:"orangutan",emoji:""},{name:"auto_rickshaw",emoji:""},{name:"parachute",emoji:""},{name:"yo-yo",emoji:""},{name:"kite",emoji:""},{name:"brown_square",emoji:""},{name:"purple_square",emoji:""},{name:"blue_square",emoji:""},{name:"green_square",emoji:""},{name:"yellow_square",emoji:""},{name:"orange_square",emoji:""},{name:"red_square",emoji:""},{name:"brown_circle",emoji:""},{name:"purple_circle",emoji:""},{name:"green_circle",emoji:""},{name:"yellow_circle",emoji:""},{name:"orange_circle",emoji:""},{name:"razor",emoji:""},{name:"chair",emoji:""},{name:"stethoscope",emoji:""},{name:"adhesive_bandage",emoji:""},{name:"drop_of_blood",emoji:""},{name:"probing_cane",emoji:""},{name:"axe",emoji:""},{name:"diya_lamp",emoji:""},{name:"banjo",emoji:""},{name:"ballet_shoes",emoji:""},{name:"shorts",emoji:""},{name:"briefs",emoji:""},{name:"one_piece_swimsuit",emoji:""},{name:"sari",emoji:""},{name:"safety_vest",emoji:""},{name:"diving_mask",emoji:""},{name:"motorized_wheelchair",emoji:""},{name:"manual_wheelchair",emoji:""},{name:"hindu_temple",emoji:""},{name:"mat",emoji:""},{name:"beverage_box",emoji:""},{name:"oyster",emoji:""},{name:"butter",emoji:""},{name:"falafel",emoji:""},{name:"onion",emoji:""},{name:"garlic",emoji:""},{name:"skunk",emoji:""},{name:"guide_dog",emoji:""},{name:"people_holding_hands",emoji:""},{name:"woman_in_manual_wheelchair",emoji:""},{name:"man_in_manual_wheelchair",emoji:""},{name:"woman_in_motorized_wheelchair",emoji:""},{name:"man_in_motorized_wheelchair",emoji:""},{name:"woman_with_probing_cane",emoji:""},{name:"man_with_probing_cane",emoji:""},{name:"woman_kneeling",emoji:""},{name:"man_kneeling",emoji:""},{name:"man_standing",emoji:""},{name:"woman_standing",emoji:""},{name:"deaf_woman",emoji:""},{name:"deaf_man",emoji:""},{name:"hear_with_hearing_aid",emoji:""},{name:"mechanical_leg",emoji:""},{name:"mechanical_arm",emoji:""},{name:"white_heart",emoji:""},{name:"brown_heart",emoji:""},{name:"transgender_flag",emoji:""},{name:"smiling_face_with_tear",emoji:""},{name:"disguised_face",emoji:""},{name:"pinched_fingers",emoji:""},{name:"anatomical_heart",emoji:""},{name:"lungs",emoji:""},{name:"ninja",emoji:""},{name:"mx_claus",emoji:""},{name:"people_hugging",emoji:""},{name:"black_cat",emoji:""},{name:"bison",emoji:""},{name:"mammoth",emoji:""},{name:"beaver",emoji:""},{name:"dodo",emoji:""},{name:"feather",emoji:""},{name:"seal",emoji:""},{name:"beetle",emoji:""},{name:"cockroach",emoji:""},{name:"fly",emoji:""},{name:"worm",emoji:""},{name:"potted_plant",emoji:""},{name:"blueberries",emoji:""},{name:"olive",emoji:""},{name:"bell_pepper",emoji:""},{name:"flatbread",emoji:""},{name:"tamale",emoji:""},{name:"fondue",emoji:""},{name:"teapot",emoji:""},{name:"bubble_tea",emoji:""},{name:"rock",emoji:""},{name:"wood",emoji:""},{name:"hut",emoji:""},{name:"pickup_truck",emoji:""},{name:"roller_skate",emoji:""},{name:"magic_wand",emoji:""},{name:"piata",emoji:""},{name:"nesting_dolls",emoji:""},{name:"sewing_needle",emoji:""},{name:"knot",emoji:""},{name:"thong_sandal",emoji:""},{name:"military_helmet",emoji:""},{name:"accordion",emoji:""},{name:"long_drum",emoji:""},{name:"coin",emoji:""},{name:"boomerang",emoji:""},{name:"carpentry_saw",emoji:""},{name:"screwdriver",emoji:""},{name:"hook",emoji:""},{name:"ladder",emoji:""},{name:"mirror",emoji:""},{name:"window",emoji:""},{name:"plunger",emoji:""},{name:"mouse_trap",emoji:""},{name:"bucket",emoji:""},{name:"toothbrush",emoji:""},{name:"headstone",emoji:""},{name:"placard",emoji:""},{name:"transgender_symbol",emoji:""},{name:"man_feeding_baby",emoji:""},{name:"person_feeding_baby",emoji:""},{name:"polar_bear",emoji:""},{name:"melting_face",emoji:""},{name:"smiling_face",emoji:""},{name:"face_with_open_eyes_and_hand_over_mouth",emoji:""},{name:"face_with_peeking_eye",emoji:""},{name:"saluting_face",emoji:""},{name:"dotted_line_face",emoji:""},{name:"face_in_clouds",emoji:""},{name:"face_exhaling",emoji:""},{name:"face_with_spiral_eyes",emoji:""},{name:"face_with_diagonal_mouth",emoji:""},{name:"frowning_face",emoji:""},{name:"face_holding_back_tears",emoji:""},{name:"heart_on_fire",emoji:""},{name:"mending_heart",emoji:""},{name:"eye_in_speech_bubble",emoji:""},{name:"rightwards_hand",emoji:""},{name:"leftwards_hand",emoji:""},{name:"palm_down_hand",emoji:""},{name:"palm_up_hand",emoji:""},{name:"hand_with_index_finger_and_thumb_crossed",emoji:""},{name:"index_pointing_at_the_viewer",emoji:""},{name:"heart_hands",emoji:""},{name:"biting_lip",emoji:""},{name:"man_beard",emoji:""},{name:"woman_beard",emoji:""},{name:"person_red_hair",emoji:""},{name:"person_curly_hair",emoji:""},{name:"person_white_hair",emoji:""},{name:"person_bald",emoji:""},{name:"man_blond_hair",emoji:""},{name:"person_frowning",emoji:""},{name:"person_pouting",emoji:""},{name:"person_gesturing_no",emoji:""},{name:"person_gesturing_ok",emoji:""},{name:"person_tipping_hand",emoji:""},{name:"person_raising_hand",emoji:""},{name:"deaf_person",emoji:""},{name:"man_bowing",emoji:""},{name:"person_facepalming",emoji:""},{name:"person_shrugging",emoji:""},{name:"health_worker",emoji:""},{name:"student",emoji:""},{name:"teacher",emoji:""},{name:"judge",emoji:""},{name:"farmer",emoji:""},{name:"cook",emoji:""},{name:"mechanic",emoji:""},{name:"factory_worker",emoji:""},{name:"office_worker",emoji:""},{name:"scientist",emoji:""},{name:"technologist",emoji:""},{name:"singer",emoji:""},{name:"artist",emoji:""},{name:"pilot",emoji:""},{name:"astronaut",emoji:""},{name:"firefighter",emoji:""},{name:"man_police_officer",emoji:""},{name:"man_detective",emoji:""},{name:"man_guard",emoji:""},{name:"man_construction_worker",emoji:""},{name:"person_with_crown",emoji:""},{name:"man_wearing_turban",emoji:""},{name:"man_in_tuxedo",emoji:""},{name:"woman_in_tuxedo",emoji:""},{name:"man_with_veil",emoji:""},{name:"woman_with_veil",emoji:""},{name:"pregnant_man",emoji:""},{name:"pregnant_person",emoji:""},{name:"woman_feeding_baby",emoji:""},{name:"man_mage",emoji:""},{name:"man_fairy",emoji:""},{name:"woman_fairy",emoji:""},{name:"man_vampire",emoji:""},{name:"woman_vampire",emoji:""},{name:"mermaid",emoji:""},{name:"man_elf",emoji:""},{name:"woman_elf",emoji:""},{name:"man_genie",emoji:""},{name:"man_zombie",emoji:""},{name:"troll",emoji:""},{name:"person_getting_massage",emoji:""},{name:"person_getting_haircut",emoji:""},{name:"man_walking",emoji:""},{name:"person_standing",emoji:""},{name:"person_kneeling",emoji:""},{name:"person_with_white_cane",emoji:""},{name:"person_in_motorized_wheelchair",emoji:""},{name:"person_in_manual_wheelchair",emoji:""},{name:"man_running",emoji:""},{name:"women_with_bunny_ears",emoji:""},{name:"man_in_steamy_room",emoji:""},{name:"man_climbing",emoji:""},{name:"man_golfing",emoji:""},{name:"man_surfing",emoji:""},{name:"man_rowing_boat",emoji:""},{name:"man_swimming",emoji:""},{name:"man_bouncing_ball",emoji:""},{name:"man_lifting_weights",emoji:""},{name:"man_biking",emoji:""},{name:"man_mountain_biking",emoji:""},{name:"person_cartwheeling",emoji:""},{name:"people_wrestling",emoji:""},{name:"person_playing_water_polo",emoji:""},{name:"person_playing_handball",emoji:""},{name:"person_juggling",emoji:""},{name:"man_in_lotus_position",emoji:""},{name:"kiss_woman_man",emoji:""},{name:"couple_with_heart_woman_man",emoji:""},{name:"family_man_woman_boy",emoji:""},{name:"red_hair",emoji:""},{name:"curly_hair",emoji:""},{name:"white_hair",emoji:""},{name:"bald",emoji:""},{name:"coral",emoji:""},{name:"lotus",emoji:""},{name:"empty_nest",emoji:""},{name:"nest_with_eggs",emoji:""},{name:"beans",emoji:""},{name:"pouring_liquid",emoji:""},{name:"jar",emoji:""},{name:"playground_slide",emoji:""},{name:"wheel",emoji:""},{name:"ring_buoy",emoji:""},{name:"hamsa",emoji:""},{name:"mirror_ball",emoji:""},{name:"low_battery",emoji:""},{name:"crutch",emoji:""},{name:"xray",emoji:""},{name:"elevator",emoji:""},{name:"bubbles",emoji:""},{name:"identification_card",emoji:""},{name:"eject_button",emoji:""},{name:"female_sign",emoji:""},{name:"male_sign",emoji:""},{name:"heavy_equals_sign",emoji:""},{name:"medical_symbol",emoji:""},{name:"england",emoji:""},{name:"scotland",emoji:""},{name:"wales",emoji:""}],ms=ls;ut({name:"emoji",char:":",pluginKey:new Se("emojiSuggestion"),items:({query:t})=>ms.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())).sort((e,n)=>{const a=e.name.toLowerCase(),o=n.name.toLowerCase(),r=t.toLowerCase();return a===r&&o!==r?-1:o===r&&a!==r?1:a.startsWith(r)&&!o.startsWith(r)?-1:o.startsWith(r)&&!a.startsWith(r)?1:a.length-o.length}).slice(0,5),command:({editor:t,range:e,props:n})=>{n&&n.emoji?t.chain().focus().deleteRange(e).insertContent(n.emoji).run():console.error("Emoji command execution error: emoji property not found on selected item or item is invalid.",n)},component:ss});const us={key:1,class:"mr-2 h-4 w-4"},cs=te({__name:"SlashCommandsList",props:{items:{type:Array,required:!0},editor:{type:Object,required:!0},range:{type:Object,required:!0},command:{type:Function,required:!0},query:String},setup(t,{expose:e}){const n=t,a=M(null),o=s=>{s&&n.command(s)};return e({onKeyDown:({event:s})=>{var l,i;return(i=(l=a.value)==null?void 0:l.onKeyDown({event:s}))!=null?i:!1}}),(s,l)=>(u(),q(ct,{ref_key:"suggestionList",ref:a,items:n.items,command:i=>o(i),"container-class":"min-w-48","item-class":"h-7","show-no-results":!0},{default:R(({item:i})=>[i.icon?(u(),q(at(i.icon),{key:0,class:"mr-2 h-4 w-4"})):(u(),h("div",us)),m("span",null,U(i.title),1)]),_:1},8,["items","command"]))}}),ds={class:"lucide lucide-heading-2",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function fs(t,e){return u(),h("svg",ds,[...e[0]||(e[0]=[m("path",{d:"M4 12h8"},null,-1),m("path",{d:"M4 18V6"},null,-1),m("path",{d:"M12 18V6"},null,-1),m("path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1"},null,-1)])])}const gs=N({name:"lucide-heading-2",render:fs}),hs={class:"lucide lucide-heading-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function ps(t,e){return u(),h("svg",hs,[...e[0]||(e[0]=[Ze('<path d="M4 12h8"></path><path d="M4 18V6"></path><path d="M12 18V6"></path><path d="M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2"></path><path d="M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2"></path>',5)])])}const js=N({name:"lucide-heading-3",render:ps}),_s={class:"lucide lucide-list",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function bs(t,e){return u(),h("svg",_s,[...e[0]||(e[0]=[Ze('<path d="M3 12h.01"></path><path d="M3 18h.01"></path><path d="M3 6h.01"></path><path d="M8 12h13"></path><path d="M8 18h13"></path><path d="M8 6h13"></path>',6)])])}const vs=N({name:"lucide-list",render:bs}),ws={class:"lucide lucide-list-ordered",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function ys(t,e){return u(),h("svg",ws,[...e[0]||(e[0]=[Ze('<path d="M10 12h11"></path><path d="M10 18h11"></path><path d="M10 6h11"></path><path d="M4 10h2"></path><path d="M4 6h1v4"></path><path d="M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"></path>',6)])])}const ks=N({name:"lucide-list-ordered",render:ys}),xs={class:"lucide lucide-list-checks",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Cs(t,e){return u(),h("svg",xs,[...e[0]||(e[0]=[Ze('<path d="m3 17 2 2 4-4"></path><path d="m3 7 2 2 4-4"></path><path d="M13 6h8"></path><path d="M13 12h8"></path><path d="M13 18h8"></path>',5)])])}const $s=N({name:"lucide-list-checks",render:Cs}),Ms={class:"lucide lucide-code",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Ls(t,e){return u(),h("svg",Ms,[...e[0]||(e[0]=[m("path",{d:"m16 18 6-6-6-6"},null,-1),m("path",{d:"m8 6-6 6 6 6"},null,-1)])])}const Ds=N({name:"lucide-code",render:Ls}),Ss={class:"lucide lucide-quote",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Ts(t,e){return u(),h("svg",Ss,[...e[0]||(e[0]=[m("path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"},null,-1),m("path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"},null,-1)])])}const Is=N({name:"lucide-quote",render:Ts}),Es={class:"lucide lucide-image",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function zs(t,e){return u(),h("svg",Es,[...e[0]||(e[0]=[m("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"},null,-1),m("circle",{cx:"9",cy:"9",r:"2"},null,-1),m("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"},null,-1)])])}const Ps=N({name:"lucide-image",render:zs}),As={class:"lucide lucide-video",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Rs(t,e){return u(),h("svg",As,[...e[0]||(e[0]=[m("path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5"},null,-1),m("rect",{x:"2",y:"6",width:"14",height:"12",rx:"2"},null,-1)])])}const Os=N({name:"lucide-video",render:Rs}),Vs={class:"lucide lucide-link",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Bs(t,e){return u(),h("svg",Vs,[...e[0]||(e[0]=[m("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},null,-1),m("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},null,-1)])])}const Fs=N({name:"lucide-link",render:Bs}),Hs={class:"lucide lucide-table-2",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Ns(t,e){return u(),h("svg",Hs,[...e[0]||(e[0]=[m("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"},null,-1)])])}const qs=N({name:"lucide-table-2",render:Ns}),Us=new Se("slashCommandSuggestion"),Ws=()=>[{title:"Heading 2",icon:gs,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setNode("heading",{level:2}).run()}},{title:"Heading 3",icon:js,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setNode("heading",{level:3}).run()}},{title:"Bullet List",icon:vs,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleBulletList().run()}},{title:"Numbered List",icon:ks,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleOrderedList().run()}},{title:"Task List",icon:$s,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleTaskList().run()}},{title:"Code Block",icon:Ds,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleCodeBlock().run()}},{title:"Blockquote",icon:Is,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleBlockquote().run()}},{title:"Image",icon:Ps,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).selectAndUploadImage().run()}},{title:"Video",icon:Os,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).selectAndUploadVideo().run()}},{title:"Embed",icon:is,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).openIframeDialog().run()}},{title:"Link",icon:Fs,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setLink({href:""}).run()}},{title:"Horizontal Rule",icon:_n,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setHorizontalRule().run()}},{title:"Table",icon:qs,command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).insertTable({rows:3,cols:3,withHeaderRow:!0}).run()}}];ut({name:"slashCommands",char:"/",pluginKey:Us,items:({query:t})=>Ws().filter(n=>n.title.toLowerCase().startsWith(t.toLowerCase())),command:({editor:t,range:e,props:n})=>{n&&typeof n.command=="function"?n.command({editor:t,range:e}):console.error("Slash command execution error: command function not found on selected item or item is invalid.",n)},component:cs});function Ks(t){return ha.parse(t,{gfm:!0,breaks:!0,async:!1})}function Js(t){return t.split(`
`).filter(a=>/!\[.*\]\(.*\)/.test(a)||/\[.*\]\(.*\)/.test(a)||/(^|\s)\*.*\*(\s|$)/.test(a)||/(^|\s)_.*_(\s|$)/.test(a)||/(^|\s)\*\*.*\*\*(\s|$)/.test(a)||/(^|\s)__.*__(\s|$)/.test(a)||/(^|\s)~~.*~~(\s|$)/.test(a)||a.startsWith("![")||a.startsWith("#")||a.startsWith("> ")||a.startsWith("*")||a.startsWith("- ")||a.startsWith("1. ")||a.startsWith("```")||a.startsWith("`")||a.startsWith("[")||a.startsWith("---")).length>0}Ye.create({name:"contentPaste",addOptions(){return{enabled:!0,showConfirmation:!0,uploadFunction:null}},addProseMirrorPlugins(){const t=this;return[new Ke({key:new Se("contentPaste"),props:{handlePaste:(e,n,a)=>{var c,g;if(!this.options.enabled)return!1;const o=Array.from(((c=n.clipboardData)==null?void 0:c.files)||[]),r=Array.from(o).filter(p=>p.type.startsWith("image/"));if(r.length>0)return _t(r,e,null,t.options),!0;const s=(g=n.clipboardData)==null?void 0:g.getData("text/plain");if(!s||!Js(s)||this.options.showConfirmation&&!confirm("Do you want to convert markdown content to HTML before pasting?"))return!1;const l=Ks(s),i=document.createElement("div");i.innerHTML=l;const d=pa.fromSchema(e.state.schema).parseSlice(i,{preserveWhitespace:!0}),j=e.state.tr.replaceSelection(d);return e.dispatch(j),!0}}})]}});const Xs=We.create({name:"tagItem",group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes(){return{tagId:{default:null,parseHTML:t=>t.getAttribute("data-tag-id"),renderHTML:t=>t.tagId?{"data-tag-id":t.tagId}:{}},tagLabel:{default:"tag",parseHTML:t=>t.getAttribute("data-tag-label"),renderHTML:t=>({"data-tag-label":t.tagLabel})}}},parseHTML(){return[{tag:"span.tag-item",getAttrs:t=>{const e=t;return{tagId:e.getAttribute("data-tag-id"),tagLabel:e.getAttribute("data-tag-label")||e.innerText.replace(/^#/,"")}}}]},renderHTML({HTMLAttributes:t}){return["span",Be(t,{class:"tag-item"}),`#${t["data-tag-label"]}`]},addCommands(){return{setTag:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}}});ut({name:"tagSuggestion",char:"#",pluginKey:new Se("tagSuggestion"),component:ct,addOptions(){return{tags:[]}},items:({query:t,editor:e})=>{const{tags:n}=e.extensionManager.extensions.find(r=>r.name==="tagSuggestion").options;let a=St(n),o=a.filter(r=>r.label.toLowerCase().startsWith(t.toLowerCase())).map(r=>ne(G({},r),{display:r.label}));return t.length>0&&!a.some(r=>r.label.toLowerCase()===t.toLowerCase())&&o.push({display:`New tag: "${t}"`,label:t,isNew:!0}),o},command:({editor:t,range:e,props:n})=>{const a=G({tagLabel:n.label},n.id&&!n.isNew&&{tagId:n.id});t.chain().focus().insertContentAt(e,[{type:Xs.name,attrs:a},{type:"text",text:" "}]).run()},tippyOptions:{placement:"bottom-start",offset:[0,8]},allowSpaces:!1,decorationTag:"span",decorationClass:"tag-suggestion-active"});ja.extend({addInputRules(){return this.options.levels.map(t=>{let e=new RegExp(`^(#{${t}}) $`);return _a({find:e,type:this.type,getAttributes:{level:t}})})}});const Gs={class:"lucide lucide-square-pen",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Ys(t,e){return u(),h("svg",Gs,[...e[0]||(e[0]=[m("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1),m("path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"},null,-1)])])}const Zs=N({name:"lucide-edit",render:Ys}),Qs={class:"lucide lucide-image-plus",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function el(t,e){return u(),h("svg",Qs,[...e[0]||(e[0]=[Ze('<path d="M16 5h6"></path><path d="M19 2v6"></path><path d="M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5"></path><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path><circle cx="9" cy="9" r="2"></circle>',5)])])}const qt=N({name:"lucide-image-plus",render:el}),tl={class:"space-y-2"},nl={class:"flex items-center gap-2"},al=["onDragstart","onDragover","onDragleave"],ol=["onClick"],il=["src","alt"],rl=["onClick"],sl=["title"],ll=["onBlur","onKeydown"],ml={key:0,class:"flex flex-col items-center justify-center w-full h-full text-ink-gray-4 bg-surface-gray-1 rounded-[2px]"},ul=["title"],cl=["src","alt"],dl=["onClick"],fl=["title"],gl=["onBlur","onKeydown"],hl={key:1,class:"text-p-sm text-ink-gray-5"},pl={key:2,class:"flex flex-col items-center justify-center min-h-[200px]"},jl={class:"text-ink-gray-4 mb-2"},_l={key:3},bl={class:"mb-2 text-sm"},vl={class:"w-full bg-gray-200 rounded h-2 overflow-hidden"},wl={key:0,class:"mt-2 text-red-500 text-xs"},yl={class:"flex justify-end gap-2"},kl={key:0,class:"fixed inset-0 z-50 bg-gray-900/60 pointer-events-none flex items-center justify-center"},xl=te({__name:"ImageGroupUploadDialog",props:{modelValue:{type:Boolean},files:{},editor:{},mode:{default:"new"},existingImages:{},initialColumns:{}},emits:["update:modelValue","close","update:files","save"],setup(t,{emit:e}){const n=t,a=e,o=A({get:()=>n.modelValue,set:C=>a("update:modelValue",C)}),r=M(!1),s=M(null),l=M(null),i=M(!1),f=M(null),d=M(""),j=M(null),c=M(!1),g=M(4),p=M(0),$=M(0),x=M(0),D=M([]),V=M([]),I=M([]);ge(()=>n.modelValue,C=>{if(C&&n.mode==="edit"){const S=(n.existingImages||[]).map(me),T=(n.files||[]).map(K);I.value=[...S,...T],n.initialColumns&&(g.value=n.initialColumns,i.value=!0)}else C&&n.mode==="new"&&(I.value=(n.files||[]).map(K),g.value=ae(I.value.length),i.value=!0)},{immediate:!0}),ge(()=>n.existingImages,C=>{if(n.modelValue&&n.mode==="edit"){const S=(C||[]).map(me),T=(n.files||[]).map(K);I.value=[...S,...T]}},{deep:!0}),ge(()=>n.files,C=>{n.mode==="new"&&(I.value=(C||[]).map(K))},{deep:!0}),Ve(()=>{window.addEventListener("dragover",L),window.addEventListener("drop",B),window.addEventListener("dragleave",F)}),Re(()=>{window.removeEventListener("dragover",L),window.removeEventListener("drop",B),window.removeEventListener("dragleave",F)});function w(){return le(this,null,function*(){const C=I.value.filter(X=>X.type==="file"&&X.file).map(X=>X.file);I.value.filter(X=>X.type==="existing"&&X.existing).map(X=>X.existing);let S=[];C.length>0&&(S=yield ce(C));const T=new Map;C.forEach((X,Z)=>{const ee=S[Z];ee!=null&&ee.success&&ee.file&&T.set(X,{src:ee.file.file_url||"",alt:ee.file.file_name||""})});const J=[];for(const X of I.value)if(X.type==="existing"&&X.existing)J.push(X.existing);else if(X.type==="file"&&X.file){const Z=T.get(X.file);Z&&J.push(Z)}a("save",{images:J,columns:g.value}),c.value=!1,o.value=!1})}function v(){return le(this,null,function*(){if(!n.files||n.files.length===0)return;const S=(yield ce(n.files)).filter(T=>T.success&&T.file).map(T=>{var J,X;return{src:((J=T.file)==null?void 0:J.file_url)||"",alt:((X=T.file)==null?void 0:X.file_name)||""}});S.length>1&&n.editor.chain().focus().setImageGroup({images:S,columns:g.value}).run(),c.value=!1,o.value=!1,a("close")})}function b(){o.value=!1,a("close")}function _(C){if(I.value.splice(C,1),n.mode==="new"){const S=I.value.filter(T=>T.type==="file"&&T.file).map(T=>T.file);a("update:files",S)}}function E(){const C=document.createElement("input");C.type="file",C.accept="image/*",C.multiple=!0,C.onchange=S=>{const T=S.target.files;T&&y(Array.from(T))},C.click()}function y(C){const T=C.filter(Z=>Z.type.startsWith("image/")).map(K),J=I.value.filter(Z=>Z.type==="file"&&Z.file).map(Z=>`${Z.file.name}-${Z.file.size}`),X=T.filter(Z=>!J.includes(`${Z.file.name}-${Z.file.size}`));if(I.value.push(...X),n.mode==="new"){const Z=I.value.filter(ee=>ee.type==="file"&&ee.file).map(ee=>ee.file);a("update:files",Z)}}function B(C){var T;C.preventDefault(),C.stopPropagation();const S=Array.from(((T=C.dataTransfer)==null?void 0:T.files)||[]);if(S.length)y(S);else if(s.value!==null&&l.value!==null&&s.value!==l.value){const[J]=I.value.splice(s.value,1);if(I.value.splice(l.value,0,J),n.mode==="new"){const X=I.value.filter(Z=>Z.type==="file"&&Z.file).map(Z=>Z.file);a("update:files",X)}}r.value=!1,s.value=null,l.value=null}function K(C){return{type:"file",file:C,id:`file-${C.name}-${C.size}-${Date.now()}`}}function me(C){return{type:"existing",existing:C,id:`existing-${C.src}-${Date.now()}`}}function ae(C){return C<=4?C:C%4===0?4:C%3===0?3:C>10?4:3}function ie(){var S;const C=n.editor.extensionManager.extensions.find(T=>T.name==="imageGroup");return(S=C==null?void 0:C.options)==null?void 0:S.uploadFunction}function Q(C){const S=URL.createObjectURL(C);return Re(()=>{URL.revokeObjectURL(S)}),S}function se(C){const S=["image/heic","image/heif"],T=[".heic",".heif"],J=S.includes(C.type),X=T.some(Z=>{var ee;return(ee=C.name)==null?void 0:ee.toLowerCase().endsWith(Z)});return!J&&!X}function he(C,S){C.preventDefault(),l.value=S}function xe(C){s.value=C}function ze(){s.value=null,l.value=null}function Pe(C,S){l.value===S&&(l.value=null)}function W(C){return l.value===C&&s.value!==null&&s.value!==C}function L(C){C.preventDefault(),C.dataTransfer&&Array.from(C.dataTransfer.types).includes("Files")&&(r.value=!0)}function F(C){(C.target===window||C.relatedTarget===null)&&(r.value=!1)}const pe=A(()=>({gridTemplateColumns:`repeat(${g.value||4}, minmax(0, 1fr))`})),oe=A({get:()=>{var C;return String((C=g.value)!=null?C:4)},set:C=>{g.value=+C}}),fe=[{label:"2 columns",value:"2"},{label:"3 columns",value:"3"},{label:"4 columns",value:"4"}];function $e(C,S){f.value=C,d.value=S,rt(()=>{j.value&&(j.value.focus(),j.value.select())})}function Me(C,S){var Z;const[T,J]=C.split("-"),X=d.value.trim();T==="existing"?(Z=I.value[S])!=null&&Z.existing&&(I.value[S].existing.alt=X):T==="file"&&I.value[S]&&(I.value[S].alt=X),f.value=null,d.value=""}function Le(){f.value=null,d.value=""}function je(C,S){f.value===C&&Me(C,S)}function ce(C){return le(this,null,function*(){const S=ie();if(!S)throw console.error("uploadFunction not found"),new Error("Upload function not found");c.value=!0,x.value=C.length,$.value=0,p.value=0,D.value=Array(C.length).fill(null),V.value=Array(C.length).fill(null);const T=C.map((X,Z)=>le(this,null,function*(){try{const ee=yield S(X);return V.value[Z]={success:!0,file:ee},{success:!0,file:ee}}catch(ee){const Fe=ee;return D.value[Z]=Fe,V.value[Z]={success:!1,error:Fe},{success:!1,error:Fe}}finally{$.value++,p.value=Math.round($.value/x.value*100)}}));return yield Promise.all(T)})}return(C,S)=>(u(),h(de,null,[P(mn,{modelValue:o.value,"onUpdate:modelValue":S[8]||(S[8]=T=>o.value=T),options:{title:n.mode==="edit"?"Edit Images":"Upload Images",size:"3xl"},onClose:S[9]||(S[9]=T=>C.$emit("close")),disableOutsideClickToClose:!0},{"body-content":R(()=>[m("div",tl,[m("div",nl,[P(ye,{onClick:E},{prefix:R(()=>[P(k(qt),{class:"size-4"})]),default:R(()=>[S[10]||(S[10]=be(" Add images ",-1))]),_:1}),P(Tt,{id:"columns-select",options:fe,modelValue:oe.value,"onUpdate:modelValue":[S[0]||(S[0]=T=>oe.value=T),S[1]||(S[1]=T=>g.value=+T)],size:"sm",variant:"subtle",class:"w-28"},null,8,["modelValue"])]),I.value&&I.value.length?(u(),h("div",{key:0,class:"grid gap-px mb-4",style:ke(pe.value)},[(u(!0),h(de,null,Ee(I.value,(T,J)=>{var X,Z,ee,Fe;return u(),h("div",{key:T.id,class:O(["relative aspect-square w-full h-full overflow-hidden group bg-surface-white",{"ring-2 ring-primary-400 z-10":W(J)}]),draggable:!0,onDragstart:re=>xe(J),onDragover:re=>he(re,J),onDrop:S[6]||(S[6]=re=>B(re)),onDragend:ze,onDragleave:re=>Pe(re,J)},[m("button",{type:"button",class:"absolute top-1 right-1 z-10 bg-white/80 hover:bg-white rounded-full p-1 shadow transition-opacity opacity-0 group-hover:opacity-100 focus:opacity-100","aria-label":"Remove image",onClick:Y(re=>_(J),["stop"])},[P(k(et),{class:"w-4 h-4 text-gray-700"})],8,ol),T.type==="existing"?(u(),h(de,{key:0},[m("img",{src:(X=T.existing)==null?void 0:X.src,alt:((Z=T.existing)==null?void 0:Z.alt)||"",class:"object-cover w-full h-full rounded-[2px]"},null,8,il),m("div",{class:O(["absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent rounded-b-[2px] transition-opacity",f.value===`${T.type}-${J}`?"opacity-100":"opacity-0 group-hover:opacity-100"])},[f.value!==`${T.type}-${J}`?(u(),h("div",{key:0,class:"p-2 cursor-pointer",onClick:Y(re=>{var Pt;return $e(`${T.type}-${J}`,((Pt=T.existing)==null?void 0:Pt.alt)||"")},["stop"])},[m("div",{class:"text-white text-xs truncate",title:((ee=T.existing)==null?void 0:ee.alt)||"Click to add caption"},U(((Fe=T.existing)==null?void 0:Fe.alt)||"Add caption..."),9,sl)],8,rl)):(u(),h("div",{key:1,class:"p-2",onClick:S[3]||(S[3]=Y(()=>{},["stop"]))},[Ue(m("input",{ref_for:!0,ref:re=>j.value=re,"onUpdate:modelValue":S[2]||(S[2]=re=>d.value=re),onBlur:re=>je(`${T.type}-${J}`,J),onKeydown:[Ne(Y(re=>Me(`${T.type}-${J}`,J),["prevent"]),["enter"]),Ne(Le,["escape"])],class:"w-full text-xs bg-white/90 text-gray-900 px-1 py-0.5 rounded-sm border-none outline-none",placeholder:"Add caption...",maxlength:"200"},null,40,ll),[[jt,d.value]])]))],2)],64)):T.type==="file"&&T.file?(u(),h(de,{key:1},[se(T.file)?T.file.type.startsWith("image/")?(u(),h(de,{key:1},[m("img",{src:Q(T.file),class:"object-cover w-full h-full rounded-[2px]",alt:T.alt||""},null,8,cl),m("div",{class:O(["absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent rounded-b-[2px] transition-opacity",f.value===`${T.type}-${J}`?"opacity-100":"opacity-0 group-hover:opacity-100"])},[f.value!==`${T.type}-${J}`?(u(),h("div",{key:0,class:"p-2 cursor-pointer",onClick:Y(re=>$e(`${T.type}-${J}`,T.alt||""),["stop"])},[m("div",{class:"text-white text-xs truncate",title:T.alt||"Click to add caption"},U(T.alt||"Add caption..."),9,fl)],8,dl)):(u(),h("div",{key:1,class:"p-2",onClick:S[5]||(S[5]=Y(()=>{},["stop"]))},[Ue(m("input",{ref_for:!0,ref:"captionInput","onUpdate:modelValue":S[4]||(S[4]=re=>d.value=re),onBlur:re=>je(`${T.type}-${J}`,J),onKeydown:[Ne(Y(re=>Me(`${T.type}-${J}`,J),["prevent"]),["enter"]),Ne(Le,["escape"])],class:"w-full text-xs bg-white/90 text-gray-900 px-1 py-0.5 rounded border-none outline-none",placeholder:"Add caption...",maxlength:"200"},null,40,gl),[[jt,d.value]])]))],2)],64)):z("",!0):(u(),h("div",ml,[m("span",{class:"text-p-xs text-ink-gray-4 w-full text-center px-2 mt-1",title:T.file.name},U(T.file.name),9,ul)]))],64)):z("",!0)],42,al)}),128))],4)):z("",!0),I.value&&I.value.length?(u(),h("div",hl," Upload more images by dropping them anywhere in this window. Reorder images by dragging them. Hover over an image to edit caption. ")):(u(),h("div",pl,[m("div",{class:"w-full flex flex-1 flex-col items-center justify-center border border-outline-gray-2 rounded-lg bg-surface-gray-1 h-full cursor-pointer transition hover:border-primary-400 hover:bg-primary-50 text-center",onClick:E,onDragover:S[7]||(S[7]=Y(()=>{},["prevent"])),onDrop:Y(B,["prevent"])},[m("div",jl,[P(k(qt),{class:"size-6"})]),S[11]||(S[11]=m("div",{class:"text-ink-gray-5 text-sm font-medium"}," Drag & drop images here or click to select ",-1))],32)])),c.value?(u(),h("div",_l,[m("div",bl," Uploading: "+U($.value)+"/"+U(x.value),1),m("div",vl,[m("div",{class:"bg-surface-gray-5 h-2 transition-all",style:ke({width:p.value+"%"})},null,4)]),D.value&&D.value.some(T=>T)?(u(),h("div",wl," Some files failed to upload. ")):z("",!0)])):z("",!0)])]),actions:R(()=>[m("div",yl,[P(ye,{variant:"ghost",disabled:c.value,onClick:b},{default:R(()=>[...S[12]||(S[12]=[be(" Cancel ",-1)])]),_:1},8,["disabled"]),n.mode==="edit"?(u(),q(ye,{key:0,variant:"solid",loading:c.value,onClick:w},{default:R(()=>[...S[13]||(S[13]=[be(" Save ",-1)])]),_:1},8,["loading"])):z("",!0),n.mode==="new"?(u(),q(ye,{key:1,variant:"solid",loading:c.value,onClick:v},{default:R(()=>[...S[14]||(S[14]=[be(" Upload ",-1)])]),_:1},8,["loading"])):z("",!0)])]),_:1},8,["modelValue","options"]),(u(),q(Qt,{to:"body"},[P(Zt,{name:"fade","enter-active-class":"transition-opacity duration-200","leave-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:R(()=>[r.value?(u(),h("div",kl,[...S[15]||(S[15]=[m("div",{class:"text-ink-gray-1 text-base font-medium"}," Drop images anywhere ",-1)])])):z("",!0)]),_:1})]))],64))}}),Cl={class:"w-full"},$l={key:0,class:"flex items-center mb-2 gap-2"},Ml=["onClick"],Ll=["src","alt","onClick"],Dl=["src","alt"],Sl={key:3,class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent rounded-b-[2px] opacity-0 group-hover:opacity-100 transition-opacity"},Tl={class:"p-2"},Il=["title"],El=te({__name:"ImageGroupNodeView",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(t){const e=t,n=A(()=>e.node.attrs.columns||4),a=A(()=>e.node.content.content||[]),o=A(()=>({gridTemplateColumns:`repeat(${n.value}, minmax(0, 1fr))`})),r=M(e.editor.isEditable),s=[{label:"2 columns",value:"2"},{label:"3 columns",value:"3"},{label:"4 columns",value:"4"}],l=A({get:()=>String(n.value),set:I=>e.updateAttributes({columns:+I})}),i=M(!1),f=M(0),d=A(()=>a.value.map(I=>({src:I.attrs.src,alt:I.attrs.alt||""}))),j=M(!1),c=M([]),g=A(()=>a.value.map(I=>({src:I.attrs.src,alt:I.attrs.alt||""})));Ve(()=>{const I=()=>{r.value=e.editor.isEditable};e.editor.on("update",I),Re(()=>{e.editor.off("update",I)})});function p(){c.value=[],j.value=!0}function $(){j.value=!1,c.value=[]}function x(I){return le(this,null,function*(){e.editor.commands.command(({tr:w,state:v})=>{const b=e.getPos();if(typeof b=="number"){const _=v.doc.nodeAt(b);if(_&&_.type.name==="imageGroup"){const E=I.images.map(K=>v.schema.nodes.image.create({src:K.src,alt:K.alt})),y=ne(G({},_.attrs),{columns:I.columns}),B=_.type.create(y,E);return w.replaceWith(b,b+_.nodeSize,B),!0}}return!1}),j.value=!1})}function D(I){e.editor.isEditable||(f.value=I,i.value=!0)}function V(I){const w=a.value.slice();w.splice(I,1),w.length===0?e.editor.commands.deleteNode("imageGroup"):(e.updateAttributes({}),e.editor.commands.command(({tr:v,state:b})=>{const _=e.getPos();if(typeof _=="number"){const E=b.doc.nodeAt(_);if(E&&E.type.name==="imageGroup"){const y=w.map(B=>b.schema.nodes.image.create(B.attrs));return v.replaceWith(_+1,_+1+E.content.size,y),!0}}return!1}))}return(I,w)=>(u(),q(k(Dt),null,{default:R(()=>[m("div",Cl,[r.value?(u(),h("div",$l,[P(ye,{onClick:p},{prefix:R(()=>[P(k(Zs),{class:"size-4"})]),default:R(()=>[w[3]||(w[3]=be(" Edit ",-1))]),_:1}),P(Tt,{options:s,modelValue:l.value,"onUpdate:modelValue":w[0]||(w[0]=v=>l.value=v),size:"sm",variant:"subtle",class:"w-28"},null,8,["modelValue"])])):z("",!0),m("div",{class:"grid gap-px",style:ke(o.value)},[(u(!0),h(de,null,Ee(a.value,(v,b)=>(u(),h("div",{key:v.attrs.src+b,class:"relative aspect-square w-full h-full overflow-hidden bg-surface-white group"},[r.value?(u(),h("button",{key:0,type:"button",class:"absolute top-1 right-1 z-10 bg-white/80 hover:bg-white rounded-full p-1 shadow transition-opacity opacity-0 group-hover:opacity-100 focus:opacity-100","aria-label":"Remove image",onClick:Y(_=>V(b),["stop"])},[P(k(et),{class:"w-4 h-4 text-gray-700"})],8,Ml)):z("",!0),r.value?(u(),h("img",{key:2,src:v.attrs.src,alt:v.attrs.alt||"",class:"object-cover w-full h-full not-prose rounded-[2px]"},null,8,Dl)):(u(),h("img",{key:1,src:v.attrs.src,alt:v.attrs.alt||"",class:"object-cover w-full h-full not-prose cursor-pointer rounded-[2px]",onClick:_=>D(b)},null,8,Ll)),v.attrs.alt?(u(),h("div",Sl,[m("div",Tl,[m("div",{class:"text-white text-xs truncate",title:v.attrs.alt},U(v.attrs.alt),9,Il)])])):z("",!0)]))),128))],4),i.value?(u(),q(bn,{key:1,show:i.value,"onUpdate:show":w[1]||(w[1]=v=>i.value=v),images:d.value,initialIndex:f.value},null,8,["show","images","initialIndex"])):z("",!0),j.value?(u(),q(xl,{key:2,modelValue:j.value,"onUpdate:modelValue":w[2]||(w[2]=v=>j.value=v),files:c.value,editor:e.editor,mode:"edit",existingImages:g.value,initialColumns:n.value,onClose:$,onSave:x},null,8,["modelValue","files","editor","existingImages","initialColumns"])):z("",!0),H(I.$slots,"default")])]),_:3}))}});We.create({name:"imageGroup",group:"block",content:"image+",selectable:!0,draggable:!0,isolating:!0,addOptions(){return{uploadFunction:null,HTMLAttributes:{}}},addAttributes(){return{columns:{default:4}}},parseHTML(){return[{tag:'div[data-type="image-group"]',getAttrs:t=>{if(typeof t=="string")return{};const e=t;return{columns:e.getAttribute("data-columns")?Number(e.getAttribute("data-columns")):4}}}]},renderHTML({HTMLAttributes:t,node:e}){return["div",Be({"data-type":"image-group","data-columns":e.attrs.columns},this.options.HTMLAttributes,t),0]},addNodeView(){return st(El)},addCommands(){return{setImageGroup:t=>({commands:e})=>e.insertContent({type:this.name,attrs:{columns:t.columns||4},content:t.images.map(n=>({type:"image",attrs:n}))})}}});const zl={class:"lucide lucide-info",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Pl(t,e){return u(),h("svg",zl,[...e[0]||(e[0]=[m("circle",{cx:"12",cy:"12",r:"10"},null,-1),m("path",{d:"M12 16v-4"},null,-1),m("path",{d:"M12 8h.01"},null,-1)])])}N({name:"lucide-info",render:Pl});const Al={class:"lucide lucide-triangle-alert",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Rl(t,e){return u(),h("svg",Al,[...e[0]||(e[0]=[m("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"},null,-1),m("path",{d:"M12 9v4"},null,-1),m("path",{d:"M12 17h.01"},null,-1)])])}N({name:"lucide-alert-triangle",render:Rl});M([]);M("");const Ol={class:"lucide lucide-panel-right-open",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Vl(t,e){return u(),h("svg",Ol,[...e[0]||(e[0]=[m("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"},null,-1),m("path",{d:"M15 3v18"},null,-1),m("path",{d:"m10 15-3-3 3-3"},null,-1)])])}N({name:"lucide-panel-right-open",render:Vl});function gm(a,o){return le(this,arguments,function*(t,e,n={}){e||(e={});let r=Object.assign({Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Frappe-Site-Name":window.location.hostname},n.headers||{});window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(r["X-Frappe-CSRF-Token"]=window.csrf_token);let s=t.startsWith("/")?t:`/api/method/${t}`;const l=yield fetch(s,{method:"POST",headers:r,body:JSON.stringify(e)});if(l.ok){const i=yield l.json();if(i.docs||t==="login")return i;if(i.exc)try{console.groupCollapsed(t),console.log(`method: ${t}`),console.log("params:",e);let f=JSON.parse(i.exc);for(let d of f)console.log(d);console.groupEnd()}catch(f){console.warn("Error printing debug messages",f)}return i.message}else{let i=yield l.text(),f,d;try{f=JSON.parse(i)}catch(g){}let j=[[t,f.exc_type,f._error_message].filter(Boolean).join(" ")];if(f.exc){d=f.exc;try{d=JSON.parse(d)[0],console.log(d)}catch(g){}}let c=new Error(j.join(`
`));throw c.exc_type=f.exc_type,c.exc=d,c.status=l.status,c.messages=f._server_messages?JSON.parse(f._server_messages):[],c.messages=c.messages.concat(f.message),c.messages=c.messages.map(g=>{try{return JSON.parse(g).message}catch(p){return g}}),c.messages=c.messages.filter(Boolean),c.messages.length||(c.messages=f._error_message?[f._error_message]:["Internal Server Error"]),n.onError&&n.onError({response:l,status:l.status,error:c}),c}})}const Bl=t=>new Promise((e,n)=>{const a=new FileReader;a.onloadend=()=>{a.result==null?n(new Error("FileReader result is null")):typeof a.result=="string"&&e(a.result)},a.readAsDataURL(t)});let ve=null,kt=null;function Ut(){typeof window!="undefined"&&!ve&&(ve=document.querySelector('link[rel="icon"]'),kt=(ve==null?void 0:ve.href)||null)}function Fl(t){typeof window!="undefined"&&Ut();const e=ge(()=>{try{return t()}catch(a){return null}},a=>{if(typeof window!="undefined"&&a)if(a.title&&(document.title=a.title),ve||Ut(),a.emoji){const o=`data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${a.emoji}</text></svg>`;ve&&(ve.href=o)}else a.icon?ve&&(ve.href=a.icon):ve&&kt&&(ve.href=kt)},{immediate:!0,deep:!0});return va()&&ba(e),e}const hm={install(t){t.mixin(Hl())}};function Hl(){return{mounted(){if(this.$options.pageMeta){const t=this.$options.pageMeta.bind(this);this._pageMetaStopWatcher=Fl(t)}},beforeUnmount(){this._pageMetaStopWatcher&&(this._pageMetaStopWatcher(),this._pageMetaStopWatcher=void 0)}}}function Ln(t){let e=Object.assign({},t);if(!e.url)throw new Error("[request] options.url is required");e.transformRequest&&(e=e.transformRequest(t)),e.responseType||(e.responseType="json"),e.method||(e.method="GET");let n=e.url,a;if(e.params)if(e.method==="GET"){let o=new URLSearchParams;for(let r in e.params)o.append(r,e.params[r]);n=e.url+"?"+o.toString()}else a=JSON.stringify(e.params);return fetch(n,{method:e.method||"GET",headers:e.headers,body:a}).then(o=>{if(e.transformResponse)return e.transformResponse(o,e);if(o.status>=200&&o.status<300)return e.responseType==="json"?o.json():o;{let r=new Error(o.statusText);throw r.response=o,r}}).catch(o=>{if(e.transformError)return e.transformError(o);throw o})}function It(t,e){return typeof indexedDB=="undefined"?Promise.resolve(null):t?nn(t,JSON.stringify(e)):Promise.resolve()}function Nl(t){return typeof indexedDB=="undefined"?Promise.resolve(null):t?on(t):Promise.resolve()}function Et(t){return typeof indexedDB=="undefined"?Promise.resolve(null):an(t).then(e=>e&&JSON.parse(e))}let it={};function _e(t,e){let n=null;if(t.cache){n=Je(t.cache);let j=it[n];if(j)return j.auto&&j.reload(),j}typeof t=="string"&&(t={url:t,auto:!0});let a=t.debounce?mt(r,t.debounce):r,o=Oe({method:t.method,url:t.url,data:t.initialData||null,previousData:null,loading:!1,fetched:!1,error:null,promise:null,auto:t.auto,params:null,fetch:a,reload:a,submit:a,reset:l,update:s,setData:f});function r(g){return le(this,arguments,function*(j,c={}){let p=t.resourceFetcher||we("resourceFetcher")||Ln;j instanceof Event&&(j=null),j=j||o.params,t.makeParams&&(j=t.makeParams.call(e,j)),o.params=j,o.previousData=o.data?JSON.parse(JSON.stringify(o.data)):null,o.loading=!0,o.error=null,t.onFetch&&t.onFetch.call(e,o.params);let $=[t.beforeSubmit,c.beforeSubmit];for(let w of $)w&&w.call(e,o.params);let x=c.validate||t.validate,D=[t.onError,c.onError],V=[t.onSuccess,c.onSuccess],I=[t.onData,c.onData];if(x){let w;try{if(w=yield x.call(e,o.params),w&&typeof w=="string")throw new Error(w)}catch(v){i(v,D);return}}try{o.promise=p(ne(G({},t),{params:j||t.params}));let w=yield o.promise;It(n,w),o.data=d(w),o.fetched=!0;for(let v of V)v&&v.call(e,w);for(let v of I)v&&v.call(e,w)}catch(w){i(w,D)}return o.loading=!1,o.data})}function s({method:j,url:c,params:g,auto:p}){j&&j!==t.method&&(o.method=j),c&&c!==t.url&&(o.url=c),g&&g!==t.params&&(o.params=g),p!==void 0&&p!==o.auto&&(o.auto=p)}function l(){o.data=t.initialData||null,o.previousData=null,o.loading=!1,o.fetched=!1,o.error=null,o.params=null,o.auto=t.auto}function i(j,c){o.loading=!1,o.previousData&&(o.data=o.previousData),o.error=j;for(let g of c)g&&g.call(e,j);if(c.every(g=>g==null)){let g=we("fallbackErrorHandler");if(g)try{g(j)}catch(p){console.warn("Error in fallbackErrorHandler",p)}}throw j}function f(j){typeof j=="function"&&(j=j.call(e,o.data)),o.data=d(j)}function d(j){if(t.transform){let c=t.transform.call(e,j);if(c!=null)return c}return j}return n&&!it[n]&&(it[n]=o,Et(n).then(j=>{var c;(o.loading||!o.fetched)&&j&&(f(j),(c=t.onData)==null||c.call(e,j))})),t.auto&&o.fetch(),o}function Je(t){return t?(typeof t=="string"&&(t=[t]),JSON.stringify(t)):null}function ql(t){return t=Je(t),it[t]||null}function Dn(t,e,n){Ul(t,e),t.on("list_update",a=>{a.doctype==e&&n(a.name)})}let Wt={};function Ul(t,e){Wt[e]||(t.emit("doctype_subscribe",e),Wt[e]=!0)}let xt=Oe({}),qe={};function Wl(t,e){var D,V,I,w,v;if(!t.doctype)throw new Error("List resource requires doctype");let n=Je(t.cache);if(n){let b=xt[n];if(b)return b.auto&&b.reload(),b}let a=we("defaultListUrl")||"frappe.client.get_list",o=we("defaultDocInsertUrl")||"frappe.client.insert",r=we("defaultDocUpdateUrl")||"frappe.client.set_value",s=we("defaultDocDeleteUrl")||"frappe.client.delete",l=we("defaultRunDocMethodUrl")||"run_doc_method",i=Oe({doctype:t.doctype,fields:t.fields,filters:t.filters,orFilters:t.orFilters,orderBy:t.orderBy,start:t.start||0,pageLength:t.pageLength||20,groupBy:t.groupBy,parent:t.parent,debug:t.debug||0,originalData:null,dataMap:{},data:null,previous:p,hasPreviousPage:!1,next:$,hasNextPage:!0,auto:t.auto,list:_e({url:t.url||a,makeParams(){return{doctype:i.doctype,fields:i.fields,filters:i.filters,or_filters:i.orFilters,order_by:i.orderBy,start:i.start,limit:i.pageLength,limit_start:i.start,limit_page_length:i.pageLength,group_by:i.groupBy,parent:i.parent,debug:i.debug}},onSuccess(b){var E;i.hasPreviousPage=!!i.start,i.hasNextPage=!(b.length<i.pageLength);let _;!i.start||i.start==0?_=b:i.start>0&&(_=i.originalData.concat(b)),It(n,_),g(_),(E=t.onSuccess)==null||E.call(e,i.data)},onError:t.onError},e),fetchOne:_e({url:t.url||a,makeParams(b){return{doctype:i.doctype,fields:i.fields||"*",filters:{name:b}}},onSuccess(b){var _,E;if(b.length>0&&i.originalData){let y=b[0];Xe(i.doctype,y)}(E=(_=t.fetchOne)==null?void 0:_.onSuccess)==null||E.call(e,i.data)},onError:(D=t.fetchOne)==null?void 0:D.onError},e),insert:_e({url:o,makeParams(b){return{doc:G({doctype:i.doctype},b)}},onSuccess(b){var _,E;i.list.fetch(),(E=(_=t.insert)==null?void 0:_.onSuccess)==null||E.call(e,b)},onError:(V=t.insert)==null?void 0:V.onError},e),setValue:_e({url:r,makeParams(b){let y=b,{name:_}=y,E=nt(y,["name"]);return{doctype:i.doctype,name:_,fieldname:E}},onSuccess(b){var _,E;Xe(i.doctype,b),(E=(_=t.setValue)==null?void 0:_.onSuccess)==null||E.call(e,b)},onError:(I=t.setValue)==null?void 0:I.onError},e),delete:_e({url:s,makeParams(b){return{doctype:i.doctype,name:b}},onSuccess(b){var _,E;i.list.fetch(),(E=(_=t.delete)==null?void 0:_.onSuccess)==null||E.call(e,b)},onError:(w=t.delete)==null?void 0:w.onError},e),runDocMethod:_e({url:l,makeParams(y){var B=y,{method:b,name:_}=B,E=nt(B,["method","name"]);return{dt:i.doctype,dn:_,method:b,args:E}},onSuccess(b){var _,E;if(b.docs)for(let y of b.docs)Xe(y.doctype,y);(E=(_=t.runDocMethod)==null?void 0:_.onSuccess)==null||E.call(e,b)},onError:(v=t.runDocMethod)==null?void 0:v.onError},e),update:f,fetch:c,reload:j,setData:g,transform:d,getRow:x});function f(b){Object.assign(i,b)}function d(b){if(t.transform){let _=t.transform.call(e,b);if(_!=null)return _}return b}function j(){let b=i.start,_=i.pageLength;return i.start>0&&(i.start=0,i.pageLength=i.originalData.length),i.list.fetch().finally(()=>{i.start=b,i.pageLength=_})}function c(){j()}function g(b){if(i.originalData=b,typeof b=="function"&&(b=b.call(e,i.data)),i.data=d(b),Array.isArray(i.data)){i.dataMap={};for(let _ of i.data){if(!_.name)continue;let E=_.name.toString();i.dataMap[E]=_}}}function p(){i.start=i.start-i.pageLength,i.list.fetch()}function $(){i.start=i.start+i.pageLength,i.list.fetch()}function x(b){let _=b.toString();return i.dataMap[_]}return t.realtime&&(e!=null&&e.$socket)&&Dn(e.$socket,i.doctype,b=>{var _;(_=i.originalData)!=null&&_.find(E=>E.name===b)&&i.fetchOne.submit(b)}),n&&(xt[n]=i,Et(n).then(b=>{var _;(i.list.loading||!i.list.fetched)&&b&&(g(b),(_=t.onData)==null||_.call(e,b))})),t.auto&&i.list.fetch(),qe[i.doctype]=qe[i.doctype]||[],qe[i.doctype].push(i),i}function Kl(t){return t=Je(t),xt[t]||null}function Xe(t,e){if(!e.name)return;let n=qe[t]||[];for(let a of n)if(a.originalData){for(let o of a.originalData)if(o.name&&o.name==e.name){delete o._previousData;let r=JSON.stringify(o);for(let s in o)s in e&&(o[s]=e[s]);o._previousData=r}a.data=a.transform(a.originalData)}}function Jl(t,e){let n=qe[t]||[];for(let a of n)a.originalData&&(a.originalData=a.originalData.filter(o=>o.name.toString()!==e.toString()),a.data=a.transform(a.originalData))}function Xl(t,e){let n=qe[t]||[];for(let a of n)if(a.originalData){for(let o of a.originalData)if(o.name&&o.name==e.name){let r=JSON.parse(o._previousData);for(let s in o)o[s]=r[s];delete o._previousData}a.data=a.transform(a.originalData)}}let Ct=Oe({});function Gl(t,e){var p;if(!(t.doctype&&t.name))return;let n=Je([t.doctype,t.name]),a=Ct[n];if(a)return a.auto&&a.reload(),a;let o=we("defaultDocGetUrl")||"frappe.client.get",r=we("defaultDocUpdateUrl")||"frappe.client.set_value",s=we("defaultDocDeleteUrl")||"frappe.client.delete",l=we("defaultRunDocMethodUrl")||"run_doc_method",i={url:r,makeParams(x){return{doctype:d.doctype,name:d.name,fieldname:x}},validate(x){var D,V;(V=(D=t.setValue)==null?void 0:D.validate)==null||V.call(e,x)},beforeSubmit(x){d.previousDoc=JSON.stringify(d.doc),Object.assign(d.doc,x.fieldname||{}),Xe(d.doctype,d.doc)},onSuccess(x){var D,V;d.doc=g(x),d.originalDoc=JSON.parse(JSON.stringify(d.doc)),(V=(D=t.setValue)==null?void 0:D.onSuccess)==null||V.call(e,x)},onError(x){var D,V;d.doc=JSON.parse(d.previousDoc),(V=(D=t.setValue)==null?void 0:D.onError)==null||V.call(e,x),Xl(d.doctype,d.doc)}};const f=t.auto!==void 0;let d=Oe({doctype:t.doctype,name:t.name,doc:null,originalDoc:null,isDirty:!1,auto:f?t.auto:!0,get:_e({url:o,makeParams(){return{doctype:d.doctype,name:d.name}},onSuccess(x){var D;It(n,x),d.doc=g(x),d.originalDoc=JSON.parse(JSON.stringify(d.doc)),(D=t.onSuccess)==null||D.call(e,d.doc)},onError(x){var D;Nl(n),d.doc=null,d.originalDoc=null,(D=t.onError)==null||D.call(e,x)}},e),setValue:_e(i,e),setValueDebounced:_e(ne(G({},i),{debounce:t.debounce||500}),e),save:_e(ne(G({},i),{makeParams(){let x=JSON.parse(JSON.stringify(d.doc));return delete x.doctype,delete x.name,{doctype:d.doctype,name:d.name,fieldname:x}}}),e),delete:_e({url:s,makeParams(){return{doctype:d.doctype,name:d.name}},onSuccess(){var x,D;d.doc=null,(D=(x=t.delete)==null?void 0:x.onSuccess)==null||D.call(e),Jl(d.doctype,d.name)},onError:(p=t.delete)==null?void 0:p.onError},e),reload:j,setDoc:c});ge(()=>d.doc,()=>{d.isDirty=JSON.stringify(d.doc)!==JSON.stringify(d.originalDoc)},{deep:!0});for(let x in t.whitelistedMethods){let D=t.whitelistedMethods[x];typeof D=="string"&&(D={method:D});let $=D,{method:V,onSuccess:I,makeParams:w,transform:v}=$,b=nt($,["method","onSuccess","makeParams","transform"]);d[x]=_e(G({url:l,makeParams(_){return _=w?w.call(e,_):_,{dt:d.doctype,dn:d.name,method:V,args:_}},transform(_){if(v){let E=v.call(e,_.message);if(E!=null)return E}return _.message},onSuccess(_){if(_.docs){for(let E of _.docs)if(E.doctype===d.doctype&&E.name.toString()===d.name.toString()){d.doc=g(E),Xe(d.doctype,d.doc);break}}I==null||I.call(e,_.message)}},b),e)}function j(){return d.get.fetch()}function c(x){typeof x=="function"&&(x=x.call(e,d.doc)),d.doc=g(x)}function g(x){if(t.transform){let D=t.transform.call(e,x);if(typeof D=="object")return D}return x}return t.realtime&&e.$socket&&Dn(e.$socket,d.doctype,x=>{x==d.name&&d.get.fetch()}),Ct[n]=d,Et(n).then(x=>{(d.get.loading||!d.get.fetched)&&x&&(d.doc=g(x))}),d.auto&&d.get.fetch(),d}function Yl(t,e){let n=Je([t,e]);return Ct[n]||null}let Zl=t=>({created(){if(this.$options.resources){this._resources=Oe({});for(let e in this.$options.resources){let n=this.$options.resources[e];if(typeof n=="function")ge(()=>{let a=null;try{a=n.call(this)}catch(o){console.warn(`Failed to get resource options

`,o),a=null}return a},(a,o)=>{!a||!(!o||JSON.stringify(a)!==JSON.stringify(o))||(this._resources[e]=Kt(a,this))},{immediate:!0,deep:!0});else{let a=Kt(n,this);this._resources[e]=a}}}},methods:{$getResource(e){return ql(e)},$getDocumentResource(e,n){return Yl(e,n)},$getDoc(e,n){let a=this.$getDocumentResource(e,n);return a?a.doc:null},$getListResource(e){return Kl(e)},$refetchResource(e){let n=this.$getResource(e);n&&n.fetch()}},computed:{$resources(){return this._resources}}});function Kt(t,e){return t.type==="document"?Gl(t,e):t.type==="list"?Wl(t,e):_e(t,e)}const pm={install(t,e){let n=Zl();t.mixin(n)}};function jm(t){return Ln(ne(G({},t),{transformRequest:(e={})=>{if(!e.url)throw new Error("[frappeRequest] options.url is required");let n=Object.assign({Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Frappe-Site-Name":window.location.hostname},e.headers||{});return window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(n["X-Frappe-CSRF-Token"]=window.csrf_token),!e.url.startsWith("/")&&!e.url.startsWith("http")&&(e.url="/api/method/"+e.url),ne(G({},e),{method:e.method||"POST",headers:n})},transformResponse:(e,n)=>le(this,null,function*(){let a=n.url;if(e.ok){const o=yield e.json();if(o.docs||a==="/api/method/login")return o;if(o.exc)try{console.groupCollapsed(a),console.log(n);let r=JSON.parse(o.exc);for(let s of r)console.log(s);console.groupEnd()}catch(r){console.warn("Error printing debug messages",r)}if(o._server_messages){let r=we("serverMessagesHandler")||n.onServerMessages||null;r&&r(JSON.parse(o==null?void 0:o._server_messages)||[])}return o.message}else{let o=yield e.text(),r,s;try{r=JSON.parse(o)}catch(f){}let l=[[n.url,r==null?void 0:r.exc_type,r==null?void 0:r._error_message].filter(Boolean).join(" ")];if(r.exc){s=r.exc;try{s=JSON.parse(s)[0],console.log(s)}catch(f){}}let i=new Error(l.join(`
`));throw i.exc_type=r.exc_type,i.exc=s,i.response=e,i.status=o.status,i.messages=r._server_messages?JSON.parse(r._server_messages):[],i.messages=i.messages.concat(r.message),i.messages=i.messages.map(f=>{try{return JSON.parse(f).message}catch(d){return f}}),i.messages=i.messages.filter(Boolean),i.messages.length||(i.messages=r._error_message?[r._error_message]:["Internal Server Error"]),n.onError&&n.onError(i),i}}),transformError:e=>{throw t.onError&&t.onError(e),e}}))}class Ql{constructor(){this.memoryStore={},this.useIndexedDB=typeof window!="undefined"&&!!window.indexedDB}set(e,n){if(!this.validateKey(e))return Promise.resolve(null);try{return this.useIndexedDB?nn(e,JSON.stringify(n)):(this.memoryStore[e]=JSON.stringify(n),Promise.resolve())}catch(a){return this.handleError(a,"save to")}}setMany(e){try{if(this.useIndexedDB){let n=[];for(const[a,o]of Object.entries(e))n.push([a,JSON.stringify(o)]);return wa(n)}for(const[n,a]of Object.entries(e))this.memoryStore[n]=JSON.stringify(a);return Promise.resolve()}catch(n){return this.handleError(n,"save to")}}delete(e){if(!this.validateKey(e))return Promise.resolve(null);try{return this.useIndexedDB?on(e):(delete this.memoryStore[e],Promise.resolve())}catch(n){return this.handleError(n,"delete from")}}get(e){if(!this.validateKey(e))return Promise.resolve(null);if(this.useIndexedDB)return an(e).then(n=>{if(!n)return null;try{return JSON.parse(n)}catch(a){return this.handleError(a,"parse data from")}});try{const n=this.memoryStore[e];return Promise.resolve(n?JSON.parse(n):null)}catch(n){return this.handleError(n,"parse data from")}}keys(){return le(this,null,function*(){try{return this.useIndexedDB?ya():Promise.resolve(Object.keys(this.memoryStore))}catch(e){return console.error(`Failed to get keys from ${this.useIndexedDB?"IndexedDB":"memory store"}:`,e),Promise.resolve([])}})}validateKey(e){return!!e}handleError(e,n){return console.error(`Failed to ${n} ${this.useIndexedDB?"IndexedDB":"memory store"}:`,e),Promise.resolve(null)}}let He=new Ql;class em{constructor(){this.cacheTimeout=5*60*1e3,this.storePrefix="doc:",this.docs=new Map,this.lastFetched=new Map}setCacheTimeout(e){if(e<1)throw new Error("Cache timeout must be at least 1 minute");this.cacheTimeout=e*60*1e3}setDoc(e){return le(this,null,function*(){if(!(e!=null&&e.doctype)||!(e!=null&&e.name))throw new Error("Invalid doc: must have doctype and name");e.name=e.name.toString();const n=this.getKey(e.doctype,e.name);try{yield He.set(this.storePrefix+n,e),this.docs.has(n)||this.docs.set(n,M(null));const a=this.docs.get(n);a&&(a.value=e),this.lastFetched.set(n,Date.now())}catch(a){throw console.error("Failed to set doc in IDB:",a),a}})}getDoc(e,n){const a=St(n);if(!e||!a)throw new Error("doctype and name are required");const o=this.getKey(e,a);return this.docs.has(o)?this.isStale(o)&&this.loadDoc(o,!1):(this.docs.set(o,M(null)),this.loadDoc(o,!0)),this.docs.get(o)}loadDoc(e,n){return le(this,null,function*(){try{!n&&this.isStale(e)&&(yield this.cleanup(e));const a=yield He.get(this.storePrefix+e);if(a){const o=this.docs.get(e);o&&(o.value=a),this.lastFetched.set(e,Date.now())}}catch(a){throw console.error("Failed to load doc from IDB:",a),a}})}setDocs(e){return le(this,null,function*(){const n={};for(const a of e){if(!(a!=null&&a.doctype)||!(a!=null&&a.name))continue;a.name=a.name.toString();const o=this.getKey(a.doctype,a.name);this.docs.has(o)||this.docs.set(o,M(null));const r=this.docs.get(o);r&&(r.value=a),this.lastFetched.set(o,Date.now()),n[this.storePrefix+o]=a}yield He.setMany(n)})}invalidateDoc(e,n){return le(this,null,function*(){if(!e||!n)return;const a=this.getKey(e,n);yield this.cleanup(a)})}removeDoc(e,n){return this.invalidateDoc(e,n)}getKey(e,n){return`${e.trim()}/${n.trim()}`}isStale(e){const n=this.lastFetched.get(e);return n?Date.now()-n>this.cacheTimeout:!0}cleanup(e){return le(this,null,function*(){this.docs.delete(e),this.lastFetched.delete(e),yield He.delete(this.storePrefix+e)})}clearAll(){return le(this,null,function*(){try{const n=(yield He.keys()).filter(a=>a.startsWith(this.storePrefix));yield Promise.all(n.map(a=>He.delete(a))),this.docs.clear(),this.lastFetched.clear()}catch(e){throw console.error("Failed to clear all docs:",e),e}})}}const tm=new em;class nm{constructor(){this.byDocType={}}addList(e,n){this.ensureList(e),this.byDocType[e].push(n)}updateRows(e){for(let n of e)this.updateRow(n.doctype,n)}updateRow(e,n){this.ensureList(e),this.byDocType[e].forEach(a=>{a.updateRow(n)})}removeRow(e,n){this.ensureList(e),this.byDocType[e].forEach(a=>{a.removeRow(n)})}ensureList(e){this.byDocType[e]||(this.byDocType[e]=[])}}const am=new nm;class zt extends Error{constructor(e,n){super(e),this.name="FrappeResponseError",this.title=n.title,this.type=n.type,this.exception=n.exception,this.indicator=n.indicator,Error.captureStackTrace&&Error.captureStackTrace(this,zt)}}ka({options:{fetch:(...t)=>fetch(...t),beforeFetch({options:t}){return t.headers=om(t.headers||{}),{options:t}},afterFetch(t){let e=JSON.parse(t.data);if(t.data=e,e.debug){let n=t.response.url.replace(window.location.origin,"");console.group(n);for(let a of e.debug)console.log(a==null?void 0:a.message);console.groupEnd()}if(e.docs){let n=e.docs;for(let a of n)a.name=a.name.toString();tm.setDocs(n),am.updateRows(n)}return t},onFetchError(t){var e;if((e=t.response)!=null&&e.ok&&t.error)return console.error(`Fetch request succeeded but there was a programming error:

`,t.error),t;try{let o=JSON.parse(t.data).errors[0],r=o.message?`: ${o.message}`:o.exception?" (Traceback)":"",s=new zt(`${o.type}${r}`,{title:o.title,type:o.type,exception:o.exception,indicator:o.indicator});return t.error=s,t}catch(n){return console.log("Error parsing error response:",n),t}}}});function om(t){let e=null,n=null;typeof window!="undefined"&&(e=window.location.hostname,n=window.csrf_token!=="{{ csrf_token }}"?window.csrf_token:null);const a={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return e&&(a["X-Frappe-Site-Name"]=e),n&&(a["X-Frappe-CSRF-Token"]=n),G(G({},t),a)}export{um as C,un as D,fm as I,Qe as _,sm as a,mm as b,_e as c,lm as d,No as e,dm as f,sn as g,ye as h,jm as i,gm as j,hm as p,pm as r,cm as s};
//# sourceMappingURL=frappe-ui-BJqOB8bf.js.map
