var se=Object.defineProperty,le=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var z=(g,d,u)=>d in g?se(g,d,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[d]=u,E=(g,d)=>{for(var u in d||(d={}))ne.call(d,u)&&z(g,u,d[u]);if(W)for(var u of W(d))ae.call(d,u)&&z(g,u,d[u]);return g},Y=(g,d)=>le(g,re(d));import{F as ie,f as M,c as w,U as de,a as l,o as r,b as e,i as V,w as j,e as c,H as k,O as _,n as m,t as n,aF as ue,D as S,L as b,aZ as A,ag as ce,aY as B}from"./vendor-DHvq1guq.js";import{u as pe}from"./onboarding-B_89MwKn.js";import{u as ve}from"./useToast-BVpZJNhB.js";import"./frappe-ui-CIvmTRjx.js";const ge={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},me={class:"bg-white shadow-sm"},be={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},ye={class:"flex items-center justify-between"},fe={class:"flex items-center gap-4"},xe={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},he={key:0,class:"mb-8"},we={class:"flex items-center justify-between"},ke={class:"flex items-center"},_e={key:0},Ae={key:1},Ce={class:"ml-3"},Se={class:"bg-white rounded-xl shadow-lg p-8"},Re={key:0,class:"text-center py-12"},Fe={key:1,class:"text-center py-12"},Me={class:"mb-6"},Ve={class:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center"},je={class:"text-4xl"},Be={class:"text-gray-600 mb-6 max-w-md mx-auto"},De={key:2},Ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},Ue=["onClick"],Te={class:"flex items-center gap-3"},Le={class:"text-3xl"},Oe={class:"flex-1"},We={class:"font-semibold text-gray-900"},ze={class:"text-sm text-gray-600"},Ee={key:0,class:"text-blue-600"},Ye={key:0,class:"mt-6 p-4 bg-gray-50 rounded-lg"},He={class:"block text-sm font-medium text-gray-700 mb-2"},Pe={value:""},Ie=["value"],$e={class:"text-xs text-gray-500 mt-2"},qe={key:3},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},Ze=["onClick"],Ge={class:"flex items-center gap-3"},Je={class:"text-3xl"},Ke={class:"flex-1"},Xe={class:"font-semibold text-gray-900"},et={class:"text-sm text-gray-600"},tt={key:0,class:"text-green-600"},ot={key:0,class:"mt-6 p-4 bg-gray-50 rounded-lg"},st={class:"block text-sm font-medium text-gray-700 mb-2"},lt={value:""},rt=["value"],nt={key:4},at={class:"text-gray-600 mb-6"},it={class:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg"},dt={class:"flex items-center justify-between text-sm"},ut={class:"font-medium text-blue-900"},ct={class:"font-medium text-blue-900"},pt={class:"space-y-4"},vt={class:"block text-xs font-medium text-gray-600 mb-1"},gt=["onUpdate:modelValue"],mt=["value"],bt={class:"block text-xs font-medium text-gray-600 mb-1"},yt=["onUpdate:modelValue"],ft=["value"],xt={key:5},ht={class:"space-y-6"},wt={class:"space-y-3"},kt={key:0,class:"p-4 bg-gray-50 rounded-lg"},_t={key:6,class:"mt-8 flex justify-between"},At={key:1},Ct=["disabled"],St=["disabled"],Bt={__name:"WorkflowBuilder",setup(g){const d=ie(),u=pe(),H=ve(),y=M([{id:"source",title:"Source"},{id:"destination",title:"Destination"},{id:"mapping",title:"Field Mapping"},{id:"sync",title:"Sync Settings"}]),f=M("source"),p=w(()=>y.value.findIndex(a=>a.id===f.value)),o=M({name:"",sourceApp:null,sourceResource:null,destinationApp:null,destinationResource:null,fieldMappings:[{sourceField:"",destinationField:""}],trigger:"manual",schedule:"hourly"}),x=w(()=>u.connectedApps.map(a=>u.availableApps.find(t=>t.id===a)).filter(Boolean).map(a=>Y(E({},a),{resourceType:P(a.id)})));function P(a){return{google_sheets:"Spreadsheet",airtable:"Base",notion:"Database",salesforce:"Object",hubspot:"Object",xero:"Organization"}[a]||"Resource"}const I=w(()=>x.value.filter(a=>{var t;return a.id!==((t=o.value.sourceApp)==null?void 0:t.id)})),$=w(()=>o.value.sourceApp?o.value.sourceApp.id==="google_sheets"?[{id:"1",name:"Customer Database 2025"},{id:"2",name:"Sales Leads Q1"},{id:"3",name:"Invoice Tracker"}]:[]:[]),q=w(()=>o.value.destinationApp?o.value.destinationApp.id==="salesforce"?[{id:"1",name:"Leads"},{id:"2",name:"Contacts"},{id:"3",name:"Opportunities"}]:[]:[]),Q=w(()=>o.value.sourceResource?["Full Name","Email Address","Phone Number","Company","Status","Notes"]:[]),Z=w(()=>o.value.destinationResource?["First Name","Last Name","Email","Phone","Company Name","Lead Status","Description"]:[]);function G(a){return a<p.value?"bg-blue-600 text-white":a===p.value?"bg-blue-100 text-blue-600 ring-2 ring-blue-600":"bg-gray-200 text-gray-600"}function J(a){o.value.sourceApp=a,o.value.sourceResource=null}function K(a){o.value.destinationApp=a,o.value.destinationResource=null}function X(){o.value.fieldMappings.push({sourceField:"",destinationField:""})}const R=w(()=>{switch(f.value){case"source":return o.value.sourceApp&&o.value.sourceResource;case"destination":return o.value.destinationApp&&o.value.destinationResource;case"mapping":return o.value.fieldMappings.some(a=>a.sourceField&&a.destinationField);case"sync":return o.value.name&&o.value.trigger;default:return!1}});function ee(){R.value&&p.value<y.value.length-1&&(f.value=y.value[p.value+1].id)}function te(){p.value>0&&(f.value=y.value[p.value-1].id)}function oe(){console.log("Creating workflow:",o.value),H.success("Workflow created successfully! üéâ"),d.push({name:"Dashboard"})}return(a,t)=>{var D,N,U,T,L,O;const F=de("router-link");return r(),l("div",ge,[e("header",me,[e("div",be,[e("div",ye,[e("div",fe,[V(F,{to:"/dashboard",class:"text-gray-600 hover:text-gray-900"},{default:j(()=>[...t[7]||(t[7]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),t[8]||(t[8]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Create Workflow"),e("p",{class:"text-sm text-gray-600"},"Connect your data sources and define how they sync")],-1))])])])]),e("main",xe,[x.value.length>=2?(r(),l("div",he,[e("div",we,[(r(!0),l(k,null,_(y.value,(s,i)=>(r(),l("div",{key:s.id,class:m(["flex items-center",{"flex-1":i<y.value.length-1}])},[e("div",ke,[e("div",{class:m(["w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all",G(i)])},[i<p.value?(r(),l("span",_e,"‚úì")):(r(),l("span",Ae,n(i+1),1))],2),e("div",Ce,[e("div",{class:m(["text-sm font-medium",i<=p.value?"text-gray-900":"text-gray-500"])},n(s.title),3)])]),i<y.value.length-1?(r(),l("div",{key:0,class:m(["flex-1 h-0.5 mx-4",i<p.value?"bg-blue-600":"bg-gray-300"])},null,2)):c("",!0)],2))),128))])])):c("",!0),e("div",Se,[x.value.length===0?(r(),l("div",Re,[t[10]||(t[10]=ue('<div class="mb-6"><div class="w-24 h-24 mx-auto bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div></div><h3 class="text-xl font-bold text-gray-900 mb-2"> No Apps Connected Yet </h3><p class="text-gray-600 mb-6 max-w-md mx-auto"> You need to connect at least 2 apps before you can create a workflow. Apps allow you to sync data between different platforms. </p>',3)),V(F,{to:"/connect",class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all no-underline"},{default:j(()=>[...t[9]||(t[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),S(" Connect Your First App ",-1)])]),_:1})])):x.value.length===1?(r(),l("div",Fe,[e("div",Me,[e("div",Ve,[e("div",je,n(x.value[0].icon),1)])]),t[14]||(t[14]=e("h3",{class:"text-xl font-bold text-gray-900 mb-2"}," Connect One More App ",-1)),e("p",Be,[t[11]||(t[11]=S(" You have ",-1)),e("strong",null,n(x.value[0].name),1),t[12]||(t[12]=S(" connected. Connect at least one more app to create data sync workflows. ",-1))]),V(F,{to:"/connect",class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all no-underline"},{default:j(()=>[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),S(" Connect Another App ",-1)])]),_:1})])):f.value==="source"?(r(),l("div",De,[t[16]||(t[16]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Data Source",-1)),t[17]||(t[17]=e("p",{class:"text-gray-600 mb-6"},"Choose which app and resource you want to pull data from",-1)),e("div",Ne,[(r(!0),l(k,null,_(x.value,s=>{var i,h;return r(),l("div",{key:s.id,onClick:C=>J(s),class:m(["border-2 rounded-lg p-4 cursor-pointer transition-all",((i=o.value.sourceApp)==null?void 0:i.id)===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[e("div",Te,[e("div",Le,n(s.icon),1),e("div",Oe,[e("div",We,n(s.name),1),e("div",ze,n(s.description),1)]),((h=o.value.sourceApp)==null?void 0:h.id)===s.id?(r(),l("div",Ee,[...t[15]||(t[15]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):c("",!0)])],10,Ue)}),128))]),o.value.sourceApp?(r(),l("div",Ye,[e("label",He," Select "+n(o.value.sourceApp.resourceType||"Resource"),1),b(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.sourceResource=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[e("option",Pe,"-- Choose "+n(o.value.sourceApp.resourceType||"resource")+" --",1),(r(!0),l(k,null,_($.value,s=>(r(),l("option",{key:s.id,value:s},n(s.name),9,Ie))),128))],512),[[A,o.value.sourceResource]]),e("p",$e," We'll fetch this list from your "+n(o.value.sourceApp.name)+" account ",1)])):c("",!0)])):c("",!0),f.value==="destination"?(r(),l("div",qe,[t[19]||(t[19]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Destination",-1)),t[20]||(t[20]=e("p",{class:"text-gray-600 mb-6"},"Choose where you want to send the data",-1)),e("div",Qe,[(r(!0),l(k,null,_(I.value,s=>{var i,h;return r(),l("div",{key:s.id,onClick:C=>K(s),class:m(["border-2 rounded-lg p-4 cursor-pointer transition-all",((i=o.value.destinationApp)==null?void 0:i.id)===s.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"])},[e("div",Ge,[e("div",Je,n(s.icon),1),e("div",Ke,[e("div",Xe,n(s.name),1),e("div",et,n(s.description),1)]),((h=o.value.destinationApp)==null?void 0:h.id)===s.id?(r(),l("div",tt,[...t[18]||(t[18]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):c("",!0)])],10,Ze)}),128))]),o.value.destinationApp?(r(),l("div",ot,[e("label",st," Select "+n(o.value.destinationApp.resourceType||"Resource"),1),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.destinationResource=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"},[e("option",lt,"-- Choose "+n(o.value.destinationApp.resourceType||"resource")+" --",1),(r(!0),l(k,null,_(q.value,s=>(r(),l("option",{key:s.id,value:s},n(s.name),9,rt))),128))],512),[[A,o.value.destinationResource]])])):c("",!0)])):c("",!0),f.value==="mapping"?(r(),l("div",nt,[t[24]||(t[24]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Map Fields",-1)),e("p",at,"Connect fields from "+n((D=o.value.sourceApp)==null?void 0:D.name)+" to "+n((N=o.value.destinationApp)==null?void 0:N.name),1),e("div",it,[e("div",dt,[e("div",ut,n((U=o.value.sourceResource)==null?void 0:U.name)+" ("+n((T=o.value.sourceApp)==null?void 0:T.name)+") ",1),t[21]||(t[21]=e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)),e("div",ct,n((L=o.value.destinationResource)==null?void 0:L.name)+" ("+n((O=o.value.destinationApp)==null?void 0:O.name)+") ",1)])]),e("div",pt,[(r(!0),l(k,null,_(o.value.fieldMappings,(s,i)=>{var h,C;return r(),l("div",{key:i,class:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg"},[e("div",null,[e("label",vt," From "+n((h=o.value.sourceApp)==null?void 0:h.name),1),b(e("select",{"onUpdate:modelValue":v=>s.sourceField=v,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[t[22]||(t[22]=e("option",{value:""},"-- Select field --",-1)),(r(!0),l(k,null,_(Q.value,v=>(r(),l("option",{key:v,value:v},n(v),9,mt))),128))],8,gt),[[A,s.sourceField]])]),e("div",null,[e("label",bt," To "+n((C=o.value.destinationApp)==null?void 0:C.name),1),b(e("select",{"onUpdate:modelValue":v=>s.destinationField=v,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"},[t[23]||(t[23]=e("option",{value:""},"-- Select field --",-1)),(r(!0),l(k,null,_(Z.value,v=>(r(),l("option",{key:v,value:v},n(v),9,ft))),128))],8,yt),[[A,s.destinationField]])])])}),128)),e("button",{onClick:X,class:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-all"}," + Add Field Mapping ")])])):c("",!0),f.value==="sync"?(r(),l("div",xt,[t[33]||(t[33]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Configure Sync",-1)),t[34]||(t[34]=e("p",{class:"text-gray-600 mb-6"},"Set up when and how often data should sync",-1)),e("div",ht,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Workflow Name ",-1)),b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.name=s),type:"text",placeholder:"e.g., Sync Leads from Sheets to CRM",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[ce,o.value.name]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," When should this sync run? ",-1)),e("div",wt,[e("label",{class:m(["flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all",o.value.trigger==="manual"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.trigger=s),type:"radio",value:"manual",class:"mr-3"},null,512),[[B,o.value.trigger]]),t[26]||(t[26]=e("div",null,[e("div",{class:"font-medium text-gray-900"},"Manual"),e("div",{class:"text-sm text-gray-600"},"Run this workflow manually whenever you want")],-1))],2),e("label",{class:m(["flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all",o.value.trigger==="schedule"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.trigger=s),type:"radio",value:"schedule",class:"mr-3"},null,512),[[B,o.value.trigger]]),t[27]||(t[27]=e("div",null,[e("div",{class:"font-medium text-gray-900"},"Schedule"),e("div",{class:"text-sm text-gray-600"},"Run automatically on a schedule")],-1))],2),e("label",{class:m(["flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all",o.value.trigger==="realtime"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[b(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.value.trigger=s),type:"radio",value:"realtime",class:"mr-3"},null,512),[[B,o.value.trigger]]),t[28]||(t[28]=e("div",{class:"flex-1"},[e("div",{class:"font-medium text-gray-900"},"Real-time (Webhook)"),e("div",{class:"text-sm text-gray-600"},"Sync immediately when data changes")],-1)),t[29]||(t[29]=e("span",{class:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full"},"Pro",-1))],2)])]),o.value.trigger==="schedule"?(r(),l("div",kt,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Sync Frequency ",-1)),b(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.value.schedule=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[...t[31]||(t[31]=[e("option",{value:"15min"},"Every 15 minutes",-1),e("option",{value:"hourly"},"Every hour",-1),e("option",{value:"daily"},"Once a day",-1),e("option",{value:"weekly"},"Once a week",-1)])],512),[[A,o.value.schedule]])])):c("",!0)])])):c("",!0),x.value.length>=2?(r(),l("div",_t,[p.value>0?(r(),l("button",{key:0,onClick:te,class:"px-6 py-2 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-all"}," ‚Üê Back ")):(r(),l("div",At)),p.value<y.value.length-1?(r(),l("button",{key:2,onClick:ee,disabled:!R.value,class:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all"}," Continue ‚Üí ",8,Ct)):(r(),l("button",{key:3,onClick:oe,disabled:!R.value,class:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all"}," ‚úì Create Workflow ",8,St))])):c("",!0)])])])}}};export{Bt as default};
//# sourceMappingURL=WorkflowBuilder-CMzQFdRE.js.map
