var Me=Object.defineProperty,Te=Object.defineProperties;var je=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var ye=(b,c,u)=>c in b?Me(b,c,{enumerable:!0,configurable:!0,writable:!0,value:u}):b[c]=u,xe=(b,c)=>{for(var u in c||(c={}))Be.call(c,u)&&ye(b,u,c[u]);if(be)for(var u of be(c))De.call(c,u)&&ye(b,u,c[u]);return b},_e=(b,c)=>Te(b,je(c));var C=(b,c,u)=>new Promise((m,k)=>{var p=v=>{try{t(u.next(v))}catch(M){k(M)}},f=v=>{try{t(u.throw(v))}catch(M){k(M)}},t=v=>v.done?m(v.value):Promise.resolve(v.value).then(p,f);t((u=u.apply(b,c)).next())});import{F as ze,f as g,c as W,I as z,U as Ve,a as l,o as r,b as e,i as U,w as $,e as y,H as _,O as h,n as x,t as i,aF as Le,D as N,L as A,aW as We,a_ as he,ag as Ne,aY as I}from"./vendor-D4UtxinR.js";import{j as R}from"./frappe-ui-BJqOB8bf.js";import{u as Ee}from"./onboarding-CmB3XiJu.js";import{u as Oe}from"./useToast-Bsz988aL.js";const Ue={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},$e={class:"bg-white shadow-sm"},Ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},He={class:"flex items-center justify-between"},Pe={class:"flex items-center gap-4"},Ye={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},qe={key:0,class:"mb-8 overflow-x-auto"},Je={class:"flex items-center min-w-max"},Ge={class:"flex items-center flex-shrink-0"},Ke={key:0},Qe={key:1},Xe={class:"ml-2 hidden sm:block"},Ze={class:"bg-white rounded-xl shadow-lg p-8"},es={key:0,class:"text-center py-12"},ss={key:1,class:"text-center py-12"},ts={class:"mb-6"},os={class:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center"},ls={class:"text-4xl"},rs={class:"text-gray-600 mb-6 max-w-md mx-auto"},as={key:2},is={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ns=["onClick"],ds={class:"flex items-center gap-3"},us={class:"text-3xl"},cs={class:"flex-1"},vs={class:"font-semibold text-gray-900"},ps={class:"text-sm text-gray-600"},gs={key:0,class:"text-blue-600"},ms={key:3},fs={class:"mb-4 flex items-center gap-2 text-sm text-gray-600"},bs={class:"text-2xl"},ys={class:"font-medium"},xs={key:0,class:"space-y-3"},_s={key:1,class:"space-y-3"},hs=["onClick"],ks={class:"flex items-start justify-between"},ws={class:"flex-1"},Cs={class:"font-semibold text-gray-900 mb-1"},As={class:"text-sm text-gray-600"},Fs={key:0,class:"mt-2 flex flex-wrap gap-2"},Ss={class:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full"},Rs={key:0,class:"text-blue-600 ml-3"},Ms={key:2,class:"text-center py-8 text-gray-500"},Ts={key:4},js={class:"mb-4 flex items-center gap-2 text-sm text-gray-600"},Bs={class:"text-2xl"},Ds={class:"font-medium"},zs={class:"text-2xl font-bold text-gray-900 mb-2"},Vs={class:"text-gray-600 mb-6"},Ls={key:0,class:"space-y-3"},Ws={key:1,class:"space-y-3"},Ns=["onClick"],Es={class:"flex items-center justify-between"},Os={class:"font-semibold text-gray-900"},Us={key:0,class:"text-blue-600"},$s={key:2,class:"text-center py-8 text-gray-500"},Is={key:5},Hs={class:"mb-4 flex items-center gap-2 text-sm text-gray-600"},Ps={class:"text-2xl"},Ys={class:"font-medium"},qs={class:"font-medium"},Js={class:"text-gray-600 mb-6"},Gs={class:"space-y-2"},Ks=["value"],Qs={class:"font-medium text-gray-900"},Xs={key:6},Zs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},et=["onClick"],st={class:"flex items-center gap-3"},tt={class:"text-3xl"},ot={class:"flex-1"},lt={class:"font-semibold text-gray-900"},rt={class:"text-sm text-gray-600"},at={key:0,class:"text-green-600"},it={key:7},nt={class:"mb-4 flex items-center gap-2 text-sm text-gray-600"},dt={class:"text-2xl"},ut={class:"font-medium"},ct={class:"text-2xl font-bold text-gray-900 mb-2"},vt={class:"text-gray-600 mb-6"},pt={class:"space-y-3"},gt=["onClick"],mt={class:"flex items-center justify-between"},ft={class:"font-semibold text-gray-900"},bt={key:0,class:"text-green-600"},yt={key:8},xt={class:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},_t={class:"flex items-center justify-between text-sm"},ht={class:"flex items-center gap-2"},kt={class:"text-2xl"},wt={class:"font-medium text-blue-900"},Ct={class:"text-xs text-blue-700"},At={class:"flex items-center gap-2"},Ft={class:"text-2xl"},St={class:"font-medium text-blue-900"},Rt={class:"space-y-3"},Mt={class:"grid grid-cols-2 gap-4 items-center"},Tt={class:"px-3 py-2 bg-white border border-gray-300 rounded-lg font-medium text-gray-900"},jt=["onUpdate:modelValue"],Bt=["value"],Dt={key:9},zt={class:"space-y-6"},Vt=["placeholder"],Lt={class:"space-y-3"},Wt={key:0,class:"p-4 bg-gray-50 rounded-lg"},Nt={key:10,class:"mt-8 flex justify-between"},Et={key:1},Ot=["disabled"],Ut=["disabled"],$t={key:0,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},It={key:1},Ht={key:2},Kt={__name:"WorkflowBuilder",setup(b){const c=ze(),u=Ee(),m=Oe(),k=g([{id:"source_app",title:"Source App"},{id:"source_template",title:"Integration Type"},{id:"source_resource",title:"Source Resource"},{id:"source_fields",title:"Source Fields"},{id:"destination_app",title:"Destination App"},{id:"destination_resource",title:"Destination Resource"},{id:"field_mapping",title:"Field Mapping"},{id:"sync",title:"Sync Settings"}]),p=g("source_app"),f=W(()=>k.value.findIndex(a=>a.id===p.value)),t=g({name:"",sourceApp:null,sourceTemplate:null,sourceResource:null,sourceFields:[],destinationApp:null,destinationResource:null,destinationFields:[],fieldMappings:[],trigger:"manual",schedule:"hourly"}),v=W(()=>u.connectedApps.map(a=>u.availableApps.find(s=>s.id===a)).filter(Boolean).map(a=>_e(xe({},a),{resourceType:M(a.id)})));function M(a){return{google_sheets:"Spreadsheet",gmail:"Mailbox",airtable:"Base",notion:"Database",salesforce:"Object",hubspot:"Object",xero:"Organization",slack:"Channel",mailchimp:"List",jira:"Project"}[a]||"Resource"}const ke=W(()=>v.value.filter(a=>{var s;return a.id!==((s=t.value.sourceApp)==null?void 0:s.id)})),F=g([]),E=g(!1);z(()=>t.value.sourceApp,a=>C(this,null,function*(){if(!a){F.value=[];return}E.value=!0;try{const s=yield R("lodgeick.api.resources.get_app_templates",{app_id:a.id});s.success&&s.templates?F.value=s.templates:(console.error("Failed to load templates:",s.error),m.error(s.error||"Failed to load templates"),F.value=[])}catch(s){console.error("Error loading templates:",s),m.error("Failed to load templates from "+a.name),F.value=[]}finally{E.value=!1}}),{immediate:!1});const S=g([]),O=g(!1);z(()=>t.value.sourceApp,a=>C(this,null,function*(){if(!a){S.value=[];return}O.value=!0;try{const s=yield R("lodgeick.api.resources.get_app_resources",{app_id:a.id});s.success&&s.resources?S.value=s.resources:(console.error("Failed to load resources:",s.error),m.error(s.error||"Failed to load resources"),S.value=[])}catch(s){console.error("Error loading resources:",s),m.error("Failed to load resources from "+a.name),S.value=[]}finally{O.value=!1}}),{immediate:!1});const T=g([]),H=g(!1);z(()=>t.value.destinationApp,a=>C(this,null,function*(){if(!a){T.value=[];return}H.value=!0;try{const s=yield R("lodgeick.api.resources.get_app_resources",{app_id:a.id});s.success&&s.resources?T.value=s.resources:(console.error("Failed to load resources:",s.error),m.error(s.error||"Failed to load resources"),T.value=[])}catch(s){console.error("Error loading resources:",s),m.error("Failed to load resources from "+a.name),T.value=[]}finally{H.value=!1}}),{immediate:!1});const j=g([]),B=g([]),P=g(!1),Y=g(!1);z(()=>t.value.sourceResource,a=>C(this,null,function*(){if(!a||!t.value.sourceApp){j.value=[];return}P.value=!0;try{const s=yield R("lodgeick.api.resources.get_resource_fields",{app_id:t.value.sourceApp.id,resource_id:a.id});s.success&&s.fields?j.value=s.fields.map(w=>w.name):(console.error("Failed to load fields:",s.error),j.value=[])}catch(s){console.error("Error loading fields:",s),j.value=[]}finally{P.value=!1}}),{immediate:!1}),z(()=>t.value.destinationResource,a=>C(this,null,function*(){if(!a||!t.value.destinationApp){B.value=[];return}Y.value=!0;try{const s=yield R("lodgeick.api.resources.get_resource_fields",{app_id:t.value.destinationApp.id,resource_id:a.id});s.success&&s.fields?B.value=s.fields.map(w=>w.name):(console.error("Failed to load fields:",s.error),B.value=[])}catch(s){console.error("Error loading fields:",s),B.value=[]}finally{Y.value=!1}}),{immediate:!1});function we(a){return a<f.value?"bg-blue-600 text-white":a===f.value?"bg-blue-100 text-blue-600 ring-2 ring-blue-600":"bg-gray-200 text-gray-600"}function Ce(a){t.value.sourceApp=a,t.value.sourceTemplate=null,t.value.sourceResource=null,t.value.sourceFields=[]}function Ae(a){t.value.destinationApp=a,t.value.destinationResource=null,t.value.destinationFields=[]}const V=W(()=>{switch(p.value){case"source_app":return t.value.sourceApp!==null;case"source_template":return t.value.sourceTemplate!==null;case"source_resource":return t.value.sourceResource!==null;case"source_fields":return t.value.sourceFields.length>0;case"destination_app":return t.value.destinationApp!==null;case"destination_resource":return t.value.destinationResource!==null;case"field_mapping":return t.value.fieldMappings.some(a=>a!=="");case"sync":return t.value.name&&t.value.trigger;default:return!1}});function Fe(){V.value&&f.value<k.value.length-1&&(p.value=k.value[f.value+1].id)}function Se(){f.value>0&&(p.value=k.value[f.value-1].id)}const D=g(!1);function Re(){return C(this,null,function*(){if(!V.value){m.error("Please complete all workflow steps");return}D.value=!0;try{const a={template:t.value.sourceTemplate,sourceResource:t.value.sourceResource,sourceFields:t.value.sourceFields,destinationResource:t.value.destinationResource,destinationFields:t.value.destinationFields,fieldMappings:t.value.fieldMappings,trigger:t.value.trigger,schedule:t.value.schedule};m.info("Creating workflow... This may take a moment.");const s=yield R("lodgeick.api.n8n.create_integration",{flow_name:t.value.name,source_app:t.value.sourceApp.id,target_app:t.value.destinationApp.id,config:JSON.stringify(a)});s.success?(m.success(`Workflow "${t.value.name}" created successfully! üéâ`),s.workflow_id&&console.log("n8n Workflow ID:",s.workflow_id),c.push({name:"Dashboard"})):m.error(s.error||"Failed to create workflow")}catch(a){console.error("Error creating workflow:",a),m.error("Failed to create workflow. Please try again.")}finally{D.value=!1}})}return(a,s)=>{var q,J,G,K,Q,X,Z,ee,se,te,oe,le,re,ae,ie,ne,de,ue,ce,ve,pe,ge,me,fe;const w=Ve("router-link");return r(),l("div",Ue,[e("header",$e,[e("div",Ie,[e("div",He,[e("div",Pe,[U(w,{to:"/dashboard",class:"text-gray-600 hover:text-gray-900"},{default:$(()=>[...s[6]||(s[6]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),s[7]||(s[7]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Create Workflow"),e("p",{class:"text-sm text-gray-600"},"Connect your data sources and define how they sync")],-1))])])])]),e("main",Ye,[v.value.length>=2?(r(),l("div",qe,[e("div",Je,[(r(!0),l(_,null,h(k.value,(o,n)=>(r(),l("div",{key:o.id,class:"flex items-center"},[e("div",Ge,[e("div",{class:x(["w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all",we(n)])},[n<f.value?(r(),l("span",Ke,"‚úì")):(r(),l("span",Qe,i(n+1),1))],2),e("div",Xe,[e("div",{class:x(["text-xs font-medium whitespace-nowrap",n<=f.value?"text-gray-900":"text-gray-500"])},i(o.title),3)])]),n<k.value.length-1?(r(),l("div",{key:0,class:x(["w-12 sm:w-16 h-0.5 mx-2",n<f.value?"bg-blue-600":"bg-gray-300"])},null,2)):y("",!0)]))),128))])])):y("",!0),e("div",Ze,[v.value.length===0?(r(),l("div",es,[s[9]||(s[9]=Le('<div class="mb-6"><div class="w-24 h-24 mx-auto bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div></div><h3 class="text-xl font-bold text-gray-900 mb-2"> No Apps Connected Yet </h3><p class="text-gray-600 mb-6 max-w-md mx-auto"> You need to connect at least 2 apps before you can create a workflow. Apps allow you to sync data between different platforms. </p>',3)),U(w,{to:"/connect",class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all no-underline"},{default:$(()=>[...s[8]||(s[8]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),N(" Connect Your First App ",-1)])]),_:1})])):v.value.length===1?(r(),l("div",ss,[e("div",ts,[e("div",os,[e("div",ls,i(v.value[0].icon),1)])]),s[13]||(s[13]=e("h3",{class:"text-xl font-bold text-gray-900 mb-2"}," Connect One More App ",-1)),e("p",rs,[s[10]||(s[10]=N(" You have ",-1)),e("strong",null,i(v.value[0].name),1),s[11]||(s[11]=N(" connected. Connect at least one more app to create data sync workflows. ",-1))]),U(w,{to:"/connect",class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all no-underline"},{default:$(()=>[...s[12]||(s[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),N(" Connect Another App ",-1)])]),_:1})])):p.value==="source_app"?(r(),l("div",as,[s[15]||(s[15]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Source App",-1)),s[16]||(s[16]=e("p",{class:"text-gray-600 mb-6"},"Choose which app you want to pull data from",-1)),e("div",is,[(r(!0),l(_,null,h(v.value,o=>{var n,d;return r(),l("div",{key:o.id,onClick:L=>Ce(o),class:x(["border-2 rounded-lg p-4 cursor-pointer transition-all",((n=t.value.sourceApp)==null?void 0:n.id)===o.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[e("div",ds,[e("div",us,i(o.icon),1),e("div",cs,[e("div",vs,i(o.name),1),e("div",ps,i(o.description),1)]),((d=t.value.sourceApp)==null?void 0:d.id)===o.id?(r(),l("div",gs,[...s[14]||(s[14]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):y("",!0)])],10,ns)}),128))])])):p.value==="source_template"?(r(),l("div",ms,[e("div",fs,[e("div",bs,i((q=t.value.sourceApp)==null?void 0:q.icon),1),e("span",ys,i((J=t.value.sourceApp)==null?void 0:J.name),1)]),s[19]||(s[19]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Choose Integration Type",-1)),s[20]||(s[20]=e("p",{class:"text-gray-600 mb-6"},"Select a pre-built template or create a custom integration",-1)),E.value?(r(),l("div",xs,[(r(),l(_,null,h(2,o=>e("div",{key:o,class:"border-2 border-gray-200 rounded-lg p-4 animate-pulse"},[...s[17]||(s[17]=[e("div",{class:"h-6 bg-gray-200 rounded w-3/4 mb-2"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-full"},null,-1)])])),64))])):F.value.length>0?(r(),l("div",_s,[(r(!0),l(_,null,h(F.value,o=>{var n,d;return r(),l("div",{key:o.id,onClick:L=>t.value.sourceTemplate=o,class:x(["border-2 rounded-lg p-4 cursor-pointer transition-all",((n=t.value.sourceTemplate)==null?void 0:n.id)===o.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[e("div",ks,[e("div",ws,[e("div",Cs,i(o.name),1),e("div",As,i(o.description),1),o.triggers&&o.triggers.length?(r(),l("div",Fs,[e("span",Ss,i(o.triggers.join(", ")),1)])):y("",!0)]),((d=t.value.sourceTemplate)==null?void 0:d.id)===o.id?(r(),l("div",Rs,[...s[18]||(s[18]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):y("",!0)])],10,hs)}),128))])):(r(),l("div",Ms," No templates found for "+i((G=t.value.sourceApp)==null?void 0:G.name),1))])):p.value==="source_resource"?(r(),l("div",Ts,[e("div",js,[e("div",Bs,i((K=t.value.sourceApp)==null?void 0:K.icon),1),e("span",Ds,i((Q=t.value.sourceApp)==null?void 0:Q.name),1)]),e("h2",zs,"Select Source "+i(((X=t.value.sourceApp)==null?void 0:X.resourceType)||"Resource"),1),e("p",Vs,"Choose the specific "+i(((ee=(Z=t.value.sourceApp)==null?void 0:Z.resourceType)==null?void 0:ee.toLowerCase())||"resource")+" to pull data from",1),O.value?(r(),l("div",Ls,[(r(),l(_,null,h(3,o=>e("div",{key:o,class:"border-2 border-gray-200 rounded-lg p-4 animate-pulse"},[...s[21]||(s[21]=[e("div",{class:"h-6 bg-gray-200 rounded w-3/4"},null,-1)])])),64))])):S.value.length>0?(r(),l("div",Ws,[(r(!0),l(_,null,h(S.value,o=>{var n,d;return r(),l("div",{key:o.id,onClick:L=>t.value.sourceResource=o,class:x(["border-2 rounded-lg p-4 cursor-pointer transition-all",((n=t.value.sourceResource)==null?void 0:n.id)===o.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[e("div",Es,[e("div",Os,i(o.name),1),((d=t.value.sourceResource)==null?void 0:d.id)===o.id?(r(),l("div",Us,[...s[22]||(s[22]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):y("",!0)])],10,Ns)}),128))])):(r(),l("div",$s," No resources found for "+i((se=t.value.sourceApp)==null?void 0:se.name),1))])):p.value==="source_fields"?(r(),l("div",Is,[e("div",Hs,[e("div",Ps,i((te=t.value.sourceApp)==null?void 0:te.icon),1),e("span",Ys,i((oe=t.value.sourceApp)==null?void 0:oe.name),1),s[23]||(s[23]=e("span",null,"‚Üí",-1)),e("span",qs,i((le=t.value.sourceResource)==null?void 0:le.name),1)]),s[24]||(s[24]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Source Fields",-1)),e("p",Js,"Choose which fields to include from "+i((re=t.value.sourceResource)==null?void 0:re.name),1),e("div",Gs,[(r(!0),l(_,null,h(j.value,o=>(r(),l("label",{key:o,class:x(["flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all",t.value.sourceFields.includes(o)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[A(e("input",{type:"checkbox",value:o,"onUpdate:modelValue":s[0]||(s[0]=n=>t.value.sourceFields=n),class:"mr-3 w-4 h-4"},null,8,Ks),[[We,t.value.sourceFields]]),e("span",Qs,i(o),1)],2))),128))])])):p.value==="destination_app"?(r(),l("div",Xs,[s[26]||(s[26]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Destination App",-1)),s[27]||(s[27]=e("p",{class:"text-gray-600 mb-6"},"Choose where you want to send the data",-1)),e("div",Zs,[(r(!0),l(_,null,h(ke.value,o=>{var n,d;return r(),l("div",{key:o.id,onClick:L=>Ae(o),class:x(["border-2 rounded-lg p-4 cursor-pointer transition-all",((n=t.value.destinationApp)==null?void 0:n.id)===o.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"])},[e("div",st,[e("div",tt,i(o.icon),1),e("div",ot,[e("div",lt,i(o.name),1),e("div",rt,i(o.description),1)]),((d=t.value.destinationApp)==null?void 0:d.id)===o.id?(r(),l("div",at,[...s[25]||(s[25]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):y("",!0)])],10,et)}),128))])])):p.value==="destination_resource"?(r(),l("div",it,[e("div",nt,[e("div",dt,i((ae=t.value.destinationApp)==null?void 0:ae.icon),1),e("span",ut,i((ie=t.value.destinationApp)==null?void 0:ie.name),1)]),e("h2",ct,"Select Destination "+i(((ne=t.value.destinationApp)==null?void 0:ne.resourceType)||"Resource"),1),e("p",vt,"Choose the specific "+i(((ue=(de=t.value.destinationApp)==null?void 0:de.resourceType)==null?void 0:ue.toLowerCase())||"resource")+" to send data to",1),e("div",pt,[(r(!0),l(_,null,h(T.value,o=>{var n,d;return r(),l("div",{key:o.id,onClick:L=>t.value.destinationResource=o,class:x(["border-2 rounded-lg p-4 cursor-pointer transition-all",((n=t.value.destinationResource)==null?void 0:n.id)===o.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"])},[e("div",mt,[e("div",ft,i(o.name),1),((d=t.value.destinationResource)==null?void 0:d.id)===o.id?(r(),l("div",bt,[...s[28]||(s[28]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):y("",!0)])],10,gt)}),128))])])):p.value==="field_mapping"?(r(),l("div",yt,[e("div",xt,[e("div",_t,[e("div",ht,[e("div",kt,i((ce=t.value.sourceApp)==null?void 0:ce.icon),1),e("div",null,[e("div",wt,i((ve=t.value.sourceResource)==null?void 0:ve.name),1),e("div",Ct,i(t.value.sourceFields.length)+" fields selected",1)])]),s[29]||(s[29]=e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)),e("div",At,[e("div",Ft,i((pe=t.value.destinationApp)==null?void 0:pe.icon),1),e("div",null,[e("div",St,i((ge=t.value.destinationResource)==null?void 0:ge.name),1)])])])]),s[33]||(s[33]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Map Fields",-1)),s[34]||(s[34]=e("p",{class:"text-gray-600 mb-6"},"Connect source fields to destination fields",-1)),e("div",Rt,[(r(!0),l(_,null,h(t.value.sourceFields,(o,n)=>(r(),l("div",{key:n,class:"p-4 bg-gray-50 rounded-lg"},[e("div",Mt,[e("div",null,[s[30]||(s[30]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"From Source",-1)),e("div",Tt,i(o),1)]),e("div",null,[s[32]||(s[32]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"To Destination",-1)),A(e("select",{"onUpdate:modelValue":d=>t.value.fieldMappings[n]=d,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"},[s[31]||(s[31]=e("option",{value:""},"-- Select destination field --",-1)),(r(!0),l(_,null,h(B.value,d=>(r(),l("option",{key:d,value:d},i(d),9,Bt))),128))],8,jt),[[he,t.value.fieldMappings[n]]])])])]))),128))])])):p.value==="sync"?(r(),l("div",Dt,[s[43]||(s[43]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Configure Sync",-1)),s[44]||(s[44]=e("p",{class:"text-gray-600 mb-6"},"Set up when and how often data should sync",-1)),e("div",zt,[e("div",null,[s[35]||(s[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Workflow Name ",-1)),A(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.value.name=o),type:"text",placeholder:`Sync ${(me=t.value.sourceResource)==null?void 0:me.name} to ${(fe=t.value.destinationResource)==null?void 0:fe.name}`,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,8,Vt),[[Ne,t.value.name]])]),e("div",null,[s[40]||(s[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," When should this sync run? ",-1)),e("div",Lt,[e("label",{class:x(["flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all",t.value.trigger==="manual"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[A(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.value.trigger=o),type:"radio",value:"manual",class:"mr-3"},null,512),[[I,t.value.trigger]]),s[36]||(s[36]=e("div",null,[e("div",{class:"font-medium text-gray-900"},"Manual"),e("div",{class:"text-sm text-gray-600"},"Run this workflow manually whenever you want")],-1))],2),e("label",{class:x(["flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all",t.value.trigger==="schedule"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[A(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>t.value.trigger=o),type:"radio",value:"schedule",class:"mr-3"},null,512),[[I,t.value.trigger]]),s[37]||(s[37]=e("div",null,[e("div",{class:"font-medium text-gray-900"},"Schedule"),e("div",{class:"text-sm text-gray-600"},"Run automatically on a schedule")],-1))],2),e("label",{class:x(["flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all",t.value.trigger==="realtime"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[A(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>t.value.trigger=o),type:"radio",value:"realtime",class:"mr-3"},null,512),[[I,t.value.trigger]]),s[38]||(s[38]=e("div",{class:"flex-1"},[e("div",{class:"font-medium text-gray-900"},"Real-time (Webhook)"),e("div",{class:"text-sm text-gray-600"},"Sync immediately when data changes")],-1)),s[39]||(s[39]=e("span",{class:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full"},"Pro",-1))],2)])]),t.value.trigger==="schedule"?(r(),l("div",Wt,[s[42]||(s[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Sync Frequency ",-1)),A(e("select",{"onUpdate:modelValue":s[5]||(s[5]=o=>t.value.schedule=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[...s[41]||(s[41]=[e("option",{value:"15min"},"Every 15 minutes",-1),e("option",{value:"hourly"},"Every hour",-1),e("option",{value:"daily"},"Once a day",-1),e("option",{value:"weekly"},"Once a week",-1)])],512),[[he,t.value.schedule]])])):y("",!0)])])):y("",!0),v.value.length>=2?(r(),l("div",Nt,[f.value>0?(r(),l("button",{key:0,onClick:Se,class:"px-6 py-2 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-all"}," ‚Üê Back ")):(r(),l("div",Et)),f.value<k.value.length-1?(r(),l("button",{key:2,onClick:Fe,disabled:!V.value,class:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all"}," Continue ‚Üí ",8,Ot)):(r(),l("button",{key:3,onClick:Re,disabled:!V.value||D.value,class:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all flex items-center gap-2"},[D.value?(r(),l("svg",$t,[...s[45]||(s[45]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):y("",!0),D.value?(r(),l("span",It,"Creating...")):(r(),l("span",Ht,"‚úì Create Workflow"))],8,Ut))])):y("",!0)])])])}}};export{Kt as default};
//# sourceMappingURL=WorkflowBuilder-D1qPooyP.js.map
