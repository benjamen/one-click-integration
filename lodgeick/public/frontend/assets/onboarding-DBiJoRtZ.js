var d=(o,r,i)=>new Promise((l,t)=>{var f=c=>{try{a(i.next(c))}catch(v){t(v)}},p=c=>{try{a(i.throw(c))}catch(v){t(v)}},a=c=>c.done?l(c.value):Promise.resolve(c.value).then(f,p);a((i=i.apply(o,r)).next())});import{b0 as O,f as u,c as g}from"./vendor-BOTW4f6D.js";import{j as P}from"./frappe-ui-COa4gyPY.js";const K=O("onboarding",()=>{const o=u(1),r=u(2),i=u(!1),l=u([]),t=u([]),f=u({}),p=u(!1),a=u([]),c=g(()=>o.value/r.value*100),v=g(()=>{switch(o.value){case 1:return l.value.length>0;case 2:return!0;default:return!1}}),m=g(()=>l.value.length>0);function b(){return d(this,null,function*(){if(!(a.value.length>0)){p.value=!0;try{const e=yield P("lodgeick.api.catalog.get_app_catalog");e.success&&e.apps&&(a.value=e.apps.map(n=>({id:n.app_name,name:n.display_name||n.app_name,description:n.description,icon:h(n.app_name),color:_(n.category),logo_url:n.logo_url,category:n.category,oauth_provider:n.oauth_provider,isConnected:!1,use_cases:n.use_cases||[]})))}catch(e){console.error("Failed to load apps:",e)}finally{p.value=!1}}})}function h(e){return{jira:"ğŸ¯",slack:"ğŸ’¬",hubspot:"ğŸ¨",google_sheets:"ğŸ“Š",salesforce:"â˜ï¸",mailchimp:"âœ‰ï¸",xero:"ğŸ’¼"}[e]||"ğŸ”Œ"}function _(e){return{CRM:"bg-orange-500",Communication:"bg-purple-500",Productivity:"bg-green-500",Finance:"bg-blue-600",Marketing:"bg-yellow-500","Project Management":"bg-blue-500"}[e]||"bg-gray-500"}function y(e){o.value=e}function C(){o.value<r.value&&o.value++}function A(){o.value>1&&o.value--}function S(e){const n=a.value.find(s=>s.id===e);n&&!n.isConnected&&(n.isConnected=!0,l.value.push(e))}function M(e){const n=a.value.find(s=>s.id===e);n&&(n.isConnected=!1,l.value=l.value.filter(s=>s!==e),t.value=t.value.filter(s=>!s.includes(e)))}function j(e,n){const s=`${e}-${n}`;t.value.includes(s)||t.value.push(s)}function k(e){t.value=t.value.filter(n=>n!==e)}function w(e,n){f.value[e]=n}function x(){i.value=!0,o.value=1}function F(){o.value=1,i.value=!1,l.value=[],t.value=[],f.value={},a.value.forEach(e=>{e.isConnected=!1})}return{currentStep:o,totalSteps:r,isCompleted:i,connectedApps:l,selectedIntegrations:t,fieldMappings:f,availableApps:a,isLoadingApps:p,progress:c,canContinue:v,hasConnectedApps:m,loadApps:b,setStep:y,nextStep:C,previousStep:A,connectApp:S,disconnectApp:M,addIntegration:j,removeIntegration:k,saveFieldMapping:w,completeOnboarding:x,resetOnboarding:F}});export{K as u};
//# sourceMappingURL=onboarding-DBiJoRtZ.js.map
