{"version":3,"file":"IntegrationsView--j5t2B8j.js","sources":["../../../../frontend/src/components/IntegrationItem.vue","../../../../frontend/src/pages/account/IntegrationsView.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow\">\r\n    <!-- Left: Icon + Info -->\r\n    <div class=\"flex items-center space-x-4 flex-1 min-w-0\">\r\n      <!-- App Icon -->\r\n      <div class=\"flex-shrink-0 w-12 h-12 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-md\">\r\n        {{ appInitial }}\r\n      </div>\r\n\r\n      <!-- App Info -->\r\n      <div class=\"flex-1 min-w-0\">\r\n        <h4 class=\"text-sm font-semibold text-gray-900 truncate\">{{ integration.app_name }}</h4>\r\n        <p class=\"text-xs text-gray-500 truncate\">{{ integration.description || 'No description' }}</p>\r\n        <div class=\"flex items-center mt-1 space-x-2\">\r\n          <span\r\n            class=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium\"\r\n            :class=\"statusClass\"\r\n          >\r\n            <svg class=\"w-2 h-2 mr-1\" fill=\"currentColor\" viewBox=\"0 0 8 8\">\r\n              <circle cx=\"4\" cy=\"4\" r=\"3\" />\r\n            </svg>\r\n            {{ statusText }}\r\n          </span>\r\n          <span v-if=\"integration.connected_at\" class=\"text-xs text-gray-400\">\r\n            Connected {{ formatDate(integration.connected_at) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Right: Actions -->\r\n    <div class=\"flex items-center space-x-2 ml-4\">\r\n      <button\r\n        v-if=\"integration.status === 'active'\"\r\n        @click=\"$emit('configure', integration)\"\r\n        class=\"px-3 py-1.5 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\r\n      >\r\n        Configure\r\n      </button>\r\n      <button\r\n        @click=\"$emit('disconnect', integration)\"\r\n        class=\"px-3 py-1.5 text-xs font-medium text-red-700 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\"\r\n      >\r\n        Disconnect\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\n\r\nconst props = defineProps({\r\n  integration: {\r\n    type: Object,\r\n    required: true\r\n  }\r\n})\r\n\r\ndefineEmits(['disconnect', 'configure'])\r\n\r\nconst appInitial = computed(() => {\r\n  return (props.integration.app_name || 'A')[0].toUpperCase()\r\n})\r\n\r\nconst statusClass = computed(() => {\r\n  const classes = {\r\n    active: 'bg-green-100 text-green-800',\r\n    inactive: 'bg-gray-100 text-gray-800',\r\n    error: 'bg-red-100 text-red-800'\r\n  }\r\n  return classes[props.integration.status] || classes.inactive\r\n})\r\n\r\nconst statusText = computed(() => {\r\n  const texts = {\r\n    active: 'Connected',\r\n    inactive: 'Inactive',\r\n    error: 'Error'\r\n  }\r\n  return texts[props.integration.status] || 'Unknown'\r\n})\r\n\r\nconst formatDate = (date) => {\r\n  if (!date) return ''\r\n  const d = new Date(date)\r\n  const now = new Date()\r\n  const diffDays = Math.floor((now - d) / (1000 * 60 * 60 * 24))\r\n\r\n  if (diffDays === 0) return 'today'\r\n  if (diffDays === 1) return 'yesterday'\r\n  if (diffDays < 7) return `${diffDays} days ago`\r\n  if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`\r\n  if (diffDays < 365) return `${Math.floor(diffDays / 30)} months ago`\r\n  return d.toLocaleDateString()\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"space-y-6\">\r\n    <div class=\"flex items-center justify-between\">\r\n      <div>\r\n        <h1 class=\"text-2xl font-bold text-gray-900\">Integrations</h1>\r\n        <p class=\"mt-1 text-sm text-gray-500\">Manage your connected apps and services</p>\r\n      </div>\r\n      <button\r\n        @click=\"$router.push('/')\"\r\n        class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\r\n      >\r\n        Add Integration\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Connected Integrations -->\r\n    <AccountCard title=\"Connected Apps\" :description=\"`You have ${integrations.length} active integrations`\">\r\n      <div v-if=\"integrations.length === 0\" class=\"text-center py-12\">\r\n        <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n        </svg>\r\n        <h3 class=\"mt-2 text-sm font-medium text-gray-900\">No integrations</h3>\r\n        <p class=\"mt-1 text-sm text-gray-500\">Get started by connecting your first app.</p>\r\n        <div class=\"mt-6\">\r\n          <button\r\n            @click=\"$router.push('/')\"\r\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\r\n          >\r\n            Browse Apps\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-else class=\"space-y-3\">\r\n        <IntegrationItem\r\n          v-for=\"integration in integrations\"\r\n          :key=\"integration.id\"\r\n          :integration=\"integration\"\r\n          @disconnect=\"handleDisconnect\"\r\n          @configure=\"handleConfigure\"\r\n        />\r\n      </div>\r\n    </AccountCard>\r\n\r\n    <!-- Disconnect Confirmation Modal -->\r\n    <ConfirmModal\r\n      v-model=\"showDisconnectModal\"\r\n      title=\"Disconnect Integration\"\r\n      :description=\"`Are you sure you want to disconnect ${selectedIntegration?.app_name}?`\"\r\n      message=\"This will stop all workflows using this integration. You can reconnect at any time.\"\r\n      variant=\"danger\"\r\n      confirmText=\"Disconnect\"\r\n      :loading=\"disconnecting\"\r\n      @confirm=\"confirmDisconnect\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport AccountCard from '@/components/AccountCard.vue'\r\nimport IntegrationItem from '@/components/IntegrationItem.vue'\r\nimport ConfirmModal from '@/components/ConfirmModal.vue'\r\n\r\nconst router = useRouter()\r\n\r\nconst integrations = ref([\r\n  {\r\n    id: 1,\r\n    app_name: 'Google Sheets',\r\n    description: 'Spreadsheet and data management',\r\n    status: 'active',\r\n    connected_at: '2025-01-15'\r\n  },\r\n  {\r\n    id: 2,\r\n    app_name: 'Slack',\r\n    description: 'Team communication platform',\r\n    status: 'active',\r\n    connected_at: '2025-02-01'\r\n  },\r\n  {\r\n    id: 3,\r\n    app_name: 'Xero',\r\n    description: 'Accounting software',\r\n    status: 'active',\r\n    connected_at: '2025-02-20'\r\n  }\r\n])\r\n\r\nconst showDisconnectModal = ref(false)\r\nconst selectedIntegration = ref(null)\r\nconst disconnecting = ref(false)\r\n\r\nconst handleDisconnect = (integration) => {\r\n  selectedIntegration.value = integration\r\n  showDisconnectModal.value = true\r\n}\r\n\r\nconst handleConfigure = (integration) => {\r\n  console.log('Configure integration:', integration)\r\n  // Navigate to the integrate page where users can manage app connections\r\n  router.push({ name: 'Integrate' })\r\n}\r\n\r\nconst confirmDisconnect = async () => {\r\n  disconnecting.value = true\r\n  try {\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n    integrations.value = integrations.value.filter(i => i.id !== selectedIntegration.value.id)\r\n    showDisconnectModal.value = false\r\n    selectedIntegration.value = null\r\n  } catch (error) {\r\n    console.error('Error disconnecting:', error)\r\n    alert('Failed to disconnect integration')\r\n  } finally {\r\n    disconnecting.value = false\r\n  }\r\n}\r\n</script>\r\n"],"names":["props","__props","appInitial","computed","statusClass","classes","statusText","formatDate","date","d","diffDays","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_normalizeClass","_createTextVNode","_hoisted_8","_hoisted_9","_cache","$event","$emit","router","useRouter","integrations","ref","showDisconnectModal","selectedIntegration","disconnecting","handleDisconnect","integration","handleConfigure","confirmDisconnect","__async","resolve","i","error","$router","_createVNode","AccountCard","_Fragment","_renderList","_createBlock","IntegrationItem","ConfirmModal","_a"],"mappings":"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"}