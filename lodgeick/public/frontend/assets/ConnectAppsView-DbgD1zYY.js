var C=(o,c,t)=>new Promise((u,p)=>{var x=l=>{try{a(t.next(l))}catch(i){p(i)}},f=l=>{try{a(t.throw(l))}catch(i){p(i)}},a=l=>l.done?u(l.value):Promise.resolve(l.value).then(x,f);a((t=t.apply(o,c)).next())});import{c as r,d as s,z as v,e,an as y,A as w,ao as g,aG as S,o as j,as as M,a8 as m,a4 as h,a2 as d,F as _,aF as A,a3 as z}from"./vendor-C-giSDFQ.js";import{s as L}from"./index-COBTOwL-.js";import{u as $}from"./onboarding-BZ6Xluvx.js";import{_ as V,a as B}from"./SecondaryButton-CVGAwmtq.js";import{_ as D}from"./PrimaryButton-BY7eE6Q-.js";import"./vendor-libs-DnVO2VCf.js";import"./frappe-ui-BGcfCLpI.js";const N={key:0,class:"absolute top-3 right-3 flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full"},F={class:"p-6"},I={class:"text-xl font-semibold text-gray-900 mb-2"},O={class:"text-sm text-gray-600 mb-4 h-10"},H={__name:"IntegrationCard",props:{app:{type:Object,required:!0},isConnected:{type:Boolean,default:!1}},emits:["connect","disconnect"],setup(o,{emit:c}){const t=o,u=c,p=()=>{u("connect",t.app.id)},x=()=>{u("disconnect",t.app.id)};return(f,a)=>(s(),r("div",{class:w(["relative bg-white rounded-xl border-2 transition-all duration-300 hover:shadow-lg",[o.isConnected?"border-green-500 bg-green-50":"border-gray-200 hover:border-blue-300"]])},[o.isConnected?(s(),r("div",N,[...a[0]||(a[0]=[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),y(" Connected ",-1)])])):v("",!0),e("div",F,[e("div",{class:w(["inline-flex items-center justify-center w-16 h-16 mb-4 text-3xl rounded-xl",o.app.color])},g(o.app.icon),3),e("h3",I,g(o.app.name),1),e("p",O,g(o.app.description),1),o.isConnected?(s(),r("button",{key:1,class:"w-full px-4 py-2 text-sm font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",onClick:x}," Disconnect ")):(s(),r("button",{key:0,class:"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",onClick:p}," Connect "+g(o.app.name),1))])],2))}},R={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},T={class:"p-6"},Y={class:"flex items-center justify-between"},q={class:"flex items-center gap-4"},E={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-12"},G={key:0,class:"mb-8"},J={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},K={class:"flex items-center gap-3"},P={class:"text-blue-800 font-medium"},Q={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12"},U={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12"},W={class:"flex justify-between items-center max-w-2xl mx-auto"},X={class:"flex gap-3"},Z={key:3,class:"text-center mt-8"},ie={__name:"ConnectAppsView",setup(o){const c=S(),t=$(),u=()=>{L.logout.submit()};j(()=>C(this,null,function*(){yield t.loadApps()}));const p=i=>{t.connectApp(i)},x=i=>{t.disconnectApp(i)},f=()=>{t.canContinue&&(t.nextStep(),c.push({name:"Integrate"}))},a=()=>{t.nextStep(),c.push({name:"Integrate"})},l=()=>{t.previousStep(),c.push({name:"Auth"})};return(i,n)=>{const k=M("router-link");return s(),r("div",R,[e("div",T,[e("div",Y,[m(k,{to:"/",class:"inline-flex items-center gap-3 group no-underline"},{default:h(()=>[...n[0]||(n[0]=[e("div",{class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},[e("span",{class:"text-white font-bold text-xl"},"L")],-1),e("span",{class:"text-2xl font-bold text-gray-900"},"Lodgeick",-1)])]),_:1}),e("div",q,[m(k,{to:"/account/profile",class:"text-gray-700 hover:text-blue-600 font-medium transition-colors no-underline flex items-center gap-2"},{default:h(()=>[...n[1]||(n[1]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),y(" My Account ",-1)])]),_:1}),e("button",{onClick:u,class:"text-gray-700 hover:text-red-600 font-medium transition-colors flex items-center gap-2"},[...n[2]||(n[2]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),y(" Log Out ",-1)])])])])]),e("div",E,[m(V,{"current-step":d(t).currentStep,"total-steps":4},null,8,["current-step"]),n[8]||(n[8]=e("div",{class:"text-center mb-12"},[e("h1",{class:"text-4xl font-bold text-gray-900 mb-4"}," Connect Your Apps "),e("p",{class:"text-xl text-gray-600 max-w-2xl mx-auto"}," Select the applications you want to integrate. You can connect more apps later. ")],-1)),d(t).hasConnectedApps?(s(),r("div",G,[e("div",J,[e("div",K,[n[3]||(n[3]=e("svg",{class:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),e("span",P,g(d(t).connectedApps.length)+" "+g(d(t).connectedApps.length===1?"app":"apps")+" connected ",1)])])])):v("",!0),d(t).isLoadingApps?(s(),r("div",Q,[(s(),r(_,null,A(6,b=>e("div",{key:b,class:"bg-white rounded-xl border-2 border-gray-200 p-6 animate-pulse"},[...n[4]||(n[4]=[e("div",{class:"w-16 h-16 bg-gray-200 rounded-xl mb-4"},null,-1),e("div",{class:"h-6 bg-gray-200 rounded mb-2"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded mb-4"},null,-1),e("div",{class:"h-10 bg-gray-200 rounded"},null,-1)])])),64))])):(s(),r("div",U,[(s(!0),r(_,null,A(d(t).availableApps,b=>(s(),z(H,{key:b.id,app:b,"is-connected":b.isConnected,onConnect:p,onDisconnect:x},null,8,["app","is-connected"]))),128))])),e("div",W,[m(B,{label:"Back",onClick:l},{icon:h(()=>[...n[5]||(n[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),e("div",X,[m(B,{label:"Skip",onClick:a}),m(D,{disabled:!d(t).canContinue,label:"Continue",onClick:f},{iconRight:h(()=>[...n[6]||(n[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["disabled"])])]),d(t).hasConnectedApps?v("",!0):(s(),r("div",Z,[...n[7]||(n[7]=[e("p",{class:"text-sm text-gray-500"}," ðŸ’¡ Tip: Connect at least one app to continue to the next step ",-1)])]))])])}}};export{ie as default};
//# sourceMappingURL=ConnectAppsView-DbgD1zYY.js.map
