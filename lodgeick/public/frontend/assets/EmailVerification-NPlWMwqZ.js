import{_ as y,H as x,k as l,D as C,I as V,r as E,c as i,o as d,a as e,b as B,j as u,t as v,d as p,e as m,w as _}from"./index-OKkdyOXK.js";const I={class:"auth-page"},j={class:"container"},M={class:"row justify-content-center"},N={class:"col-lg-5 col-md-7"},R={class:"card shadow-lg border-0 mt-5"},S={class:"card-body p-4 text-center"},z={class:"mb-4"},H={class:"font-weight-bold text-dark mb-3"},D={class:"d-grid gap-2"},T=["disabled"],L={key:0,class:"spinner-border spinner-border-sm me-2"},q={key:0,class:"alert alert-success mt-3"},F={key:1,class:"alert alert-danger mt-3"},P={__name:"EmailVerification",setup(U){const k=x(),f=l(k.query.email||"your email"),a=l(!1),r=l(!1),o=l(""),s=l(0);let n=null;const h=C({url:"frappe.core.doctype.user.user.sign_up",makeParams(){return{email:f.value,resend:1}},onSuccess(){a.value=!1,r.value=!0,o.value="",s.value=60,w(),setTimeout(()=>{r.value=!1},5e3)},onError(c){a.value=!1,o.value=c.messages?c.messages.join(", "):"Failed to resend email",setTimeout(()=>{o.value=""},5e3)}});function g(){s.value>0||(a.value=!0,r.value=!1,o.value="",h.submit())}function w(){n&&clearInterval(n),n=setInterval(()=>{s.value--,s.value<=0&&clearInterval(n)},1e3)}return V(()=>{n&&clearInterval(n)}),(c,t)=>{const b=E("router-link");return d(),i("div",I,[e("div",j,[e("div",M,[e("div",N,[e("div",R,[t[5]||(t[5]=B('<div class="card-header bg-gradient-primary p-4 text-center" data-v-0bd3b2f8><div class="mb-3" data-v-0bd3b2f8><svg class="verification-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0bd3b2f8><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-0bd3b2f8></path></svg></div><h3 class="text-white font-weight-bold mb-0" data-v-0bd3b2f8>Check Your Email</h3></div>',1)),e("div",S,[e("div",z,[t[0]||(t[0]=e("p",{class:"text-muted mb-3"}," We've sent a verification link to: ",-1)),e("p",H,v(f.value),1),t[1]||(t[1]=e("p",{class:"text-muted small"}," Click the link in the email to verify your account and complete your registration. ",-1))]),t[4]||(t[4]=e("div",{class:"alert alert-info mb-4"},[e("svg",{class:"info-icon",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),e("small",null,"Didn't receive the email? Check your spam folder or wait a few minutes.")],-1)),e("div",D,[e("button",{onClick:g,class:"btn btn-outline-primary",disabled:a.value||s.value>0},[a.value?(d(),i("span",L)):u("",!0),m(" "+v(a.value?"Sending...":s.value>0?`Resend in ${s.value}s`:"Resend Email"),1)],8,T),p(b,{to:"/account/login",class:"btn btn-primary no-underline"},{default:_(()=>[...t[2]||(t[2]=[m(" Continue to Login ",-1)])]),_:1}),p(b,{to:"/",class:"btn btn-link text-muted no-underline"},{default:_(()=>[...t[3]||(t[3]=[e("svg",{class:"back-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Back to Home ",-1)])]),_:1})]),r.value?(d(),i("div",q," âœ“ Verification email sent successfully! ")):u("",!0),o.value?(d(),i("div",F,v(o.value),1)):u("",!0)])])])])])])}}},Y=y(P,[["__scopeId","data-v-0bd3b2f8"]]);export{Y as default};
//# sourceMappingURL=EmailVerification-NPlWMwqZ.js.map
