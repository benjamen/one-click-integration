{"version":3,"mappings":"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","names":["_createElementBlock","_createVNode","_component_router_view","userResource","createResource","error","router","sessionUser","_sessionUser","session","reactive","email","password","data","computed","routes","__vitePreload","createRouter","createWebHistory","to","from","next","__async","publicRoutes","isLoggedIn","record","socket","initSocket","globalComponents","Button","Card","TextInput","Input","FormControl","ErrorMessage","Dialog","Alert","Badge","app","createApp","App","pinia","createPinia","setConfig","frappeRequest","resourcesPlugin","pageMetaPlugin","Toast","key"],"ignoreList":[],"sources":["../../../../frontend/src/App.vue","../../../../frontend/src/data/user.js","../../../../frontend/src/data/session.js","../../../../frontend/src/router.js","../../../../frontend/src/socket.js","../../../../frontend/src/main.js"],"sourcesContent":["<template>\n  <div>\n    <router-view />\n  </div>\n</template>\n","import router from \"@/router\"\nimport { createResource } from \"frappe-ui\"\n\nexport const userResource = createResource({\n\turl: \"frappe.auth.get_logged_user\",\n\tcache: \"User\",\n\tonError(error) {\n\t\tif (error && error.exc_type === \"AuthenticationError\") {\n\t\t\trouter.push({ name: \"LoginPage\" })\n\t\t}\n\t},\n})\n","import router from \"@/router\"\nimport { createResource } from \"frappe-ui\"\nimport { computed, reactive } from \"vue\"\n\nimport { userResource } from \"./user\"\n\nexport function sessionUser() {\n\tconst cookies = new URLSearchParams(document.cookie.split(\"; \").join(\"&\"))\n\tlet _sessionUser = cookies.get(\"user_id\")\n\tif (_sessionUser === \"Guest\") {\n\t\t_sessionUser = null\n\t}\n\treturn _sessionUser\n}\n\nexport const session = reactive({\n\tlogin: createResource({\n\t\turl: \"login\",\n\t\tmakeParams({ email, password }) {\n\t\t\treturn {\n\t\t\t\tusr: email,\n\t\t\t\tpwd: password,\n\t\t\t}\n\t\t},\n\t\tonSuccess(data) {\n\t\t\tuserResource.reload()\n\t\t\tsession.user = sessionUser()\n\t\t\tsession.login.reset()\n\t\t\t// Always redirect to Vue SPA home page, not Frappe's default_route (/app or /desk)\n\t\t\trouter.replace(\"/\")\n\t\t},\n\t}),\n\tlogout: createResource({\n\t\turl: \"logout\",\n\t\tonSuccess() {\n\t\t\tuserResource.reset()\n\t\t\tsession.user = sessionUser()\n\t\t\trouter.replace({ name: \"Login\" })\n\t\t},\n\t}),\n\tuser: sessionUser(),\n\tisLoggedIn: computed(() => !!session.user),\n})\n","import { userResource } from \"@/data/user\"\nimport { createRouter, createWebHistory } from \"vue-router\"\nimport { session } from \"./data/session\"\n\nconst routes = [\n\t{\n\t\tpath: \"/\",\n\t\tname: \"Home\",\n\t\tcomponent: () => import(\"@/pages/Home.vue\"),\n\t},\n\t{\n\t\tpath: \"/pricing\",\n\t\tname: \"Pricing\",\n\t\tcomponent: () => import(\"@/pages/Pricing.vue\"),\n\t},\n\t{\n\t\tpath: \"/api\",\n\t\tname: \"API\",\n\t\tcomponent: () => import(\"@/pages/APIDocumentation.vue\"),\n\t},\n\t// New Onboarding Flow\n\t{\n\t\tname: \"Auth\",\n\t\tpath: \"/auth\",\n\t\tcomponent: () => import(\"@/pages/onboarding/AuthView.vue\"),\n\t\tmeta: { isOnboarding: true },\n\t},\n\t{\n\t\tname: \"ConnectApps\",\n\t\tpath: \"/connect\",\n\t\tcomponent: () => import(\"@/pages/onboarding/ConnectAppsView.vue\"),\n\t\tmeta: { requiresAuth: true, isOnboarding: true, step: 2 },\n\t},\n\t{\n\t\tname: \"Integrate\",\n\t\tpath: \"/integrate\",\n\t\tcomponent: () => import(\"@/pages/onboarding/IntegrateView.vue\"),\n\t\tmeta: { requiresAuth: true, isOnboarding: true, step: 3 },\n\t},\n\t// Legacy Auth Routes (kept for compatibility)\n\t{\n\t\tname: \"Login\",\n\t\tpath: \"/account/login\",\n\t\tcomponent: () => import(\"@/pages/Login.vue\"),\n\t},\n\t{\n\t\tname: \"Signup\",\n\t\tpath: \"/account/signup\",\n\t\tcomponent: () => import(\"@/pages/Signup.vue\"),\n\t},\n\t{\n\t\tname: \"EmailVerification\",\n\t\tpath: \"/account/verify-email\",\n\t\tcomponent: () => import(\"@/pages/EmailVerification.vue\"),\n\t},\n\t{\n\t\tname: \"OAuthCallback\",\n\t\tpath: \"/oauth/callback\",\n\t\tcomponent: () => import(\"@/pages/OAuthCallback.vue\"),\n\t},\n\t// Dashboard (post-onboarding)\n\t{\n\t\tname: \"Dashboard\",\n\t\tpath: \"/dashboard\",\n\t\tcomponent: () => import(\"@/pages/Dashboard.vue\"),\n\t\tmeta: { requiresAuth: true },\n\t},\n\t// Workflow Builder\n\t{\n\t\tname: \"WorkflowBuilder\",\n\t\tpath: \"/workflow/create\",\n\t\tcomponent: () => import(\"@/pages/WorkflowBuilder.vue\"),\n\t\tmeta: { requiresAuth: true },\n\t},\n\t// Account Management\n\t{\n\t\tpath: \"/account\",\n\t\tcomponent: () => import(\"@/layouts/AccountLayout.vue\"),\n\t\tmeta: { requiresAuth: true },\n\t\tredirect: \"/account/profile\",\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tpath: \"profile\",\n\t\t\t\tname: \"AccountProfile\",\n\t\t\t\tcomponent: () => import(\"@/pages/account/ProfileView.vue\"),\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"subscription\",\n\t\t\t\tname: \"AccountSubscription\",\n\t\t\t\tcomponent: () => import(\"@/pages/account/SubscriptionView.vue\"),\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"integrations\",\n\t\t\t\tname: \"AccountIntegrations\",\n\t\t\t\tcomponent: () => import(\"@/pages/account/IntegrationsView.vue\"),\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"settings\",\n\t\t\t\tname: \"AccountSettings\",\n\t\t\t\tcomponent: () => import(\"@/pages/account/SettingsView.vue\"),\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"security\",\n\t\t\t\tname: \"AccountSecurity\",\n\t\t\t\tcomponent: () => import(\"@/pages/account/SecurityView.vue\"),\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"delete\",\n\t\t\t\tname: \"AccountDelete\",\n\t\t\t\tcomponent: () => import(\"@/pages/account/DeleteAccountView.vue\"),\n\t\t\t},\n\t\t],\n\t},\n]\n\nconst router = createRouter({\n\thistory: createWebHistory(\"/\"),\n\troutes,\n})\n\nrouter.beforeEach(async (to, from, next) => {\n\t// Public routes that don't require authentication\n\tconst publicRoutes = [\"Home\", \"Pricing\", \"API\", \"Auth\", \"OAuthCallback\", \"Signup\", \"Login\", \"EmailVerification\"]\n\n\t// Check if user is logged in\n\tlet isLoggedIn = session.isLoggedIn\n\ttry {\n\t\tawait userResource.promise\n\t\tisLoggedIn = session.isLoggedIn\n\t} catch (error) {\n\t\tisLoggedIn = false\n\t}\n\n\t// Protected routes require authentication\n\tif (to.matched.some(record => record.meta.requiresAuth)) {\n\t\tif (!isLoggedIn) {\n\t\t\t// Redirect to auth if not authenticated\n\t\t\tnext({ name: \"Auth\", query: { redirect: to.fullPath } })\n\t\t\treturn\n\t\t}\n\t}\n\n\t// Redirect authenticated users away from auth routes to dashboard\n\tif ((to.name === \"Auth\" || to.name === \"Login\" || to.name === \"Signup\") && isLoggedIn) {\n\t\tnext({ name: \"Dashboard\" })\n\t\treturn\n\t}\n\n\t// Allow public routes without authentication\n\tif (publicRoutes.includes(to.name)) {\n\t\tnext()\n\t\treturn\n\t}\n\n\tnext()\n})\n\nexport default router\n","import { io } from \"socket.io-client\"\nimport { socketio_port } from \"../../../../sites/common_site_config.json\"\n\nlet socket = null\nexport function initSocket() {\n\t// Disable socket.io for development\n\t// TODO: Configure proper socketio_port when needed\n\tsocket = {\n\t\ton: () => {},\n\t\temit: () => {},\n\t\toff: () => {},\n\t}\n\treturn socket\n}\n\nexport function useSocket() {\n\treturn socket\n}\n","// Note: frappe shim is initialized in index.html BEFORE any scripts load\n// This ensures frappe-ui components have access to window.frappe during module loading\n\nimport { createApp } from \"vue\"\nimport { createPinia } from \"pinia\"\n\nimport App from \"./App.vue\"\nimport router from \"./router\"\nimport { initSocket } from \"./socket\"\n\nimport {\n\tAlert,\n\tBadge,\n\tButton,\n\tCard,\n\tDialog,\n\tErrorMessage,\n\tFormControl,\n\tInput,\n\tTextInput,\n\tfrappeRequest,\n\tpageMetaPlugin,\n\tresourcesPlugin,\n\tsetConfig,\n} from \"frappe-ui\"\n\nimport \"./index.css\"\nimport \"./styles/design-tokens.css\"\n// Note: Bootstrap JavaScript removed - using Tailwind CSS only\n// Bootstrap CSS kept for legacy components during migration\n\n// Toast notifications\nimport Toast from \"vue-toastification\"\nimport \"vue-toastification/dist/index.css\"\n\nconst globalComponents = {\n\tButton,\n\tCard,\n\tTextInput,\n\tInput,\n\tFormControl,\n\tErrorMessage,\n\tDialog,\n\tAlert,\n\tBadge,\n}\n\nconst app = createApp(App)\nconst pinia = createPinia()\n\nsetConfig(\"resourceFetcher\", frappeRequest)\n\napp.use(pinia)\napp.use(router)\napp.use(resourcesPlugin)\napp.use(pageMetaPlugin)\n\n// Configure toast notifications\napp.use(Toast, {\n\tposition: \"top-right\",\n\ttimeout: 5000,\n\tcloseOnClick: true,\n\tpauseOnFocusLoss: true,\n\tpauseOnHover: true,\n\tdraggable: true,\n\tdraggablePercent: 0.6,\n\tshowCloseButtonOnHover: false,\n\thideProgressBar: false,\n\tcloseButton: \"button\",\n\ticon: true,\n\trtl: false,\n\ttransition: \"Vue-Toastification__bounce\",\n\tmaxToasts: 5,\n\tnewestOnTop: true\n})\n\nconst socket = initSocket()\napp.config.globalProperties.$socket = socket\n\nfor (const key in globalComponents) {\n\tapp.component(key, globalComponents[key])\n}\n\napp.mount(\"#app\")\n"],"file":"assets/index-BzuWbMgy.js"}