import{a as C}from"./ui-components-C03O-79n.js";import{ar as B,aO as V,r,b as E,as as I,c as k,d,e,n as z,a8 as m,a3 as g,z as f,ao as p,a4 as l,an as i}from"./vendor-C-giSDFQ.js";import{g as M}from"./frappe-ui-BGcfCLpI.js";import"./vendor-libs-DnVO2VCf.js";const N={class:"auth-page"},R={class:"container"},S={class:"flex justify-center"},j={class:"col-lg-5 col-md-7"},H={class:"card shadow-lg border-0 mt-5"},T={class:"card-body p-4 text-center"},D={class:"mb-4"},L={class:"font-bold text-dark mb-3"},$={class:"d-grid gap-2"},q=["disabled"],A={key:0,class:"spinner-border spinner-border-sm mr-2"},F={__name:"EmailVerification",setup(O){const h=V(),_=r(h.query.email||"your email"),s=r(!1),c=r(!1),o=r(""),t=r(0);let n=null;const y=M({url:"frappe.core.doctype.user.user.sign_up",makeParams(){return{email:_.value,resend:1}},onSuccess(){s.value=!1,c.value=!0,o.value="",t.value=60,w(),setTimeout(()=>{c.value=!1},5e3)},onError(u){s.value=!1,o.value=u.messages?u.messages.join(", "):"Failed to resend email",setTimeout(()=>{o.value=""},5e3)}});function x(){t.value>0||(s.value=!0,c.value=!1,o.value="",y.submit())}function w(){n&&clearInterval(n),n=setInterval(()=>{t.value--,t.value<=0&&clearInterval(n)},1e3)}return E(()=>{n&&clearInterval(n)}),(u,a)=>{const v=C,b=I("router-link");return d(),k("div",N,[e("div",R,[e("div",S,[e("div",j,[e("div",H,[a[6]||(a[6]=z('<div class="card-header bg-gradient-primary p-4 text-center" data-v-856acdbc><div class="mb-3" data-v-856acdbc><svg class="verification-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-856acdbc><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-856acdbc></path></svg></div><h3 class="text-white font-bold mb-0" data-v-856acdbc>Check Your Email</h3></div>',1)),e("div",T,[e("div",D,[a[0]||(a[0]=e("p",{class:"text-gray-600 mb-3"}," We've sent a verification link to: ",-1)),e("p",L,p(_.value),1),a[1]||(a[1]=e("p",{class:"text-gray-600 text-sm"}," Click the link in the email to verify your account and complete your registration. ",-1))]),m(v,{variant:"info","hide-icon":"",class:"mb-4"},{default:l(()=>[...a[2]||(a[2]=[e("svg",{class:"info-icon",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),e("small",null,"Didn't receive the email? Check your spam folder or wait a few minutes.",-1)])]),_:1}),e("div",$,[e("button",{onClick:x,class:"btn btn-outline-primary",disabled:s.value||t.value>0},[s.value?(d(),k("span",A)):f("",!0),i(" "+p(s.value?"Sending...":t.value>0?`Resend in ${t.value}s`:"Resend Email"),1)],8,q),m(b,{to:"/account/login",class:"btn btn-primary no-underline"},{default:l(()=>[...a[3]||(a[3]=[i(" Continue to Login ",-1)])]),_:1}),m(b,{to:"/",class:"btn btn-link text-gray-600 no-underline"},{default:l(()=>[...a[4]||(a[4]=[e("svg",{class:"back-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),i(" Back to Home ",-1)])]),_:1})]),c.value?(d(),g(v,{key:0,variant:"success",class:"mt-3"},{default:l(()=>[...a[5]||(a[5]=[i(" âœ“ Verification email sent successfully! ",-1)])]),_:1})):f("",!0),o.value?(d(),g(v,{key:1,variant:"danger",class:"mt-3"},{default:l(()=>[i(p(o.value),1)]),_:1})):f("",!0)])])])])])])}}},G=B(F,[["__scopeId","data-v-856acdbc"]]);export{G as default};
//# sourceMappingURL=EmailVerification-CvAPsQQe.js.map
