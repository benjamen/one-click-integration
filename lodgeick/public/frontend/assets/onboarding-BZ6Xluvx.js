var d=(t,i,u)=>new Promise((l,o)=>{var p=c=>{try{a(u.next(c))}catch(f){o(f)}},v=c=>{try{a(u.throw(c))}catch(f){o(f)}},a=c=>c.done?l(c.value):Promise.resolve(c.value).then(p,v);a((u=u.apply(t,i)).next())});import{aP as O,r,y as g}from"./vendor-C-giSDFQ.js";import{j as P}from"./frappe-ui-BGcfCLpI.js";import"./vendor-libs-DnVO2VCf.js";const L=O("onboarding",()=>{const t=r(1),i=r(4),u=r(!1),l=r([]),o=r([]),p=r({}),v=r(!1),a=r([]),c=g(()=>t.value/i.value*100),f=g(()=>{switch(t.value){case 1:return!0;case 2:return l.value.length>0;case 3:return o.value.length>0;case 4:return!0;default:return!1}}),m=g(()=>l.value.length>0);function b(){return d(this,null,function*(){if(!(a.value.length>0)){v.value=!0;try{const e=yield P("lodgeick.api.catalog.get_app_catalog");e.success&&e.apps&&(a.value=e.apps.map(n=>({id:n.app_name,name:n.display_name||n.app_name,description:n.description,icon:h(n.app_name),color:_(n.category),logo_url:n.logo_url,category:n.category,oauth_provider:n.oauth_provider,isConnected:!1,use_cases:n.use_cases||[]})))}catch(e){console.error("Failed to load apps:",e)}finally{v.value=!1}}})}function h(e){return{jira:"ğŸ¯",slack:"ğŸ’¬",hubspot:"ğŸ¨",google_sheets:"ğŸ“Š",salesforce:"â˜ï¸",mailchimp:"âœ‰ï¸",xero:"ğŸ’¼"}[e]||"ğŸ”Œ"}function _(e){return{CRM:"bg-orange-500",Communication:"bg-purple-500",Productivity:"bg-green-500",Finance:"bg-blue-600",Marketing:"bg-yellow-500","Project Management":"bg-blue-500"}[e]||"bg-gray-500"}function y(e){t.value=e}function C(){t.value<i.value&&t.value++}function A(){t.value>1&&t.value--}function S(e){const n=a.value.find(s=>s.id===e);n&&!n.isConnected&&(n.isConnected=!0,l.value.push(e))}function M(e){const n=a.value.find(s=>s.id===e);n&&(n.isConnected=!1,l.value=l.value.filter(s=>s!==e),o.value=o.value.filter(s=>!s.includes(e)))}function j(e,n){const s=`${e}-${n}`;o.value.includes(s)||o.value.push(s)}function k(e){o.value=o.value.filter(n=>n!==e)}function w(e,n){p.value[e]=n}function x(){u.value=!0,t.value=1}function F(){t.value=1,u.value=!1,l.value=[],o.value=[],p.value={},a.value.forEach(e=>{e.isConnected=!1})}return{currentStep:t,totalSteps:i,isCompleted:u,connectedApps:l,selectedIntegrations:o,fieldMappings:p,availableApps:a,isLoadingApps:v,progress:c,canContinue:f,hasConnectedApps:m,loadApps:b,setStep:y,nextStep:C,previousStep:A,connectApp:S,disconnectApp:M,addIntegration:j,removeIntegration:k,saveFieldMapping:w,completeOnboarding:x,resetOnboarding:F}});export{L as u};
//# sourceMappingURL=onboarding-BZ6Xluvx.js.map
