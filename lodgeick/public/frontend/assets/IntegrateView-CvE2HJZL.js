var Le=Object.defineProperty;var je=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var Oe=(u,b,r)=>b in u?Le(u,b,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[b]=r,ee=(u,b)=>{for(var r in b||(b={}))Re.call(b,r)&&Oe(u,r,b[r]);if(je)for(var r of je(b))Ue.call(b,r)&&Oe(u,r,b[r]);return u};var se=(u,b,r)=>new Promise((x,h)=>{var v=m=>{try{y(r.next(m))}catch(w){h(w)}},f=m=>{try{y(r.throw(m))}catch(w){h(w)}},y=m=>m.done?x(m.value):Promise.resolve(m.value).then(v,f);y((r=r.apply(u,b)).next())});import{A as Ne,_ as ie,l as V,c as o,o as l,a as e,t as c,j as g,B as De,q as $,k as p,m as ne,C as ze,D as te,v as le,e as n,F as G,f as B,n as re,d as k,w as S,b as R,x as U,y as oe,E as Me,g as ae,G as Ie,u as Te,r as Ee,p as Ge,s as Fe}from"./index-gTSziVZ3.js";import{c as We,u as Ve}from"./onboarding-BRj5bDVx.js";import{_ as He,a as Be}from"./SecondaryButton-D5inhcOT.js";import{_ as Ye}from"./PrimaryButton-C-zCzuwM.js";function Xe(){const u=Ne();return{success:(b,r={})=>{u.success(b,ee({timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1},r))},error:(b,r={})=>{u.error(b,ee({timeout:7e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1},r))},warning:(b,r={})=>{u.warning(b,ee({timeout:6e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1},r))},info:(b,r={})=>{u.info(b,ee({timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1},r))},clear:()=>{u.clear()}}}const Je=["type","disabled","aria-label"],Ke={key:0,class:"inline-flex items-center"},Qe={key:1,class:"inline-flex items-center"},Ze={__name:"BaseButton",props:{variant:{type:String,default:"primary",validator:u=>["primary","secondary","success","warning","danger","info","light","dark","outline-primary","outline-secondary","link"].includes(u)},size:{type:String,default:"md",validator:u=>["sm","md","lg"].includes(u)},type:{type:String,default:"button",validator:u=>["button","submit","reset"].includes(u)},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:null},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},ariaLabel:{type:String,default:null},fullWidth:{type:Boolean,default:!1}},emits:["click"],setup(u,{emit:b}){const r=u,x=b,h=V(()=>{const f=["inline-flex items-center justify-center","font-semibold","rounded-lg","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed"];r.fullWidth&&f.push("w-full");const y={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};f.push(y[r.size]);const m={primary:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 focus:ring-blue-500 shadow-md hover:shadow-lg",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500 shadow-md hover:shadow-lg",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 shadow-md hover:shadow-lg",warning:"bg-yellow-500 text-white hover:bg-yellow-600 focus:ring-yellow-500 shadow-md hover:shadow-lg",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-md hover:shadow-lg",info:"bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400 shadow-md hover:shadow-lg",light:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-300 border border-gray-300",dark:"bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-700 shadow-md hover:shadow-lg","outline-primary":"bg-transparent border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white focus:ring-blue-500","outline-secondary":"bg-transparent border-2 border-gray-600 text-gray-600 hover:bg-gray-600 hover:text-white focus:ring-gray-500",link:"bg-transparent text-blue-600 hover:text-blue-800 hover:underline focus:ring-blue-500 px-0 py-0 shadow-none"};return f.push(m[r.variant]),f.join(" ")});function v(f){!r.disabled&&!r.loading&&x("click",f)}return(f,y)=>(l(),o("button",{type:u.type,disabled:u.disabled||u.loading,class:$(h.value),"aria-label":u.ariaLabel,onClick:v},[u.loading?(l(),o("span",Ke,[y[0]||(y[0]=e("svg",{class:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e("span",null,c(u.loadingText||"Loading..."),1)])):(l(),o("span",Qe,[u.iconLeft?(l(),o("i",{key:0,class:$([u.iconLeft,"mr-2"])},null,2)):g("",!0),De(f.$slots,"default",{},void 0,!0),u.iconRight?(l(),o("i",{key:1,class:$([u.iconRight,"ml-2"])},null,2)):g("",!0)]))],10,Je))}},_=ie(Ze,[["__scopeId","data-v-8c10d6c8"]]),et={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},tt={class:"modal-content"},st={class:"modal-header bg-gradient-primary"},at={class:"w-100"},lt={"aria-label":"breadcrumb",class:"mb-2"},ot={class:"flex items-center gap-2 text-sm"},it={class:"flex items-center"},nt={class:"flex items-center","aria-current":"page"},rt={class:"text-white font-medium"},dt={class:"modal-body p-4"},ct={class:"row mb-4"},ut={class:"col-12"},vt={class:"d-flex justify-content-between align-items-center"},ft={key:0,class:"fas fa-check"},mt={key:1},gt={class:"d-block text-muted"},pt={class:"step-content"},bt={key:0,class:"step"},ht={class:"text-center text-muted mb-4"},yt={class:"row g-4"},xt={key:0,class:"col-md-4"},wt={class:"card-body text-center p-4"},kt={class:"card-title font-weight-bold"},Ct={class:"card-text text-muted small"},_t={class:"mt-3"},St={class:"badge bg-success me-1"},$t={class:"text-start"},At={class:"small text-muted mb-2",style:{"font-size":"0.85rem"}},Pt={class:"small text-muted",style:{"font-size":"0.85rem"}},qt={key:1,class:"col-md-4"},jt={class:"card-body text-center p-4 position-relative"},Ot={key:0,class:"position-absolute top-0 end-0 p-2"},zt={class:"badge bg-warning"},It={class:"card-title font-weight-bold"},Gt={class:"card-text text-muted small"},Bt={class:"mt-3"},Mt={key:0,class:"badge bg-success me-1"},Lt={class:"badge bg-primary"},Rt={key:1,class:"alert alert-warning small mb-2"},Ut={class:"text-start"},Nt={class:"small text-muted mb-2",style:{"font-size":"0.85rem"}},Dt={key:2,class:"mt-3"},Tt={class:"card-body text-center p-4"},Et={class:"card-title font-weight-bold"},Ft={class:"card-text text-muted small"},Wt={class:"mt-3"},Vt={class:"badge bg-info"},Ht={class:"text-start"},Yt={class:"small text-muted mb-2",style:{"font-size":"0.85rem"}},Xt={class:"text-center mt-4"},Jt={key:1,class:"step"},Kt={key:2,class:"step"},Qt={key:3,class:"step"},Zt={key:4,class:"step"},es={class:"setup-steps"},ts={class:"mb-3"},ss={class:"input-group mt-2"},as=["value"],ls={key:5,class:"step"},os={class:"mb-3"},is={class:"mb-3"},ns={class:"input-group"},rs=["type"],ds={key:0,class:"alert alert-success"},cs={key:6,class:"step text-center"},us={class:"alert alert-info"},vs={class:"modal-footer"},fs={__name:"OAuthSetupWizard",props:{show:{type:Boolean,default:!1},provider:{type:String,required:!0}},emits:["close","success","launchAIWizard"],setup(u,{emit:b}){const r=u,x=b,h=Xe(),v=p(0),f=p("default"),y=p(""),m=p(""),w=p(!1),A=p(!1),M=p(!0),d=p(null),j=p(null);p(null),ne(()=>se(this,null,function*(){try{M.value=!0;const a=yield We("lodgeick.api.oauth_tiers.get_tier_config",{provider:r.provider});d.value=a,O()}catch(a){j.value=`Failed to load setup options: ${a.message}`,h.error(`Failed to load setup options: ${a.message||"Please try again"}`)}finally{M.value=!1}}));function q(){const a={provider:r.provider,setupMethod:f.value,currentStep:v.value,clientId:y.value,clientSecret:m.value,timestamp:Date.now()};localStorage.setItem(`oauth_progress_${r.provider}`,JSON.stringify(a))}function O(){const a=localStorage.getItem(`oauth_progress_${r.provider}`);if(a)try{const s=JSON.parse(a);(Date.now()-s.timestamp)/(1e3*60*60)<24?(f.value=s.setupMethod||"default",v.value=s.currentStep||0,y.value=s.clientId||"",m.value=s.clientSecret||"",h.info("Resumed your previous OAuth setup",{timeout:4e3})):z()}catch(s){console.error("Failed to load progress:",s)}}function z(){localStorage.removeItem(`oauth_progress_${r.provider}`)}ze([f,v,y,m],()=>{v.value>0&&v.value<5&&q()},{deep:!0}),ze(()=>r.show,a=>{a&&!d.value&&ne()});const L=V(()=>({google:"Google (Gmail, Sheets, Drive)",xero:"Xero",slack:"Slack",microsoft:"Microsoft 365",hubspot:"HubSpot",salesforce:"Salesforce",stripe:"Stripe"})[r.provider]||r.provider),H=V(()=>{var s,P;if(!f.value||!d.value)return"";const a=(P=(s=d.value)==null?void 0:s.tiers)==null?void 0:P[f.value];return(a==null?void 0:a.label)||f.value}),E=V(()=>window.location.origin+"/oauth/callback"),N=[{title:"Create Project"},{title:"Enable APIs"},{title:"Consent Screen"},{title:"Create Credentials"},{title:"Configure"},{title:"Complete"}],F=te({url:"lodgeick.api.oauth.save_user_oauth_setup",makeParams(a){return a!=null&&a.use_default?{provider:r.provider,tier:"default",use_default:!0}:{provider:r.provider,tier:f.value||"manual",client_id:y.value,client_secret:m.value}},onSuccess(a){A.value=!1,a.ready_to_connect&&(v.value=5,h.success("OAuth credentials saved successfully! ðŸŽ‰")),x("success",{provider:r.provider,tier:f.value,ready_to_connect:a.ready_to_connect})},onError(a){A.value=!1,h.error(`Failed to save credentials: ${a.message||a}`,{timeout:7e3})}});function Y(){f.value==="default"?(A.value=!0,F.submit({provider:r.provider,tier:"default",use_default:!0})):f.value==="ai"?(x("launchAIWizard"),i()):v.value=1}function X(){v.value<N.length-1&&v.value++}function J(){v.value>0&&v.value--}function W(){if(!y.value||!m.value){h.warning("Please enter both Client ID and Client Secret");return}A.value=!0,F.submit()}function D(a){navigator.clipboard.writeText(a).then(()=>{h.success("Copied to clipboard!");const P=event.target.closest("button").querySelector("i");P.className="fas fa-check",setTimeout(()=>{P.className="fas fa-copy"},2e3)}).catch(()=>{h.error("Failed to copy to clipboard")})}function i(){v.value===5&&z(),v.value=0,f.value="default",y.value="",m.value="",w.value=!1,x("close")}function t(){var s,P,I;const a=((I=(P=(s=d.value)==null?void 0:s.tiers)==null?void 0:P.ai)==null?void 0:I.upgrade_tier)||"Pro";h.info(`Upgrade to ${a} to unlock AI-powered OAuth setup! Includes: Unlimited API quota, AI-powered setup (2 min), Access to all APIs, Priority support.`,{timeout:1e4})}return(a,s)=>{var P,I,K,Q,Z,de,ce,ue,ve,fe,me,ge,pe,be,he,ye,xe,we,ke,Ce,_e,Se,$e,Ae,Pe,qe;return l(),o("div",{class:$(["modal fade",{show:u.show,"d-block":u.show}]),tabindex:"-1",style:re({backgroundColor:u.show?"rgba(0,0,0,0.5)":""}),onClick:le(i,["self"])},[e("div",et,[e("div",tt,[e("div",st,[e("div",at,[e("nav",lt,[e("ol",ot,[e("li",it,[e("a",{href:"#",class:"text-white/75 hover:text-white transition-colors flex items-center gap-1",onClick:le(i,["prevent"])},[...s[7]||(s[7]=[e("i",{class:"fas fa-home"},null,-1),e("span",null,"Home",-1)])])]),s[8]||(s[8]=e("li",{class:"text-white/50"},"/",-1)),s[9]||(s[9]=e("li",{class:"flex items-center"},[e("span",{class:"text-white/75"},"Integrations")],-1)),s[10]||(s[10]=e("li",{class:"text-white/50"},"/",-1)),e("li",nt,[e("span",rt,c(L.value)+" Setup",1)])])]),s[11]||(s[11]=e("h5",{class:"modal-title text-white font-weight-bold mb-0"},[e("i",{class:"fas fa-magic me-2"}),n(" OAuth Setup Wizard ")],-1))]),e("button",{type:"button",class:"btn-close btn-close-white","aria-label":"Close OAuth setup wizard",onClick:i})]),e("div",dt,[e("div",ct,[e("div",ut,[e("div",vt,[(l(),o(G,null,B(N,(C,T)=>e("div",{key:T,class:"flex-fill text-center position-relative"},[e("div",{class:$(["step-circle mx-auto mb-2",{active:v.value===T,completed:v.value>T}])},[v.value>T?(l(),o("i",ft)):(l(),o("span",mt,c(T+1),1))],2),e("small",gt,c(C.title),1),T<N.length-1?(l(),o("div",{key:0,class:$(["step-line",{completed:v.value>T}])},null,2)):g("",!0)])),64))])])]),e("div",pt,[v.value===0?(l(),o("div",bt,[s[26]||(s[26]=e("h5",{class:"font-weight-bold mb-3 text-center"},[e("i",{class:"fas fa-route text-primary me-2"}),n(" Choose Your Setup Method ")],-1)),e("p",ht," Select how you'd like to set up your "+c(L.value)+" integration ",1),e("div",yt,[(K=(I=(P=d.value)==null?void 0:P.tiers)==null?void 0:I.default)!=null&&K.enabled?(l(),o("div",xt,[e("div",{class:$(["card h-100 setup-option",{"border-primary selected":f.value==="default"}]),onClick:s[0]||(s[0]=C=>f.value="default"),style:{cursor:"pointer"}},[e("div",wt,[s[15]||(s[15]=e("div",{class:"mb-3"},[e("i",{class:"fas fa-bolt fa-3x text-warning"})],-1)),e("h5",kt,c(d.value.tiers.default.icon)+" "+c(d.value.tiers.default.label),1),e("p",Ct,c(d.value.tiers.default.description),1),e("div",_t,[e("span",St,c(d.value.tiers.default.setup_time),1),s[12]||(s[12]=e("span",{class:"badge bg-info"},"No Setup",-1))]),s[16]||(s[16]=e("hr",{class:"my-3"},null,-1)),e("div",$t,[s[13]||(s[13]=e("div",{class:"small text-success mb-2"},[e("i",{class:"fas fa-check-circle me-1"}),n(),e("strong",null,"Pros:")],-1)),e("ul",At,[(l(!0),o(G,null,B(d.value.tiers.default.advantages.slice(0,3),C=>(l(),o("li",{key:C},c(C),1))),128))]),s[14]||(s[14]=e("div",{class:"small text-warning mb-2"},[e("i",{class:"fas fa-exclamation-circle me-1"}),n(),e("strong",null,"Limits:")],-1)),e("ul",Pt,[(l(!0),o(G,null,B(d.value.tiers.default.limitations.slice(0,2),C=>(l(),o("li",{key:C},c(C),1))),128))])])])],2)])):g("",!0),(Z=(Q=d.value)==null?void 0:Q.tiers)!=null&&Z.ai?(l(),o("div",qt,[e("div",{class:$(["card h-100 setup-option",{"border-primary selected":f.value==="ai","locked-tier":d.value.tiers.ai.upgrade_required}]),onClick:s[1]||(s[1]=C=>d.value.tiers.ai.enabled?f.value="ai":null),style:re({cursor:d.value.tiers.ai.enabled?"pointer":"not-allowed",opacity:d.value.tiers.ai.enabled?1:.7})},[e("div",jt,[d.value.tiers.ai.upgrade_required?(l(),o("div",Ot,[e("span",zt,[s[17]||(s[17]=e("i",{class:"fas fa-lock me-1"},null,-1)),n(" "+c(d.value.tiers.ai.upgrade_tier)+" Only ",1)])])):g("",!0),s[20]||(s[20]=e("div",{class:"mb-3"},[e("i",{class:"fas fa-robot fa-3x text-primary"})],-1)),e("h5",It,c(d.value.tiers.ai.icon)+" "+c(d.value.tiers.ai.label),1),e("p",Gt,c(d.value.tiers.ai.description),1),e("div",Bt,[d.value.tiers.ai.enabled?(l(),o("span",Mt,"Recommended")):g("",!0),e("span",Lt,c(d.value.tiers.ai.setup_time),1)]),s[21]||(s[21]=e("hr",{class:"my-3"},null,-1)),d.value.tiers.ai.upgrade_required?(l(),o("div",Rt,[s[18]||(s[18]=e("i",{class:"fas fa-star me-1"},null,-1)),n(" "+c(d.value.tiers.ai.upgrade_message),1)])):g("",!0),e("div",Ut,[s[19]||(s[19]=e("div",{class:"small text-success mb-2"},[e("i",{class:"fas fa-check-circle me-1"}),n(),e("strong",null,"Pros:")],-1)),e("ul",Nt,[(l(!0),o(G,null,B(d.value.tiers.ai.advantages.slice(0,3),C=>(l(),o("li",{key:C},c(C),1))),128))])]),d.value.tiers.ai.upgrade_required?(l(),o("div",Dt,[k(_,{variant:"warning",size:"sm","full-width":"",onClick:le(t,["stop"]),"icon-left":"fas fa-arrow-up"},{default:S(()=>[n(" Upgrade to "+c(d.value.tiers.ai.upgrade_tier),1)]),_:1})])):g("",!0)])],6)])):g("",!0),(ue=(ce=(de=d.value)==null?void 0:de.tiers)==null?void 0:ce.manual)!=null&&ue.enabled?(l(),o("div",{key:2,class:$((me=(fe=(ve=d.value)==null?void 0:ve.tiers)==null?void 0:fe.ai)!=null&&me.enabled?"col-md-4":"col-md-6")},[e("div",{class:$(["card h-100 setup-option",{"border-primary selected":f.value==="manual"}]),onClick:s[2]||(s[2]=C=>f.value="manual"),style:{cursor:"pointer"}},[e("div",Tt,[s[24]||(s[24]=e("div",{class:"mb-3"},[e("i",{class:"fas fa-tools fa-3x text-secondary"})],-1)),e("h5",Et,c(((be=(pe=(ge=d.value)==null?void 0:ge.tiers)==null?void 0:pe.manual)==null?void 0:be.icon)||"ðŸ”§")+" "+c(((xe=(ye=(he=d.value)==null?void 0:he.tiers)==null?void 0:ye.manual)==null?void 0:xe.label)||"Manual Setup"),1),e("p",Ft,c(((Ce=(ke=(we=d.value)==null?void 0:we.tiers)==null?void 0:ke.manual)==null?void 0:Ce.description)||"Step-by-step setup"),1),e("div",Wt,[s[22]||(s[22]=e("span",{class:"badge bg-secondary"},"Advanced",-1)),e("span",Vt,c((($e=(Se=(_e=d.value)==null?void 0:_e.tiers)==null?void 0:Se.manual)==null?void 0:$e.setup_time)||"~10 min"),1)]),s[25]||(s[25]=e("hr",{class:"my-3"},null,-1)),e("div",Ht,[s[23]||(s[23]=e("div",{class:"small text-success mb-2"},[e("i",{class:"fas fa-check-circle me-1"}),n(),e("strong",null,"Pros:")],-1)),e("ul",Yt,[(l(!0),o(G,null,B((((qe=(Pe=(Ae=d.value)==null?void 0:Ae.tiers)==null?void 0:Pe.manual)==null?void 0:qe.advantages)||[]).slice(0,3),C=>(l(),o("li",{key:C},c(C),1))),128))])])])],2)],2)):g("",!0)]),e("div",Xt,[k(_,{variant:"primary",size:"lg",onClick:Y,disabled:!f.value,"icon-right":"fas fa-arrow-right"},{default:S(()=>[n(" Continue with "+c(H.value),1)]),_:1},8,["disabled"])])])):g("",!0),v.value===0&&u.provider!=="google"?(l(),o("div",Jt,[...s[27]||(s[27]=[R('<h5 class="font-weight-bold mb-3" data-v-fb9d5cd8><i class="fab fa-google text-primary me-2" data-v-fb9d5cd8></i> Create Google Cloud Project </h5><div class="alert alert-info" data-v-fb9d5cd8><i class="fas fa-info-circle me-2" data-v-fb9d5cd8></i> You&#39;ll need a Google account to create a Cloud project. </div><ol class="setup-steps" data-v-fb9d5cd8><li class="mb-3" data-v-fb9d5cd8> Go to <a href="https://console.cloud.google.com" target="_blank" class="text-primary" data-v-fb9d5cd8><strong data-v-fb9d5cd8>Google Cloud Console</strong><i class="fas fa-external-link-alt ms-1 small" data-v-fb9d5cd8></i></a></li><li class="mb-3" data-v-fb9d5cd8> Click the project dropdown at the top <br data-v-fb9d5cd8><small class="text-muted" data-v-fb9d5cd8>It usually says &quot;Select a project&quot; or shows your current project</small></li><li class="mb-3" data-v-fb9d5cd8> Click <strong data-v-fb9d5cd8>&quot;New Project&quot;</strong> in the top right </li><li class="mb-3" data-v-fb9d5cd8> Name your project (e.g., &quot;Lodgeick Integration&quot;) </li><li class="mb-3" data-v-fb9d5cd8> Click <strong data-v-fb9d5cd8>&quot;Create&quot;</strong> and wait for the project to be created </li></ol><div class="text-center mt-4" data-v-fb9d5cd8><img src="https://cloud.google.com/static/images/social-icon-google-cloud-1200-630.png" alt="Google Cloud" class="img-fluid rounded shadow" style="max-height:200px;" data-v-fb9d5cd8></div>',4)])])):g("",!0),v.value===1?(l(),o("div",Kt,[...s[28]||(s[28]=[R('<h5 class="font-weight-bold mb-3" data-v-fb9d5cd8><i class="fas fa-toggle-on text-success me-2" data-v-fb9d5cd8></i> Enable Required APIs </h5><div class="alert alert-warning" data-v-fb9d5cd8><i class="fas fa-exclamation-triangle me-2" data-v-fb9d5cd8></i> Make sure your new project is selected in the project dropdown! </div><ol class="setup-steps" data-v-fb9d5cd8><li class="mb-3" data-v-fb9d5cd8> Go to <a href="https://console.cloud.google.com/apis/library" target="_blank" class="text-primary" data-v-fb9d5cd8><strong data-v-fb9d5cd8>APIs &amp; Services &gt; Library</strong><i class="fas fa-external-link-alt ms-1 small" data-v-fb9d5cd8></i></a></li><li class="mb-3" data-v-fb9d5cd8> Search for and enable these APIs: <div class="mt-2" data-v-fb9d5cd8><span class="badge bg-gradient-primary me-2 mb-2" data-v-fb9d5cd8>Gmail API</span><span class="badge bg-gradient-info me-2 mb-2" data-v-fb9d5cd8>Google Sheets API</span><span class="badge bg-gradient-success me-2 mb-2" data-v-fb9d5cd8>Google Drive API</span></div></li><li class="mb-3" data-v-fb9d5cd8> For each API: <ul class="mt-2" data-v-fb9d5cd8><li data-v-fb9d5cd8>Click on the API name</li><li data-v-fb9d5cd8>Click the blue <strong data-v-fb9d5cd8>&quot;Enable&quot;</strong> button</li><li data-v-fb9d5cd8>Wait for it to activate (takes a few seconds)</li></ul></li></ol>',3)])])):g("",!0),v.value===2?(l(),o("div",Qt,[...s[29]||(s[29]=[R('<h5 class="font-weight-bold mb-3" data-v-fb9d5cd8><i class="fas fa-shield-alt text-warning me-2" data-v-fb9d5cd8></i> Configure OAuth Consent Screen </h5><ol class="setup-steps" data-v-fb9d5cd8><li class="mb-3" data-v-fb9d5cd8> Go to <a href="https://console.cloud.google.com/apis/credentials/consent" target="_blank" class="text-primary" data-v-fb9d5cd8><strong data-v-fb9d5cd8>APIs &amp; Services &gt; OAuth consent screen</strong><i class="fas fa-external-link-alt ms-1 small" data-v-fb9d5cd8></i></a></li><li class="mb-3" data-v-fb9d5cd8> Select <strong data-v-fb9d5cd8>&quot;External&quot;</strong> user type <br data-v-fb9d5cd8><small class="text-muted" data-v-fb9d5cd8>This allows you to use any Google account for testing</small></li><li class="mb-3" data-v-fb9d5cd8> Click <strong data-v-fb9d5cd8>&quot;Create&quot;</strong></li><li class="mb-3" data-v-fb9d5cd8> Fill in the required fields: <div class="card mt-2 bg-light" data-v-fb9d5cd8><div class="card-body" data-v-fb9d5cd8><div class="mb-2" data-v-fb9d5cd8><strong data-v-fb9d5cd8>App name:</strong> Lodgeick</div><div class="mb-2" data-v-fb9d5cd8><strong data-v-fb9d5cd8>User support email:</strong> Your email</div><div class="mb-2" data-v-fb9d5cd8><strong data-v-fb9d5cd8>Developer contact:</strong> Your email</div></div></div></li><li class="mb-3" data-v-fb9d5cd8> Click <strong data-v-fb9d5cd8>&quot;Save and Continue&quot;</strong></li><li class="mb-3" data-v-fb9d5cd8> On the &quot;Scopes&quot; page, click <strong data-v-fb9d5cd8>&quot;Add or Remove Scopes&quot;</strong></li><li class="mb-3" data-v-fb9d5cd8> Search for and select these scopes: <div class="card mt-2 bg-light" data-v-fb9d5cd8><div class="card-body small" data-v-fb9d5cd8><div class="mb-1" data-v-fb9d5cd8><code data-v-fb9d5cd8>https://www.googleapis.com/auth/gmail.readonly</code></div><div class="mb-1" data-v-fb9d5cd8><code data-v-fb9d5cd8>https://www.googleapis.com/auth/gmail.send</code></div><div class="mb-1" data-v-fb9d5cd8><code data-v-fb9d5cd8>https://www.googleapis.com/auth/spreadsheets</code></div><div class="mb-1" data-v-fb9d5cd8><code data-v-fb9d5cd8>https://www.googleapis.com/auth/drive.file</code></div></div></div></li><li class="mb-3" data-v-fb9d5cd8> Click <strong data-v-fb9d5cd8>&quot;Update&quot;</strong> then <strong data-v-fb9d5cd8>&quot;Save and Continue&quot;</strong></li><li class="mb-3" data-v-fb9d5cd8> On the &quot;Test users&quot; page, click <strong data-v-fb9d5cd8>&quot;Add Users&quot;</strong></li><li class="mb-3" data-v-fb9d5cd8> Add your Gmail address (the one you&#39;ll test with) </li><li class="mb-3" data-v-fb9d5cd8> Click <strong data-v-fb9d5cd8>&quot;Save and Continue&quot;</strong> through the remaining steps </li></ol>',2)])])):g("",!0),v.value===3?(l(),o("div",Zt,[s[35]||(s[35]=e("h5",{class:"font-weight-bold mb-3"},[e("i",{class:"fas fa-key text-danger me-2"}),n(" Create OAuth 2.0 Credentials ")],-1)),e("ol",es,[s[32]||(s[32]=R('<li class="mb-3" data-v-fb9d5cd8> Go to <a href="https://console.cloud.google.com/apis/credentials" target="_blank" class="text-primary" data-v-fb9d5cd8><strong data-v-fb9d5cd8>APIs &amp; Services &gt; Credentials</strong><i class="fas fa-external-link-alt ms-1 small" data-v-fb9d5cd8></i></a></li><li class="mb-3" data-v-fb9d5cd8> Click <strong data-v-fb9d5cd8>&quot;Create Credentials&quot;</strong> at the top </li><li class="mb-3" data-v-fb9d5cd8> Select <strong data-v-fb9d5cd8>&quot;OAuth 2.0 Client ID&quot;</strong></li><li class="mb-3" data-v-fb9d5cd8> Application type: <strong data-v-fb9d5cd8>&quot;Web application&quot;</strong></li><li class="mb-3" data-v-fb9d5cd8> Name: <strong data-v-fb9d5cd8>&quot;Lodgeick Local&quot;</strong> (or any name you prefer) </li><li class="mb-3" data-v-fb9d5cd8> Under <strong data-v-fb9d5cd8>&quot;Authorized redirect URIs&quot;</strong>, click <strong data-v-fb9d5cd8>&quot;Add URI&quot;</strong></li>',6)),e("li",ts,[s[30]||(s[30]=n(" Add this exact URI: ",-1)),e("div",ss,[e("input",{type:"text",class:"form-control",value:E.value,readonly:""},null,8,as),k(_,{variant:"outline-secondary",size:"md","aria-label":"Copy redirect URI to clipboard",onClick:s[3]||(s[3]=C=>D(E.value)),"icon-left":"fas fa-copy"})]),s[31]||(s[31]=e("small",{class:"text-muted"},"Click the copy button to copy the URI",-1))]),s[33]||(s[33]=e("li",{class:"mb-3"},[n(" Click "),e("strong",null,'"Create"')],-1)),s[34]||(s[34]=e("li",{class:"mb-3"},[n(" A dialog will appear showing your credentials "),e("div",{class:"alert alert-warning mt-2"},[e("i",{class:"fas fa-exclamation-triangle me-2"}),e("strong",null,"Important:"),n(" Copy both the Client ID and Client Secret - you'll need them in the next step! ")])],-1))])])):g("",!0),v.value===4?(l(),o("div",ls,[s[41]||(s[41]=e("h5",{class:"font-weight-bold mb-3"},[e("i",{class:"fas fa-cog text-info me-2"}),n(" Configure Lodgeick ")],-1)),s[42]||(s[42]=e("p",null,"Enter your OAuth credentials from Google Cloud Console:",-1)),e("div",os,[s[36]||(s[36]=e("label",{class:"form-label font-weight-bold"},[n(" Client ID "),e("span",{class:"text-danger"},"*")],-1)),U(e("input",{"onUpdate:modelValue":s[4]||(s[4]=C=>y.value=C),type:"text",class:"form-control",placeholder:"1234567890-abc123def456.apps.googleusercontent.com"},null,512),[[oe,y.value]]),s[37]||(s[37]=e("small",{class:"text-muted"}," Ends with .apps.googleusercontent.com ",-1))]),e("div",is,[s[38]||(s[38]=e("label",{class:"form-label font-weight-bold"},[n(" Client Secret "),e("span",{class:"text-danger"},"*")],-1)),e("div",ns,[U(e("input",{"onUpdate:modelValue":s[5]||(s[5]=C=>m.value=C),type:w.value?"text":"password",class:"form-control",placeholder:"GOCSPX-xxxxxxxxxxxxx"},null,8,rs),[[Me,m.value]]),k(_,{variant:"outline-secondary",size:"md","aria-label":w.value?"Hide client secret":"Show client secret",onClick:s[6]||(s[6]=C=>w.value=!w.value),"icon-left":w.value?"fas fa-eye-slash":"fas fa-eye"},null,8,["aria-label","icon-left"])]),s[39]||(s[39]=e("small",{class:"text-muted"}," Usually starts with GOCSPX- ",-1))]),y.value&&m.value?(l(),o("div",ds,[...s[40]||(s[40]=[e("i",{class:"fas fa-check-circle me-2"},null,-1),n(' Credentials look good! Click "Save & Test Connection" to finish. ',-1)])])):g("",!0)])):g("",!0),v.value===5?(l(),o("div",cs,[s[44]||(s[44]=e("div",{class:"icon icon-shape bg-gradient-success shadow-success mx-auto mb-4",style:{width:"80px",height:"80px"}},[e("i",{class:"fas fa-check text-white",style:{"font-size":"2.5rem"}})],-1)),s[45]||(s[45]=e("h4",{class:"font-weight-bold mb-3"},"Setup Complete!",-1)),s[46]||(s[46]=e("p",{class:"text-muted mb-4"}," Your OAuth credentials have been configured successfully. ",-1)),e("div",us,[s[43]||(s[43]=e("i",{class:"fas fa-lightbulb me-2"},null,-1)),n(' You can now close this wizard and click "Connect App" to authenticate with '+c(L.value)+". ",1)])])):g("",!0)])]),e("div",vs,[v.value>0&&v.value<5?(l(),ae(_,{key:0,variant:"secondary",onClick:J,"icon-left":"fas fa-arrow-left"},{default:S(()=>[...s[47]||(s[47]=[n(" Previous ",-1)])]),_:1})):g("",!0),v.value<4?(l(),ae(_,{key:1,variant:"primary",onClick:X,"icon-right":"fas fa-arrow-right"},{default:S(()=>[...s[48]||(s[48]=[n(" Next ",-1)])]),_:1})):g("",!0),v.value===4?(l(),ae(_,{key:2,variant:"success",onClick:W,disabled:!y.value||!m.value||A.value,loading:A.value,"loading-text":"Saving...","icon-left":"fas fa-save"},{default:S(()=>[...s[49]||(s[49]=[n(" Save & Test Connection ",-1)])]),_:1},8,["disabled","loading"])):g("",!0),v.value===5?(l(),ae(_,{key:3,variant:"primary",onClick:i,"icon-left":"fas fa-check"},{default:S(()=>[...s[50]||(s[50]=[n(" Done ",-1)])]),_:1})):g("",!0)])])])],6)}}},ms=ie(fs,[["__scopeId","data-v-fb9d5cd8"]]),gs={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},ps={class:"modal-content"},bs={class:"modal-body p-4"},hs={key:0,class:"step"},ys={class:"mb-3"},xs=["disabled"],ws={key:0,class:"alert alert-danger"},ks={key:1,class:"step"},Cs={class:"alert alert-info"},_s={class:"list-group mb-4"},Ss={class:"d-flex justify-content-between align-items-start"},$s={class:"mb-1"},As={class:"mb-1 text-muted small"},Ps={class:"mt-2"},qs={class:"small"},js={key:0,class:"badge bg-warning text-dark"},Os={key:0,class:"alert alert-warning"},zs={class:"mb-0 mt-2"},Is={class:"card mt-4"},Gs={class:"card-body"},Bs={class:"row g-3"},Ms={class:"col-md-6"},Ls={class:"form-check"},Rs={class:"col-md-6"},Us={class:"form-check"},Ns={class:"flex gap-2 mt-4"},Ds={key:1,class:"mt-3 p-3 border rounded bg-light"},Ts={key:2,class:"step"},Es={class:"card mb-3"},Fs={class:"card-body"},Ws={class:"mt-2"},Vs={class:"badge bg-primary me-2"},Hs={class:"small text-muted"},Ys={class:"card mb-3"},Xs={class:"card-body"},Js={class:"mt-2 p-2 bg-light rounded"},Ks={class:"card mb-3"},Qs={class:"card-body"},Zs={class:"input-group mt-2"},ea=["value"],ta={class:"flex gap-2 mt-4"},sa={key:3,class:"step"},aa={class:"text-center mb-4"},la={class:"text-muted"},oa={class:"alert alert-success"},ia={key:0,class:"alert alert-warning"},na={class:"mb-0 mt-2"},ra={class:"card bg-light mt-4"},da={class:"card-body"},ca={class:"small"},ua={class:"mb-2"},va=["href"],fa={class:"mb-2"},ma={class:"bg-white px-2 py-1 rounded"},ga={key:4,class:"step"},pa={class:"mb-3"},ba={class:"mb-3"},ha={class:"input-group"},ya=["type"],xa={key:5,class:"step text-center"},wa={__name:"GoogleAISetupWizard",props:{show:{type:Boolean,default:!1}},emits:["close","success"],setup(u,{emit:b}){const r=b,x=p("intent"),h=p("auto"),v=p(""),f=p(null),y=p(""),m=p(null),w=p(""),A=p(""),M=p(!1),d=p(!1),j=p(!1),q=p(!1),O=p(!1),z=p(null),L=V(()=>window.location.origin+"/api/method/lodgeick.api.oauth.oauth_callback"),H=te({url:"lodgeick.api.google_ai_setup.parse_intent",makeParams(){return{intent:v.value}},onSuccess(i){j.value=!1,i.success?(f.value=i,x.value="preview",z.value=null):z.value=i.error||"Failed to parse intent"},onError(i){j.value=!1,z.value=i.message||i}}),E=te({url:"lodgeick.api.google_ai_setup.create_project",makeParams(){return{project_name:y.value,intent_data:JSON.stringify(f.value)}},onSuccess(i){q.value=!1,i.success?(m.value=i,x.value="project_created"):alert("Failed to create project: "+(i.error||"Unknown error"))},onError(i){q.value=!1,alert("Error creating project: "+(i.message||i))}}),N=te({url:"lodgeick.api.google_ai_setup.setup_oauth_credentials",makeParams(){return{project_id:m.value.project_id,client_id:w.value,client_secret:A.value}},onSuccess(i){O.value=!1,i.success?(x.value="complete",r("success",{project:m.value,credentials:{client_id:w.value,n8n_credential_id:i.n8n_credential_id}})):alert("Failed to save credentials: "+(i.error||"Unknown error"))},onError(i){O.value=!1,alert("Error saving credentials: "+(i.message||i))}});function F(){j.value=!0,z.value=null,H.submit()}function Y(){h.value==="auto"?d.value=!0:x.value="manual_instructions"}function X(){q.value=!0,E.submit()}function J(){O.value=!0,N.submit()}function W(i){navigator.clipboard.writeText(i).then(()=>{const a=event.target.closest("button").querySelector("i"),s=a.className;a.className="fas fa-check",setTimeout(()=>{a.className=s},2e3)})}function D(){x.value="intent",h.value="auto",v.value="",f.value=null,y.value="",m.value=null,w.value="",A.value="",M.value=!1,d.value=!1,z.value=null,r("close")}return(i,t)=>(l(),o("div",{class:$(["modal fade",{show:u.show,"d-block":u.show}]),tabindex:"-1",style:re({backgroundColor:u.show?"rgba(0,0,0,0.5)":""}),onClick:le(D,["self"])},[e("div",gs,[e("div",ps,[e("div",{class:"modal-header bg-gradient-ai"},[t[13]||(t[13]=e("h5",{class:"modal-title text-white font-weight-bold"},[e("i",{class:"fas fa-robot me-2"}),n(" AI-Powered Google Integration Setup ")],-1)),e("button",{type:"button",class:"btn-close btn-close-white",onClick:D})]),e("div",bs,[x.value==="intent"?(l(),o("div",hs,[t[18]||(t[18]=e("h5",{class:"font-weight-bold mb-3"},[e("i",{class:"fas fa-comment-dots text-primary me-2"}),n(" What do you want to integrate? ")],-1)),t[19]||(t[19]=e("p",{class:"text-muted"}," Describe in plain English what Google services you want to connect. Our AI will figure out which APIs and permissions you need. ",-1)),e("div",ys,[t[14]||(t[14]=e("label",{class:"form-label font-weight-bold"},"Your Integration Request",-1)),U(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=a=>v.value=a),class:"form-control",rows:"4",placeholder:"Example: I want to read and send emails from Gmail, and create spreadsheets in Google Sheets",disabled:j.value},null,8,xs),[[oe,v.value]]),t[15]||(t[15]=e("small",{class:"text-muted"},' Try: "Connect to Google Drive and Gmail" or "Access Google Calendar and Sheets" ',-1))]),z.value?(l(),o("div",ws,[t[16]||(t[16]=e("i",{class:"fas fa-exclamation-circle me-2"},null,-1)),n(" "+c(z.value),1)])):g("",!0),k(_,{variant:"primary",size:"lg","full-width":"",onClick:F,disabled:!v.value||j.value,loading:j.value,"loading-text":"AI is analyzing your request...","icon-left":"fas fa-magic"},{default:S(()=>[...t[17]||(t[17]=[n(" Analyze with AI ",-1)])]),_:1},8,["disabled","loading"])])):g("",!0),x.value==="preview"?(l(),o("div",ks,[t[39]||(t[39]=e("h5",{class:"font-weight-bold mb-3"},[e("i",{class:"fas fa-list-check text-success me-2"}),n(" AI Analysis Results ")],-1)),e("div",Cs,[t[20]||(t[20]=e("i",{class:"fas fa-robot me-2"},null,-1)),t[21]||(t[21]=e("strong",null,"AI Reasoning:",-1)),n(" "+c(f.value.reasoning),1)]),t[40]||(t[40]=e("h6",{class:"font-weight-bold mt-4 mb-3"},"Required Google APIs:",-1)),e("div",_s,[(l(!0),o(G,null,B(f.value.apis,a=>(l(),o("div",{key:a.name,class:"list-group-item"},[e("div",Ss,[e("div",null,[e("h6",$s,[t[22]||(t[22]=e("i",{class:"fab fa-google text-primary me-2"},null,-1)),n(" "+c(a.display_name),1)]),e("p",As,c(a.description),1),e("div",Ps,[(l(!0),o(G,null,B(a.scopes,s=>(l(),o("span",{key:s,class:"badge bg-light text-dark me-1 mb-1"},[e("code",qs,c(s),1)]))),128))])]),f.value.billing_apis&&f.value.billing_apis.includes(a.name)?(l(),o("span",js,[...t[23]||(t[23]=[e("i",{class:"fas fa-credit-card me-1"},null,-1),n(" Billing Required ",-1)])])):g("",!0)])]))),128))]),f.value.billing_required?(l(),o("div",Os,[t[25]||(t[25]=e("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),t[26]||(t[26]=e("strong",null,"Billing Account Required",-1)),e("p",zs,[t[24]||(t[24]=n(" The following APIs require a billing account to be linked to your Google Cloud project: ",-1)),e("strong",null,c(f.value.billing_apis.join(", ")),1)]),t[27]||(t[27]=e("p",{class:"mb-0 mt-2 small"}," Make sure your Google Cloud project has billing enabled before proceeding. ",-1))])):g("",!0),e("div",Is,[e("div",Gs,[t[34]||(t[34]=e("h6",{class:"font-weight-bold mb-3"},[e("i",{class:"fas fa-route text-primary me-2"}),n(" Choose Your Setup Method ")],-1)),e("div",Bs,[e("div",Ms,[e("div",{class:$(["border rounded p-3 h-100",{"border-primary bg-light":h.value==="auto"}])},[e("div",Ls,[U(e("input",{class:"form-check-input",type:"radio",name:"setupMethod",id:"autoSetup",value:"auto","onUpdate:modelValue":t[1]||(t[1]=a=>h.value=a)},null,512),[[Ie,h.value]]),t[28]||(t[28]=e("label",{class:"form-check-label font-weight-bold",for:"autoSetup"},[e("i",{class:"fas fa-magic text-primary me-2"}),n(" Automated Setup (New Project) ")],-1))]),t[29]||(t[29]=e("p",{class:"small text-muted mt-2 mb-0"}," Let Lodgeick create a new Google Cloud project and enable APIs for you automatically. ",-1)),t[30]||(t[30]=e("div",{class:"mt-2"},[e("span",{class:"badge bg-success me-1"},"Recommended"),e("span",{class:"badge bg-info"},"Fastest")],-1))],2)]),e("div",Rs,[e("div",{class:$(["border rounded p-3 h-100",{"border-primary bg-light":h.value==="manual"}])},[e("div",Us,[U(e("input",{class:"form-check-input",type:"radio",name:"setupMethod",id:"manualSetup",value:"manual","onUpdate:modelValue":t[2]||(t[2]=a=>h.value=a)},null,512),[[Ie,h.value]]),t[31]||(t[31]=e("label",{class:"form-check-label font-weight-bold",for:"manualSetup"},[e("i",{class:"fas fa-hand-pointer text-warning me-2"}),n(" Manual Setup (Existing Project) ")],-1))]),t[32]||(t[32]=e("p",{class:"small text-muted mt-2 mb-0"}," I already have a Google Cloud project and want to use my existing setup. ",-1)),t[33]||(t[33]=e("div",{class:"mt-2"},[e("span",{class:"badge bg-secondary"},"Advanced")],-1))],2)])])])]),e("div",Ns,[k(_,{variant:"secondary",onClick:t[3]||(t[3]=a=>x.value="intent"),"icon-left":"fas fa-arrow-left"},{default:S(()=>[...t[35]||(t[35]=[n(" Back ",-1)])]),_:1}),k(_,{variant:"primary","full-width":"",onClick:Y,disabled:!h.value,"icon-left":"fas fa-arrow-right"},{default:S(()=>[n(" Continue with "+c(h.value==="auto"?"Automated":"Manual")+" Setup ",1)]),_:1},8,["disabled"])]),d.value&&h.value==="auto"?(l(),o("div",Ds,[t[37]||(t[37]=e("h6",{class:"font-weight-bold mb-3"},[e("i",{class:"fas fa-folder-plus me-2"}),n(" Name Your New Project ")],-1)),U(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>y.value=a),type:"text",class:"form-control mb-3",placeholder:"e.g., My Lodgeick Integration"},null,512),[[oe,y.value]]),t[38]||(t[38]=e("small",{class:"text-muted d-block mb-3"}," A unique project ID will be generated automatically ",-1)),k(_,{variant:"success","full-width":"",onClick:X,disabled:!y.value||q.value,loading:q.value,"loading-text":"Creating project and enabling APIs...","icon-left":"fas fa-rocket"},{default:S(()=>[...t[36]||(t[36]=[n(" Create Google Cloud Project ",-1)])]),_:1},8,["disabled","loading"])])):g("",!0)])):g("",!0),x.value==="manual_instructions"?(l(),o("div",Ts,[t[49]||(t[49]=R('<h5 class="font-weight-bold mb-3" data-v-91175c4c><i class="fas fa-list-ol text-primary me-2" data-v-91175c4c></i> Manual Setup Instructions </h5><div class="alert alert-info" data-v-91175c4c><i class="fas fa-info-circle me-2" data-v-91175c4c></i> Follow these steps in your Google Cloud Console to set up the required APIs and OAuth credentials. </div><div class="card mb-3" data-v-91175c4c><div class="card-header bg-light" data-v-91175c4c><h6 class="mb-0 font-weight-bold" data-v-91175c4c><i class="fas fa-project-diagram me-2" data-v-91175c4c></i> Step 1: Use Existing or Create New Project </h6></div><div class="card-body" data-v-91175c4c><ol class="mb-0" data-v-91175c4c><li class="mb-2" data-v-91175c4c> Go to <a href="https://console.cloud.google.com" target="_blank" class="text-primary" data-v-91175c4c> Google Cloud Console <i class="fas fa-external-link-alt ms-1 small" data-v-91175c4c></i></a></li><li class="mb-2" data-v-91175c4c>Select an existing project or create a new one</li><li data-v-91175c4c>Copy your project ID (you&#39;ll need it later)</li></ol></div></div>',3)),e("div",Es,[t[42]||(t[42]=e("div",{class:"card-header bg-light"},[e("h6",{class:"mb-0 font-weight-bold"},[e("i",{class:"fas fa-toggle-on me-2"}),n(" Step 2: Enable Required APIs ")])],-1)),e("div",Fs,[t[41]||(t[41]=R('<ol class="mb-2" data-v-91175c4c><li class="mb-2" data-v-91175c4c> Go to <a href="https://console.cloud.google.com/apis/library" target="_blank" class="text-primary" data-v-91175c4c> APIs &amp; Services &gt; Library <i class="fas fa-external-link-alt ms-1 small" data-v-91175c4c></i></a></li><li class="mb-2" data-v-91175c4c>Enable these APIs in your project:</li></ol>',1)),e("div",Ws,[(l(!0),o(G,null,B(f.value.apis,a=>(l(),o("div",{key:a.name,class:"mb-2"},[e("span",Vs,c(a.display_name),1),e("code",Hs,c(a.name),1)]))),128))])])]),e("div",Ys,[t[44]||(t[44]=e("div",{class:"card-header bg-light"},[e("h6",{class:"mb-0 font-weight-bold"},[e("i",{class:"fas fa-shield-alt me-2"}),n(" Step 3: Configure OAuth Consent Screen ")])],-1)),e("div",Xs,[t[43]||(t[43]=R('<ol class="mb-0" data-v-91175c4c><li class="mb-2" data-v-91175c4c> Go to <a href="https://console.cloud.google.com/apis/credentials/consent" target="_blank" class="text-primary" data-v-91175c4c> OAuth consent screen <i class="fas fa-external-link-alt ms-1 small" data-v-91175c4c></i></a></li><li class="mb-2" data-v-91175c4c>Choose &quot;External&quot; user type</li><li class="mb-2" data-v-91175c4c>Fill in app name: <strong data-v-91175c4c>Lodgeick</strong></li><li class="mb-2" data-v-91175c4c>Add required scopes:</li></ol>',1)),e("div",Js,[(l(!0),o(G,null,B(f.value.apis,a=>(l(),o("div",{key:a.name},[(l(!0),o(G,null,B(a.scopes,s=>(l(),o("code",{class:"small d-block",key:s},c(s),1))),128))]))),128))])])]),e("div",Ks,[t[46]||(t[46]=e("div",{class:"card-header bg-light"},[e("h6",{class:"mb-0 font-weight-bold"},[e("i",{class:"fas fa-key me-2"}),n(" Step 4: Create OAuth Credentials ")])],-1)),e("div",Qs,[t[45]||(t[45]=R('<ol class="mb-2" data-v-91175c4c><li class="mb-2" data-v-91175c4c> Go to <a href="https://console.cloud.google.com/apis/credentials" target="_blank" class="text-primary" data-v-91175c4c> Credentials <i class="fas fa-external-link-alt ms-1 small" data-v-91175c4c></i></a></li><li class="mb-2" data-v-91175c4c>Click &quot;Create Credentials&quot; â†’ &quot;OAuth 2.0 Client ID&quot;</li><li class="mb-2" data-v-91175c4c>Application type: <strong data-v-91175c4c>Web application</strong></li><li class="mb-2" data-v-91175c4c>Add authorized redirect URI:</li></ol>',1)),e("div",Zs,[e("input",{type:"text",class:"form-control font-monospace",value:L.value,readonly:""},null,8,ea),k(_,{variant:"outline-secondary",onClick:t[5]||(t[5]=a=>W(L.value)),"icon-left":"fas fa-copy"})])])]),e("div",ta,[k(_,{variant:"secondary",onClick:t[6]||(t[6]=a=>x.value="preview"),"icon-left":"fas fa-arrow-left"},{default:S(()=>[...t[47]||(t[47]=[n(" Back ",-1)])]),_:1}),k(_,{variant:"primary","full-width":"",onClick:t[7]||(t[7]=a=>x.value="oauth_input"),"icon-right":"fas fa-arrow-right"},{default:S(()=>[...t[48]||(t[48]=[n(" I've Completed the Setup ",-1)])]),_:1})])])):g("",!0),x.value==="project_created"?(l(),o("div",sa,[e("div",aa,[t[52]||(t[52]=e("div",{class:"icon-shape bg-gradient-success shadow-success mx-auto mb-3",style:{width:"80px",height:"80px"}},[e("i",{class:"fas fa-check text-white",style:{"font-size":"2.5rem"}})],-1)),t[53]||(t[53]=e("h4",{class:"font-weight-bold"},"Project Created Successfully!",-1)),e("p",la,[t[50]||(t[50]=n(" Google Cloud project ",-1)),e("strong",null,c(m.value.project_id),1),t[51]||(t[51]=n(" is ready ",-1))])]),e("div",oa,[t[54]||(t[54]=e("i",{class:"fas fa-check-circle me-2"},null,-1)),e("strong",null,c(m.value.apis_enabled.length)+" APIs Enabled:",1),n(" "+c(m.value.apis_enabled.join(", ")),1)]),m.value.apis_failed&&m.value.apis_failed.length>0?(l(),o("div",ia,[t[55]||(t[55]=e("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),t[56]||(t[56]=e("strong",null,"Some APIs failed to enable:",-1)),e("ul",na,[(l(!0),o(G,null,B(m.value.apis_failed,a=>(l(),o("li",{key:a.api},c(a.api)+": "+c(a.error),1))),128))])])):g("",!0),e("div",ra,[e("div",da,[t[63]||(t[63]=e("h6",{class:"font-weight-bold mb-3"},[e("i",{class:"fas fa-key text-warning me-2"}),n(" Next: Create OAuth Credentials ")],-1)),t[64]||(t[64]=e("p",{class:"small text-muted mb-3"}," You need to manually create OAuth credentials in Google Cloud Console. Follow these steps: ",-1)),e("ol",ca,[e("li",ua,[t[58]||(t[58]=n(" Go to ",-1)),e("a",{href:`https://console.cloud.google.com/apis/credentials?project=${m.value.project_id}`,target:"_blank",class:"text-primary"},[...t[57]||(t[57]=[n(" Google Cloud Console - Credentials ",-1),e("i",{class:"fas fa-external-link-alt ms-1"},null,-1)])],8,va)]),t[60]||(t[60]=e("li",{class:"mb-2"},"Configure OAuth consent screen (if not done already)",-1)),t[61]||(t[61]=e("li",{class:"mb-2"},"Create OAuth 2.0 Client ID (Web application)",-1)),e("li",fa,[t[59]||(t[59]=n(" Add redirect URI: ",-1)),e("code",ma,c(L.value),1),k(_,{variant:"outline-secondary",size:"sm",onClick:t[8]||(t[8]=a=>W(L.value)),"icon-left":"fas fa-copy",class:"ms-2"})]),t[62]||(t[62]=e("li",null,"Copy the Client ID and Client Secret",-1))])])]),k(_,{variant:"primary","full-width":"",class:"mt-3",onClick:t[9]||(t[9]=a=>x.value="oauth_input"),"icon-left":"fas fa-arrow-right"},{default:S(()=>[...t[65]||(t[65]=[n(" I've Created OAuth Credentials ",-1)])]),_:1})])):g("",!0),x.value==="oauth_input"?(l(),o("div",ga,[t[69]||(t[69]=e("h5",{class:"font-weight-bold mb-3"},[e("i",{class:"fas fa-key text-primary me-2"}),n(" Enter OAuth Credentials ")],-1)),e("div",pa,[t[66]||(t[66]=e("label",{class:"form-label font-weight-bold"},[n(" Client ID "),e("span",{class:"text-danger"},"*")],-1)),U(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>w.value=a),type:"text",class:"form-control",placeholder:"123456789-abc123def456.apps.googleusercontent.com"},null,512),[[oe,w.value]])]),e("div",ba,[t[67]||(t[67]=e("label",{class:"form-label font-weight-bold"},[n(" Client Secret "),e("span",{class:"text-danger"},"*")],-1)),e("div",ha,[U(e("input",{"onUpdate:modelValue":t[11]||(t[11]=a=>A.value=a),type:M.value?"text":"password",class:"form-control",placeholder:"GOCSPX-xxxxxxxxxxxxx"},null,8,ya),[[Me,A.value]]),k(_,{variant:"outline-secondary",onClick:t[12]||(t[12]=a=>M.value=!M.value),"icon-left":M.value?"fas fa-eye-slash":"fas fa-eye"},null,8,["icon-left"])])]),k(_,{variant:"success","full-width":"",onClick:J,disabled:!w.value||!A.value||O.value,loading:O.value,"loading-text":"Saving & Syncing to n8n...","icon-left":"fas fa-save"},{default:S(()=>[...t[68]||(t[68]=[n(" Save & Sync to n8n ",-1)])]),_:1},8,["disabled","loading"])])):g("",!0),x.value==="complete"?(l(),o("div",xa,[t[71]||(t[71]=R('<div class="icon-shape bg-gradient-success shadow-success mx-auto mb-4" style="width:100px;height:100px;" data-v-91175c4c><i class="fas fa-check-double text-white" style="font-size:3rem;" data-v-91175c4c></i></div><h4 class="font-weight-bold mb-3" data-v-91175c4c>Setup Complete!</h4><p class="text-muted mb-4" data-v-91175c4c> Your Google Cloud integration is ready to use. Credentials have been synced to n8n. </p><div class="alert alert-success" data-v-91175c4c><i class="fas fa-info-circle me-2" data-v-91175c4c></i> You can now use these credentials in your n8n workflows and Lodgeick integrations. </div>',4)),k(_,{variant:"primary",size:"lg",onClick:D,"icon-left":"fas fa-check"},{default:S(()=>[...t[70]||(t[70]=[n(" Done ",-1)])]),_:1})])):g("",!0)])])])],6))}},ka=ie(wa,[["__scopeId","data-v-91175c4c"]]),Ca={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_a={class:"p-6"},Sa={class:"flex items-center justify-between"},$a={class:"flex items-center gap-4"},Aa={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-12"},Pa={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},qa={class:"flex items-start justify-between mb-4"},ja={class:"flex items-center gap-4"},Oa={class:"text-xl font-bold text-gray-900"},za={class:"text-sm text-gray-500"},Ia={key:0,class:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},Ga={key:1,class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ba={key:2,class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ma={class:"space-y-3"},La={class:"flex items-center gap-3"},Ra={class:"flex-1"},Ua=["onClick"],Na={key:1,class:"text-xs text-green-600"},Da={class:"flex items-center gap-3"},Ta={class:"flex-1"},Ea=["onClick","disabled"],Fa={key:1,class:"text-xs text-green-600"},Wa={key:2,class:"text-xs text-gray-500"},Va={class:"flex items-center gap-3"},Ha={class:"flex-1"},Ya=["onClick","disabled"],Xa={key:1,class:"text-xs text-green-600"},Ja={key:2,class:"text-xs text-gray-500"},Ka={class:"flex justify-between items-center"},Qa={class:"flex gap-3"},Za={__name:"IntegrateView",setup(u){const b=Te(),r=Ve(),x=()=>{Fe.logout.submit()},h=p(!1),v=p(!1),f=p(""),y=p(null),m=p(null),w=p({}),A=p({}),M=p({}),d=i=>r.availableApps.find(t=>t.id===i),j=i=>A.value[i]===!0,q=i=>M.value[i]===!0,O=i=>q(i)&&w.value[i]?"connected":j(i)?"credentials":"not-connected",z=V(()=>r.connectedApps.every(i=>q(i)&&w.value[i])),L=i=>{const t=d(i);t&&(f.value=t.oauth_provider||i,h.value=!0)},H=i=>{h.value=!1;const t=r.connectedApps.find(a=>{const s=d(a);return s&&(s.oauth_provider===i.provider||s.id===i.provider)});t&&(A.value[t]=!0)},E=()=>{h.value=!1,v.value=!0},N=i=>{v.value=!1;const t=r.connectedApps.find(a=>{const s=d(a);return s&&(s.oauth_provider==="google"||s.id==="google")});t&&(A.value[t]=!0),alert("Google Cloud integration setup complete! You can now authorize access.")},F=i=>se(this,null,function*(){const t=d(i);if(!t)return;y.value=i;const a=t.oauth_provider||i;try{const s=yield X.submit({provider:a});s.success&&s.authorization_url&&(window.location.href=s.authorization_url)}catch(s){console.error("Failed to initiate OAuth:",s),alert("Failed to start authorization. Please check your credentials.")}finally{y.value=null}}),Y=i=>se(this,null,function*(){const t=d(i);if(t){m.value=i,t.oauth_provider;try{yield new Promise(a=>setTimeout(a,1500)),w.value[i]=!0}catch(a){console.error("Connection test failed:",a),alert("Connection test failed. Please try authorizing again.")}finally{m.value=null}}}),X=te({url:"lodgeick.api.oauth.initiate_oauth",makeParams(i){return{provider:i.provider,redirect_uri:window.location.origin+"/oauth/callback"}}}),J=()=>{r.nextStep(),b.push({name:"Configure"})},W=()=>{r.completeOnboarding(),b.push({name:"Dashboard"})},D=()=>{r.previousStep(),b.push({name:"ConnectApps"})};return ne(()=>{if(r.connectedApps.length===0){b.push({name:"ConnectApps"});return}const i=new URLSearchParams(window.location.search),t=i.get("oauth_success"),a=i.get("provider");if(t==="true"&&a){const s=r.connectedApps.find(P=>{const I=d(P);return I&&(I.oauth_provider===a||I.id===a)});s&&(M.value[s]=!0,A.value[s]=!0),window.history.replaceState({},document.title,window.location.pathname)}}),(i,t)=>{const a=Ee("router-link");return l(),o("div",Ca,[e("div",_a,[e("div",Sa,[k(a,{to:"/",class:"inline-flex items-center gap-3 group no-underline"},{default:S(()=>[...t[2]||(t[2]=[e("div",{class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},[e("span",{class:"text-white font-bold text-xl"},"L")],-1),e("span",{class:"text-2xl font-bold text-gray-900"},"Lodgeick",-1)])]),_:1}),e("div",$a,[k(a,{to:"/account/profile",class:"text-gray-700 hover:text-blue-600 font-medium transition-colors no-underline flex items-center gap-2"},{default:S(()=>[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),n(" My Account ",-1)])]),_:1}),e("button",{onClick:x,class:"text-gray-700 hover:text-red-600 font-medium transition-colors flex items-center gap-2"},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),n(" Log Out ",-1)])])])])]),e("div",Aa,[k(He,{"current-step":Ge(r).currentStep,"total-steps":4},null,8,["current-step"]),t[13]||(t[13]=e("div",{class:"text-center mb-12"},[e("h1",{class:"text-4xl font-bold text-gray-900 mb-4"}," Connect Your Apps "),e("p",{class:"text-xl text-gray-600 max-w-2xl mx-auto"}," Set up OAuth credentials and authorize each app to enable seamless integrations ")],-1)),e("div",Pa,[(l(!0),o(G,null,B(Ge(r).connectedApps,s=>{var P,I,K,Q;return l(),o("div",{key:s,class:"bg-white rounded-2xl shadow-lg p-6 transition-all duration-200 hover:shadow-xl"},[e("div",qa,[e("div",ja,[e("div",{class:$(["w-16 h-16 rounded-lg flex items-center justify-center text-3xl",(P=d(s))==null?void 0:P.color])},c((I=d(s))==null?void 0:I.icon),3),e("div",null,[e("h3",Oa,c((K=d(s))==null?void 0:K.name),1),e("p",za,c((Q=d(s))==null?void 0:Q.description),1)])]),e("div",{class:$(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",O(s)==="connected"?"bg-green-100":O(s)==="credentials"?"bg-yellow-100":"bg-gray-100"])},[O(s)==="connected"?(l(),o("svg",Ia,[...t[5]||(t[5]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):O(s)==="credentials"?(l(),o("svg",Ga,[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])])):(l(),o("svg",Ba,[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},null,-1)])]))],2)]),e("div",Ma,[e("div",La,[e("div",{class:$(["flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",j(s)?"bg-green-500 text-white":"bg-gray-300 text-gray-700"])},c(j(s)?"âœ“":"1"),3),e("div",Ra,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-900"}," OAuth Credentials ",-1)),j(s)?(l(),o("p",Na," Configured ")):(l(),o("button",{key:0,onClick:Z=>L(s),class:"text-xs text-blue-600 hover:text-blue-700 font-medium"}," Set up credentials â†’ ",8,Ua))])]),e("div",Da,[e("div",{class:$(["flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",q(s)?"bg-green-500 text-white":j(s)?"bg-blue-500 text-white":"bg-gray-300 text-gray-700"])},c(q(s)?"âœ“":"2"),3),e("div",Ta,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-900"}," Authorize Access ",-1)),j(s)&&!q(s)?(l(),o("button",{key:0,onClick:Z=>F(s),disabled:y.value===s,class:"text-xs text-blue-600 hover:text-blue-700 font-medium disabled:opacity-50"},c(y.value===s?"Authorizing...":"Authorize now â†’"),9,Ea)):q(s)?(l(),o("p",Fa," Authorized ")):(l(),o("p",Wa," Complete step 1 first "))])]),e("div",Va,[e("div",{class:$(["flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",w.value[s]?"bg-green-500 text-white":q(s)?"bg-blue-500 text-white":"bg-gray-300 text-gray-700"])},c(w.value[s]?"âœ“":"3"),3),e("div",Ha,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-900"}," Test Connection ",-1)),q(s)&&!w.value[s]?(l(),o("button",{key:0,onClick:Z=>Y(s),disabled:m.value===s,class:"text-xs text-blue-600 hover:text-blue-700 font-medium disabled:opacity-50"},c(m.value===s?"Testing...":"Test now â†’"),9,Ya)):w.value[s]?(l(),o("p",Xa," Connection verified ")):(l(),o("p",Ja," Complete step 2 first "))])])])])}),128))]),e("div",Ka,[k(Be,{label:"Back",onClick:D},{icon:S(()=>[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),e("div",Qa,[k(Be,{label:"Skip for Now",onClick:W}),k(Ye,{label:"Continue",disabled:!z.value,onClick:J},{iconRight:S(()=>[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["disabled"])])])]),k(ms,{show:h.value,provider:f.value,onClose:t[0]||(t[0]=s=>h.value=!1),onSuccess:H,onLaunchAIWizard:E},null,8,["show","provider"]),k(ka,{show:v.value,onClose:t[1]||(t[1]=s=>v.value=!1),onSuccess:N},null,8,["show"])])}}},ol=ie(Za,[["__scopeId","data-v-5ee591ec"]]);export{ol as default};
//# sourceMappingURL=IntegrateView-CvE2HJZL.js.map
