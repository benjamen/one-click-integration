var v=(y,f,r)=>new Promise((t,m)=>{var p=n=>{try{a(r.next(n))}catch(i){m(i)}},g=n=>{try{a(r.throw(n))}catch(i){m(i)}},a=n=>n.done?t(n.value):Promise.resolve(n.value).then(p,g);a((r=r.apply(y,f)).next())});import{f as w,a5 as C,c as U,af as V,a as b,o as x,b as o,i as h,w as k,t as N,S as F,L as u,ag as d,D as M}from"./vendor-DHvq1guq.js";import{s as c}from"./index-CxqY9NXx.js";import{_ as P}from"./AccountCard-CqDopJRQ.js";import"./frappe-ui-CIvmTRjx.js";const S={class:"space-y-6"},B={class:"flex items-center space-x-6"},j={class:"flex-shrink-0"},I={class:"w-24 h-24 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold text-3xl shadow-lg"},z={class:"flex-1"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T={class:"flex justify-end space-x-3 pt-4"},A=["disabled"],E={key:0,class:"inline-flex items-center"},G={key:1},Y={__name:"ProfileView",setup(y){const f=w(null),r=w(!1),t=C({first_name:"",last_name:"",email:"",phone:"",bio:""}),m=U(()=>{var e,l;const s=`${t.first_name} ${t.last_name}`.trim();return s?s.split(" ").map(_=>_[0]).join("").toUpperCase().slice(0,2):((l=(e=c.user)==null?void 0:e[0])==null?void 0:l.toUpperCase())||"U"}),p=()=>{var s;(s=f.value)==null||s.click()},g=s=>{const e=s.target.files[0];e&&console.log("File selected:",e.name)},a=()=>v(this,null,function*(){r.value=!0;try{yield new Promise(s=>setTimeout(s,1e3)),console.log("Profile saved:",t),alert("Profile updated successfully!")}catch(s){console.error("Error saving profile:",s),alert("Failed to save profile. Please try again.")}finally{r.value=!1}}),n=()=>{i()},i=()=>{var s,e;t.first_name=((s=c.user_fullname)==null?void 0:s.split(" ")[0])||"",t.last_name=((e=c.user_fullname)==null?void 0:e.split(" ").slice(1).join(" "))||"",t.email=c.user||"",t.phone="",t.bio=""};return V(()=>{i()}),(s,e)=>(x(),b("div",S,[e[15]||(e[15]=o("div",null,[o("h1",{class:"text-2xl font-bold text-gray-900"},"Profile Settings"),o("p",{class:"mt-1 text-sm text-gray-500"},"Manage your personal information and avatar")],-1)),h(P,{title:"Profile Picture",description:"Upload a new avatar or update your existing one"},{default:k(()=>[o("div",B,[o("div",j,[o("div",I,N(m.value),1)]),o("div",z,[e[6]||(e[6]=o("h4",{class:"text-sm font-medium text-gray-900"},"Change Avatar",-1)),e[7]||(e[7]=o("p",{class:"text-sm text-gray-500 mt-1"},"JPG, GIF or PNG. Max size of 2MB.",-1)),o("div",{class:"mt-3 flex space-x-3"},[o("button",{onClick:p,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Upload New "),e[5]||(e[5]=o("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors"}," Remove ",-1))]),o("input",{ref_key:"fileInput",ref:f,type:"file",accept:"image/*",class:"hidden",onChange:g},null,544)])])]),_:1}),h(P,{title:"Personal Information",description:"Update your personal details"},{default:k(()=>[o("form",{onSubmit:F(a,["prevent"]),class:"space-y-4"},[o("div",D,[o("div",null,[e[8]||(e[8]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"First Name",-1)),u(o("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>t.first_name=l),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"John"},null,512),[[d,t.first_name]])]),o("div",null,[e[9]||(e[9]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Last Name",-1)),u(o("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>t.last_name=l),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Doe"},null,512),[[d,t.last_name]])])]),o("div",null,[e[10]||(e[10]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Address",-1)),u(o("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>t.email=l),type:"email",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"john@example.com"},null,512),[[d,t.email]]),e[11]||(e[11]=o("p",{class:"mt-1 text-xs text-gray-500"},"Your email is used for login and notifications",-1))]),o("div",null,[e[12]||(e[12]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone Number",-1)),u(o("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>t.phone=l),type:"tel",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"+1 (555) 123-4567"},null,512),[[d,t.phone]])]),o("div",null,[e[13]||(e[13]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Bio",-1)),u(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=l=>t.bio=l),rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"Tell us about yourself..."},null,512),[[d,t.bio]])]),o("div",T,[o("button",{type:"button",onClick:n,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors"}," Cancel "),o("button",{type:"submit",disabled:r.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value?(x(),b("span",E,[...e[14]||(e[14]=[o("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),M(" Saving... ",-1)])])):(x(),b("span",G,"Save Changes"))],8,A)])],32)]),_:1})]))}};export{Y as default};
//# sourceMappingURL=ProfileView-DShNsNYJ.js.map
